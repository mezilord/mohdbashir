var PO=Object.defineProperty;var IO=(n,e,t)=>e in n?PO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var sa=(n,e,t)=>(IO(n,typeof e!="symbol"?e+"":e,t),t);function RO(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function il(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function BO(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var CM={exports:{}},N2={},TM={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),DO=Symbol.for("react.portal"),kO=Symbol.for("react.fragment"),LO=Symbol.for("react.strict_mode"),OO=Symbol.for("react.profiler"),FO=Symbol.for("react.provider"),NO=Symbol.for("react.context"),UO=Symbol.for("react.forward_ref"),GO=Symbol.for("react.suspense"),zO=Symbol.for("react.memo"),HO=Symbol.for("react.lazy"),Sb=Symbol.iterator;function VO(n){return n===null||typeof n!="object"?null:(n=Sb&&n[Sb]||n["@@iterator"],typeof n=="function"?n:null)}var MM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EM=Object.assign,PM={};function Od(n,e,t){this.props=n,this.context=e,this.refs=PM,this.updater=t||MM}Od.prototype.isReactComponent={};Od.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Od.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function IM(){}IM.prototype=Od.prototype;function F4(n,e,t){this.props=n,this.context=e,this.refs=PM,this.updater=t||MM}var N4=F4.prototype=new IM;N4.constructor=F4;EM(N4,Od.prototype);N4.isPureReactComponent=!0;var Cb=Array.isArray,RM=Object.prototype.hasOwnProperty,U4={current:null},BM={key:!0,ref:!0,__self:!0,__source:!0};function DM(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RM.call(e,r)&&!BM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tp,type:n,key:s,ref:o,props:i,_owner:U4.current}}function WO(n,e){return{$$typeof:Tp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function G4(n){return typeof n=="object"&&n!==null&&n.$$typeof===Tp}function jO(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Tb=/\/+/g;function iv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?jO(""+n.key):e.toString(36)}function N3(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Tp:case DO:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+iv(o,0):r,Cb(i)?(t="",n!=null&&(t=n.replace(Tb,"$&/")+"/"),N3(i,e,t,"",function(u){return u})):i!=null&&(G4(i)&&(i=WO(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Tb,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cb(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+iv(s,a);o+=N3(s,e,t,l,i)}else if(l=VO(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+iv(s,a++),o+=N3(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mm(n,e,t){if(n==null)return n;var r=[],i=0;return N3(n,r,"","",function(s){return e.call(t,s,i++)}),r}function ZO(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xr={current:null},U3={transition:null},JO={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:U3,ReactCurrentOwner:U4};Ht.Children={map:mm,forEach:function(n,e,t){mm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return mm(n,function(){e++}),e},toArray:function(n){return mm(n,function(e){return e})||[]},only:function(n){if(!G4(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ht.Component=Od;Ht.Fragment=kO;Ht.Profiler=OO;Ht.PureComponent=F4;Ht.StrictMode=LO;Ht.Suspense=GO;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;Ht.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=EM({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=U4.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)RM.call(e,l)&&!BM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Tp,type:n.type,key:i,ref:s,props:r,_owner:o}};Ht.createContext=function(n){return n={$$typeof:NO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:FO,_context:n},n.Consumer=n};Ht.createElement=DM;Ht.createFactory=function(n){var e=DM.bind(null,n);return e.type=n,e};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(n){return{$$typeof:UO,render:n}};Ht.isValidElement=G4;Ht.lazy=function(n){return{$$typeof:HO,_payload:{_status:-1,_result:n},_init:ZO}};Ht.memo=function(n,e){return{$$typeof:zO,type:n,compare:e===void 0?null:e}};Ht.startTransition=function(n){var e=U3.transition;U3.transition={};try{n()}finally{U3.transition=e}};Ht.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ht.useCallback=function(n,e){return Xr.current.useCallback(n,e)};Ht.useContext=function(n){return Xr.current.useContext(n)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(n){return Xr.current.useDeferredValue(n)};Ht.useEffect=function(n,e){return Xr.current.useEffect(n,e)};Ht.useId=function(){return Xr.current.useId()};Ht.useImperativeHandle=function(n,e,t){return Xr.current.useImperativeHandle(n,e,t)};Ht.useInsertionEffect=function(n,e){return Xr.current.useInsertionEffect(n,e)};Ht.useLayoutEffect=function(n,e){return Xr.current.useLayoutEffect(n,e)};Ht.useMemo=function(n,e){return Xr.current.useMemo(n,e)};Ht.useReducer=function(n,e,t){return Xr.current.useReducer(n,e,t)};Ht.useRef=function(n){return Xr.current.useRef(n)};Ht.useState=function(n){return Xr.current.useState(n)};Ht.useSyncExternalStore=function(n,e,t){return Xr.current.useSyncExternalStore(n,e,t)};Ht.useTransition=function(){return Xr.current.useTransition()};Ht.version="18.2.0";TM.exports=Ht;var Q=TM.exports;const kr=il(Q),qO=RO({__proto__:null,default:kr},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO=Q,KO=Symbol.for("react.element"),YO=Symbol.for("react.fragment"),QO=Object.prototype.hasOwnProperty,$O=XO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eF={key:!0,ref:!0,__self:!0,__source:!0};function kM(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QO.call(e,r)&&!eF.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:KO,type:n,key:s,ref:o,props:i,_owner:$O.current}}N2.Fragment=YO;N2.jsx=kM;N2.jsxs=kM;CM.exports=N2;var z4=CM.exports;const ro=z4.Fragment,me=z4.jsx,nt=z4.jsxs;var s6={},LM={exports:{}},Ei={},OM={exports:{}},FM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,H){var j=N.length;N.push(H);e:for(;0<j;){var oe=j-1>>>1,te=N[oe];if(0<i(te,H))N[oe]=H,N[j]=te,j=oe;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var H=N[0],j=N.pop();if(j!==H){N[0]=j;e:for(var oe=0,te=N.length,ge=te>>>1;oe<ge;){var Pe=2*(oe+1)-1,Me=N[Pe],de=Pe+1,Ve=N[de];if(0>i(Me,j))de<te&&0>i(Ve,Me)?(N[oe]=Ve,N[de]=j,oe=de):(N[oe]=Me,N[Pe]=j,oe=Pe);else if(de<te&&0>i(Ve,j))N[oe]=Ve,N[de]=j,oe=de;else break e}}return H}function i(N,H){var j=N.sortIndex-H.sortIndex;return j!==0?j:N.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var H=t(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=N)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function S(N){if(v=!1,b(N),!g)if(t(l)!==null)g=!0,ee(R);else{var H=t(u);H!==null&&ce(S,H.startTime-N)}}function R(N,H){g=!1,v&&(v=!1,x(C),C=-1),m=!0;var j=h;try{for(b(H),f=t(l);f!==null&&(!(f.expirationTime>H)||N&&!k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var te=oe(f.expirationTime<=H);H=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),b(H)}else r(l);f=t(l)}if(f!==null)var ge=!0;else{var Pe=t(u);Pe!==null&&ce(S,Pe.startTime-H),ge=!1}return ge}finally{f=null,h=j,m=!1}}var T=!1,B=null,C=-1,P=5,I=-1;function k(){return!(n.unstable_now()-I<P)}function U(){if(B!==null){var N=n.unstable_now();I=N;var H=!0;try{H=B(!0,N)}finally{H?q():(T=!1,B=null)}}else T=!1}var q;if(typeof _=="function")q=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=U,q=function(){$.postMessage(null)}}else q=function(){y(U,0)};function ee(N){B=N,T||(T=!0,q())}function ce(N,H){C=y(function(){N(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(R))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var j=h;h=H;try{return N()}finally{h=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=h;h=N;try{return H()}finally{h=j}},n.unstable_scheduleCallback=function(N,H,j){var oe=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?oe+j:oe):j=oe,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=j+te,N={id:c++,callback:H,priorityLevel:N,startTime:j,expirationTime:te,sortIndex:-1},j>oe?(N.sortIndex=j,e(u,N),t(l)===null&&N===t(u)&&(v?(x(C),C=-1):v=!0,ce(S,j-oe))):(N.sortIndex=te,e(l,N),g||m||(g=!0,ee(R))),N},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(N){var H=h;return function(){var j=h;h=H;try{return N.apply(this,arguments)}finally{h=j}}}})(FM);OM.exports=FM;var tF=OM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=Q,Ci=tF;function Ue(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UM=new Set,Oh={};function Bu(n,e){dd(n,e),dd(n+"Capture",e)}function dd(n,e){for(Oh[n]=e,n=0;n<e.length;n++)UM.add(e[n])}var Ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o6=Object.prototype.hasOwnProperty,nF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mb={},Eb={};function rF(n){return o6.call(Eb,n)?!0:o6.call(Mb,n)?!1:nF.test(n)?Eb[n]=!0:(Mb[n]=!0,!1)}function iF(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function sF(n,e,t,r){if(e===null||typeof e>"u"||iF(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){vr[n]=new Kr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];vr[e]=new Kr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){vr[n]=new Kr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){vr[n]=new Kr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){vr[n]=new Kr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){vr[n]=new Kr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){vr[n]=new Kr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){vr[n]=new Kr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){vr[n]=new Kr(n,5,!1,n.toLowerCase(),null,!1,!1)});var H4=/[\-:]([a-z])/g;function V4(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(H4,V4);vr[e]=new Kr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(H4,V4);vr[e]=new Kr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(H4,V4);vr[e]=new Kr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){vr[n]=new Kr(n,1,!1,n.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){vr[n]=new Kr(n,1,!1,n.toLowerCase(),null,!0,!0)});function W4(n,e,t,r){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sF(e,t,i,r)&&(t=null),r||i===null?rF(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var qo=NM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gm=Symbol.for("react.element"),Ic=Symbol.for("react.portal"),Rc=Symbol.for("react.fragment"),j4=Symbol.for("react.strict_mode"),a6=Symbol.for("react.profiler"),GM=Symbol.for("react.provider"),zM=Symbol.for("react.context"),Z4=Symbol.for("react.forward_ref"),l6=Symbol.for("react.suspense"),u6=Symbol.for("react.suspense_list"),J4=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),HM=Symbol.for("react.offscreen"),Pb=Symbol.iterator;function xf(n){return n===null||typeof n!="object"?null:(n=Pb&&n[Pb]||n["@@iterator"],typeof n=="function"?n:null)}var Cn=Object.assign,sv;function lh(n){if(sv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sv=e&&e[1]||""}return`
`+sv+n}var ov=!1;function av(n,e){if(!n||ov)return"";ov=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{ov=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?lh(n):""}function oF(n){switch(n.tag){case 5:return lh(n.type);case 16:return lh("Lazy");case 13:return lh("Suspense");case 19:return lh("SuspenseList");case 0:case 2:case 15:return n=av(n.type,!1),n;case 11:return n=av(n.type.render,!1),n;case 1:return n=av(n.type,!0),n;default:return""}}function c6(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Rc:return"Fragment";case Ic:return"Portal";case a6:return"Profiler";case j4:return"StrictMode";case l6:return"Suspense";case u6:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case zM:return(n.displayName||"Context")+".Consumer";case GM:return(n._context.displayName||"Context")+".Provider";case Z4:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J4:return e=n.displayName||null,e!==null?e:c6(n.type)||"Memo";case ba:e=n._payload,n=n._init;try{return c6(n(e))}catch{}}return null}function aF(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c6(e);case 8:return e===j4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Za(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function VM(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lF(n){var e=VM(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ym(n){n._valueTracker||(n._valueTracker=lF(n))}function WM(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=VM(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function pg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function d6(n,e){var t=e.checked;return Cn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Ib(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Za(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jM(n,e){e=e.checked,e!=null&&W4(n,"checked",e,!1)}function f6(n,e){jM(n,e);var t=Za(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?h6(n,e.type,t):e.hasOwnProperty("defaultValue")&&h6(n,e.type,Za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Rb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function h6(n,e,t){(e!=="number"||pg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var uh=Array.isArray;function $c(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Za(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function p6(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Cn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Bb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ue(92));if(uh(t)){if(1<t.length)throw Error(Ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Za(t)}}function ZM(n,e){var t=Za(e.value),r=Za(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Db(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function JM(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m6(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?JM(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vm,qM=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(vm=vm||document.createElement("div"),vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Fh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var mh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uF=["Webkit","ms","Moz","O"];Object.keys(mh).forEach(function(n){uF.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),mh[e]=mh[n]})});function XM(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||mh.hasOwnProperty(n)&&mh[n]?(""+e).trim():e+"px"}function KM(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=XM(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var cF=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g6(n,e){if(e){if(cF[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function y6(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v6=null;function q4(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var x6=null,ed=null,td=null;function kb(n){if(n=Pp(n)){if(typeof x6!="function")throw Error(Ue(280));var e=n.stateNode;e&&(e=V2(e),x6(n.stateNode,n.type,e))}}function YM(n){ed?td?td.push(n):td=[n]:ed=n}function QM(){if(ed){var n=ed,e=td;if(td=ed=null,kb(n),e)for(n=0;n<e.length;n++)kb(e[n])}}function $M(n,e){return n(e)}function eE(){}var lv=!1;function tE(n,e,t){if(lv)return n(e,t);lv=!0;try{return $M(n,e,t)}finally{lv=!1,(ed!==null||td!==null)&&(eE(),QM())}}function Nh(n,e){var t=n.stateNode;if(t===null)return null;var r=V2(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ue(231,e,typeof t));return t}var w6=!1;if(Ho)try{var wf={};Object.defineProperty(wf,"passive",{get:function(){w6=!0}}),window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch{w6=!1}function dF(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var gh=!1,mg=null,gg=!1,b6=null,fF={onError:function(n){gh=!0,mg=n}};function hF(n,e,t,r,i,s,o,a,l){gh=!1,mg=null,dF.apply(fF,arguments)}function pF(n,e,t,r,i,s,o,a,l){if(hF.apply(this,arguments),gh){if(gh){var u=mg;gh=!1,mg=null}else throw Error(Ue(198));gg||(gg=!0,b6=u)}}function Du(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function nE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Lb(n){if(Du(n)!==n)throw Error(Ue(188))}function mF(n){var e=n.alternate;if(!e){if(e=Du(n),e===null)throw Error(Ue(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return Lb(i),n;if(s===r)return Lb(i),e;s=s.sibling}throw Error(Ue(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(t.alternate!==r)throw Error(Ue(190))}if(t.tag!==3)throw Error(Ue(188));return t.stateNode.current===t?n:e}function rE(n){return n=mF(n),n!==null?iE(n):null}function iE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=iE(n);if(e!==null)return e;n=n.sibling}return null}var sE=Ci.unstable_scheduleCallback,Ob=Ci.unstable_cancelCallback,gF=Ci.unstable_shouldYield,yF=Ci.unstable_requestPaint,kn=Ci.unstable_now,vF=Ci.unstable_getCurrentPriorityLevel,X4=Ci.unstable_ImmediatePriority,oE=Ci.unstable_UserBlockingPriority,yg=Ci.unstable_NormalPriority,xF=Ci.unstable_LowPriority,aE=Ci.unstable_IdlePriority,U2=null,Xs=null;function wF(n){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(U2,n,void 0,(n.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:AF,bF=Math.log,_F=Math.LN2;function AF(n){return n>>>=0,n===0?32:31-(bF(n)/_F|0)|0}var xm=64,wm=4194304;function ch(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vg(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=ch(a):(s&=o,s!==0&&(r=ch(s)))}else o=t&~i,o!==0?r=ch(o):s!==0&&(r=ch(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-bs(e),i=1<<t,r|=n[t],e&=~i;return r}function SF(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CF(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-bs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=SF(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function _6(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function lE(){var n=xm;return xm<<=1,!(xm&4194240)&&(xm=64),n}function uv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-bs(e),n[e]=t}function TF(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-bs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function K4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-bs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var rn=0;function uE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var cE,Y4,dE,fE,hE,A6=!1,bm=[],ka=null,La=null,Oa=null,Uh=new Map,Gh=new Map,Ta=[],MF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fb(n,e){switch(n){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Uh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(e.pointerId)}}function bf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pp(e),e!==null&&Y4(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function EF(n,e,t,r,i){switch(e){case"focusin":return ka=bf(ka,n,e,t,r,i),!0;case"dragenter":return La=bf(La,n,e,t,r,i),!0;case"mouseover":return Oa=bf(Oa,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Uh.set(s,bf(Uh.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gh.set(s,bf(Gh.get(s)||null,n,e,t,r,i)),!0}return!1}function pE(n){var e=Ql(n.target);if(e!==null){var t=Du(e);if(t!==null){if(e=t.tag,e===13){if(e=nE(t),e!==null){n.blockedOn=e,hE(n.priority,function(){dE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function G3(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=S6(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);v6=r,t.target.dispatchEvent(r),v6=null}else return e=Pp(t),e!==null&&Y4(e),n.blockedOn=t,!1;e.shift()}return!0}function Nb(n,e,t){G3(n)&&t.delete(e)}function PF(){A6=!1,ka!==null&&G3(ka)&&(ka=null),La!==null&&G3(La)&&(La=null),Oa!==null&&G3(Oa)&&(Oa=null),Uh.forEach(Nb),Gh.forEach(Nb)}function _f(n,e){n.blockedOn===e&&(n.blockedOn=null,A6||(A6=!0,Ci.unstable_scheduleCallback(Ci.unstable_NormalPriority,PF)))}function zh(n){function e(i){return _f(i,n)}if(0<bm.length){_f(bm[0],n);for(var t=1;t<bm.length;t++){var r=bm[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ka!==null&&_f(ka,n),La!==null&&_f(La,n),Oa!==null&&_f(Oa,n),Uh.forEach(e),Gh.forEach(e),t=0;t<Ta.length;t++)r=Ta[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ta.length&&(t=Ta[0],t.blockedOn===null);)pE(t),t.blockedOn===null&&Ta.shift()}var nd=qo.ReactCurrentBatchConfig,xg=!0;function IF(n,e,t,r){var i=rn,s=nd.transition;nd.transition=null;try{rn=1,Q4(n,e,t,r)}finally{rn=i,nd.transition=s}}function RF(n,e,t,r){var i=rn,s=nd.transition;nd.transition=null;try{rn=4,Q4(n,e,t,r)}finally{rn=i,nd.transition=s}}function Q4(n,e,t,r){if(xg){var i=S6(n,e,t,r);if(i===null)xv(n,e,r,wg,t),Fb(n,r);else if(EF(i,n,e,t,r))r.stopPropagation();else if(Fb(n,r),e&4&&-1<MF.indexOf(n)){for(;i!==null;){var s=Pp(i);if(s!==null&&cE(s),s=S6(n,e,t,r),s===null&&xv(n,e,r,wg,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else xv(n,e,r,null,t)}}var wg=null;function S6(n,e,t,r){if(wg=null,n=q4(r),n=Ql(n),n!==null)if(e=Du(n),e===null)n=null;else if(t=e.tag,t===13){if(n=nE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return wg=n,null}function mE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vF()){case X4:return 1;case oE:return 4;case yg:case xF:return 16;case aE:return 536870912;default:return 16}default:return 16}}var Ea=null,$4=null,z3=null;function gE(){if(z3)return z3;var n,e=$4,t=e.length,r,i="value"in Ea?Ea.value:Ea.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return z3=i.slice(n,1<r?1-r:void 0)}function H3(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function _m(){return!0}function Ub(){return!1}function Pi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_m:Ub,this.isPropagationStopped=Ub,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=_m)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=_m)},persist:function(){},isPersistent:_m}),e}var Fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e9=Pi(Fd),Ep=Cn({},Fd,{view:0,detail:0}),BF=Pi(Ep),cv,dv,Af,G2=Cn({},Ep,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t9,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Af&&(Af&&n.type==="mousemove"?(cv=n.screenX-Af.screenX,dv=n.screenY-Af.screenY):dv=cv=0,Af=n),cv)},movementY:function(n){return"movementY"in n?n.movementY:dv}}),Gb=Pi(G2),DF=Cn({},G2,{dataTransfer:0}),kF=Pi(DF),LF=Cn({},Ep,{relatedTarget:0}),fv=Pi(LF),OF=Cn({},Fd,{animationName:0,elapsedTime:0,pseudoElement:0}),FF=Pi(OF),NF=Cn({},Fd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),UF=Pi(NF),GF=Cn({},Fd,{data:0}),zb=Pi(GF),zF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WF(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=VF[n])?!!e[n]:!1}function t9(){return WF}var jF=Cn({},Ep,{key:function(n){if(n.key){var e=zF[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=H3(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?HF[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t9,charCode:function(n){return n.type==="keypress"?H3(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?H3(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ZF=Pi(jF),JF=Cn({},G2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hb=Pi(JF),qF=Cn({},Ep,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t9}),XF=Pi(qF),KF=Cn({},Fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),YF=Pi(KF),QF=Cn({},G2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$F=Pi(QF),eN=[9,13,27,32],n9=Ho&&"CompositionEvent"in window,yh=null;Ho&&"documentMode"in document&&(yh=document.documentMode);var tN=Ho&&"TextEvent"in window&&!yh,yE=Ho&&(!n9||yh&&8<yh&&11>=yh),Vb=String.fromCharCode(32),Wb=!1;function vE(n,e){switch(n){case"keyup":return eN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bc=!1;function nN(n,e){switch(n){case"compositionend":return xE(e);case"keypress":return e.which!==32?null:(Wb=!0,Vb);case"textInput":return n=e.data,n===Vb&&Wb?null:n;default:return null}}function rN(n,e){if(Bc)return n==="compositionend"||!n9&&vE(n,e)?(n=gE(),z3=$4=Ea=null,Bc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yE&&e.locale!=="ko"?null:e.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!iN[n.type]:e==="textarea"}function wE(n,e,t,r){YM(r),e=bg(e,"onChange"),0<e.length&&(t=new e9("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var vh=null,Hh=null;function sN(n){RE(n,0)}function z2(n){var e=Lc(n);if(WM(e))return n}function oN(n,e){if(n==="change")return e}var bE=!1;if(Ho){var hv;if(Ho){var pv="oninput"in document;if(!pv){var Zb=document.createElement("div");Zb.setAttribute("oninput","return;"),pv=typeof Zb.oninput=="function"}hv=pv}else hv=!1;bE=hv&&(!document.documentMode||9<document.documentMode)}function Jb(){vh&&(vh.detachEvent("onpropertychange",_E),Hh=vh=null)}function _E(n){if(n.propertyName==="value"&&z2(Hh)){var e=[];wE(e,Hh,n,q4(n)),tE(sN,e)}}function aN(n,e,t){n==="focusin"?(Jb(),vh=e,Hh=t,vh.attachEvent("onpropertychange",_E)):n==="focusout"&&Jb()}function lN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return z2(Hh)}function uN(n,e){if(n==="click")return z2(e)}function cN(n,e){if(n==="input"||n==="change")return z2(e)}function dN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ss=typeof Object.is=="function"?Object.is:dN;function Vh(n,e){if(Ss(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!o6.call(e,i)||!Ss(n[i],e[i]))return!1}return!0}function qb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Xb(n,e){var t=qb(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=qb(t)}}function AE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?AE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function SE(){for(var n=window,e=pg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=pg(n.document)}return e}function r9(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function fN(n){var e=SE(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&AE(t.ownerDocument.documentElement,t)){if(r!==null&&r9(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Xb(t,s);var o=Xb(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hN=Ho&&"documentMode"in document&&11>=document.documentMode,Dc=null,C6=null,xh=null,T6=!1;function Kb(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;T6||Dc==null||Dc!==pg(r)||(r=Dc,"selectionStart"in r&&r9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xh&&Vh(xh,r)||(xh=r,r=bg(C6,"onSelect"),0<r.length&&(e=new e9("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Dc)))}function Am(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var kc={animationend:Am("Animation","AnimationEnd"),animationiteration:Am("Animation","AnimationIteration"),animationstart:Am("Animation","AnimationStart"),transitionend:Am("Transition","TransitionEnd")},mv={},CE={};Ho&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function H2(n){if(mv[n])return mv[n];if(!kc[n])return n;var e=kc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in CE)return mv[n]=e[t];return n}var TE=H2("animationend"),ME=H2("animationiteration"),EE=H2("animationstart"),PE=H2("transitionend"),IE=new Map,Yb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(n,e){IE.set(n,e),Bu(e,[n])}for(var gv=0;gv<Yb.length;gv++){var yv=Yb[gv],pN=yv.toLowerCase(),mN=yv[0].toUpperCase()+yv.slice(1);sl(pN,"on"+mN)}sl(TE,"onAnimationEnd");sl(ME,"onAnimationIteration");sl(EE,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(PE,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);Bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gN=new Set("cancel close invalid load scroll toggle".split(" ").concat(dh));function Qb(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,pF(r,e,void 0,n),n.currentTarget=null}function RE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Qb(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Qb(i,a,u),s=l}}}if(gg)throw n=b6,gg=!1,b6=null,n}function dn(n,e){var t=e[R6];t===void 0&&(t=e[R6]=new Set);var r=n+"__bubble";t.has(r)||(BE(e,n,2,!1),t.add(r))}function vv(n,e,t){var r=0;e&&(r|=4),BE(t,n,r,e)}var Sm="_reactListening"+Math.random().toString(36).slice(2);function Wh(n){if(!n[Sm]){n[Sm]=!0,UM.forEach(function(t){t!=="selectionchange"&&(gN.has(t)||vv(t,!1,n),vv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Sm]||(e[Sm]=!0,vv("selectionchange",!1,e))}}function BE(n,e,t,r){switch(mE(e)){case 1:var i=IF;break;case 4:i=RF;break;default:i=Q4}t=i.bind(null,e,t,n),i=void 0,!w6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function xv(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ql(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tE(function(){var u=s,c=q4(t),f=[];e:{var h=IE.get(n);if(h!==void 0){var m=e9,g=n;switch(n){case"keypress":if(H3(t)===0)break e;case"keydown":case"keyup":m=ZF;break;case"focusin":g="focus",m=fv;break;case"focusout":g="blur",m=fv;break;case"beforeblur":case"afterblur":m=fv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XF;break;case TE:case ME:case EE:m=FF;break;case PE:m=YF;break;case"scroll":m=BF;break;case"wheel":m=$F;break;case"copy":case"cut":case"paste":m=UF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hb}var v=(e&4)!==0,y=!v&&n==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var _=u,b;_!==null;){b=_;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,x!==null&&(S=Nh(_,x),S!=null&&v.push(jh(_,S,b)))),y)break;_=_.return}0<v.length&&(h=new m(h,g,null,t,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==v6&&(g=t.relatedTarget||t.fromElement)&&(Ql(g)||g[Vo]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?Ql(g):null,g!==null&&(y=Du(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=Gb,S="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=Hb,S="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?h:Lc(m),b=g==null?h:Lc(g),h=new v(S,_+"leave",m,t,c),h.target=y,h.relatedTarget=b,S=null,Ql(c)===u&&(v=new v(x,_+"enter",g,t,c),v.target=b,v.relatedTarget=y,S=v),y=S,m&&g)t:{for(v=m,x=g,_=0,b=v;b;b=rc(b))_++;for(b=0,S=x;S;S=rc(S))b++;for(;0<_-b;)v=rc(v),_--;for(;0<b-_;)x=rc(x),b--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=rc(v),x=rc(x)}v=null}else v=null;m!==null&&$b(f,h,m,v,!1),g!==null&&y!==null&&$b(f,y,g,v,!0)}}e:{if(h=u?Lc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var R=oN;else if(jb(h))if(bE)R=cN;else{R=lN;var T=aN}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=uN);if(R&&(R=R(n,u))){wE(f,R,t,c);break e}T&&T(n,h,u),n==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&h6(h,"number",h.value)}switch(T=u?Lc(u):window,n){case"focusin":(jb(T)||T.contentEditable==="true")&&(Dc=T,C6=u,xh=null);break;case"focusout":xh=C6=Dc=null;break;case"mousedown":T6=!0;break;case"contextmenu":case"mouseup":case"dragend":T6=!1,Kb(f,t,c);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":Kb(f,t,c)}var B;if(n9)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Bc?vE(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(yE&&t.locale!=="ko"&&(Bc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Bc&&(B=gE()):(Ea=c,$4="value"in Ea?Ea.value:Ea.textContent,Bc=!0)),T=bg(u,C),0<T.length&&(C=new zb(C,n,null,t,c),f.push({event:C,listeners:T}),B?C.data=B:(B=xE(t),B!==null&&(C.data=B)))),(B=tN?nN(n,t):rN(n,t))&&(u=bg(u,"onBeforeInput"),0<u.length&&(c=new zb("onBeforeInput","beforeinput",null,t,c),f.push({event:c,listeners:u}),c.data=B))}RE(f,e)})}function jh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function bg(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nh(n,t),s!=null&&r.unshift(jh(n,s,i)),s=Nh(n,e),s!=null&&r.push(jh(n,s,i))),n=n.return}return r}function rc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $b(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nh(t,s),l!=null&&o.unshift(jh(t,l,a))):i||(l=Nh(t,s),l!=null&&o.push(jh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var yN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function e_(n){return(typeof n=="string"?n:""+n).replace(yN,`
`).replace(vN,"")}function Cm(n,e,t){if(e=e_(e),e_(n)!==e&&t)throw Error(Ue(425))}function _g(){}var M6=null,E6=null;function P6(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I6=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,wN=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(n){return t_.resolve(null).then(n).catch(bN)}:I6;function bN(n){setTimeout(function(){throw n})}function wv(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),zh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);zh(e)}function Fa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function n_(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),Zs="__reactFiber$"+Nd,Zh="__reactProps$"+Nd,Vo="__reactContainer$"+Nd,R6="__reactEvents$"+Nd,_N="__reactListeners$"+Nd,AN="__reactHandles$"+Nd;function Ql(n){var e=n[Zs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Vo]||t[Zs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=n_(n);n!==null;){if(t=n[Zs])return t;n=n_(n)}return e}n=t,t=n.parentNode}return null}function Pp(n){return n=n[Zs]||n[Vo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Lc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ue(33))}function V2(n){return n[Zh]||null}var B6=[],Oc=-1;function ol(n){return{current:n}}function pn(n){0>Oc||(n.current=B6[Oc],B6[Oc]=null,Oc--)}function ln(n,e){Oc++,B6[Oc]=n.current,n.current=e}var Ja={},Lr=ol(Ja),li=ol(!1),wu=Ja;function fd(n,e){var t=n.type.contextTypes;if(!t)return Ja;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ui(n){return n=n.childContextTypes,n!=null}function Ag(){pn(li),pn(Lr)}function r_(n,e,t){if(Lr.current!==Ja)throw Error(Ue(168));ln(Lr,e),ln(li,t)}function DE(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,aF(n)||"Unknown",i));return Cn({},t,r)}function Sg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ja,wu=Lr.current,ln(Lr,n),ln(li,li.current),!0}function i_(n,e,t){var r=n.stateNode;if(!r)throw Error(Ue(169));t?(n=DE(n,e,wu),r.__reactInternalMemoizedMergedChildContext=n,pn(li),pn(Lr),ln(Lr,n)):pn(li),ln(li,t)}var So=null,W2=!1,bv=!1;function kE(n){So===null?So=[n]:So.push(n)}function SN(n){W2=!0,kE(n)}function al(){if(!bv&&So!==null){bv=!0;var n=0,e=rn;try{var t=So;for(rn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}So=null,W2=!1}catch(i){throw So!==null&&(So=So.slice(n+1)),sE(X4,al),i}finally{rn=e,bv=!1}}return null}var Fc=[],Nc=0,Cg=null,Tg=0,Xi=[],Ki=0,bu=null,Eo=1,Po="";function Gl(n,e){Fc[Nc++]=Tg,Fc[Nc++]=Cg,Cg=n,Tg=e}function LE(n,e,t){Xi[Ki++]=Eo,Xi[Ki++]=Po,Xi[Ki++]=bu,bu=n;var r=Eo;n=Po;var i=32-bs(r)-1;r&=~(1<<i),t+=1;var s=32-bs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Eo=1<<32-bs(e)+i|t<<i|r,Po=s+n}else Eo=1<<s|t<<i|r,Po=n}function i9(n){n.return!==null&&(Gl(n,1),LE(n,1,0))}function s9(n){for(;n===Cg;)Cg=Fc[--Nc],Fc[Nc]=null,Tg=Fc[--Nc],Fc[Nc]=null;for(;n===bu;)bu=Xi[--Ki],Xi[Ki]=null,Po=Xi[--Ki],Xi[Ki]=null,Eo=Xi[--Ki],Xi[Ki]=null}var Ai=null,bi=null,yn=!1,vs=null;function OE(n,e){var t=Qi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function s_(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ai=n,bi=Fa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ai=n,bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=bu!==null?{id:Eo,overflow:Po}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ai=n,bi=null,!0):!1;default:return!1}}function D6(n){return(n.mode&1)!==0&&(n.flags&128)===0}function k6(n){if(yn){var e=bi;if(e){var t=e;if(!s_(n,e)){if(D6(n))throw Error(Ue(418));e=Fa(t.nextSibling);var r=Ai;e&&s_(n,e)?OE(r,t):(n.flags=n.flags&-4097|2,yn=!1,Ai=n)}}else{if(D6(n))throw Error(Ue(418));n.flags=n.flags&-4097|2,yn=!1,Ai=n}}}function o_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ai=n}function Tm(n){if(n!==Ai)return!1;if(!yn)return o_(n),yn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!P6(n.type,n.memoizedProps)),e&&(e=bi)){if(D6(n))throw FE(),Error(Ue(418));for(;e;)OE(n,e),e=Fa(e.nextSibling)}if(o_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){bi=Fa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}bi=null}}else bi=Ai?Fa(n.stateNode.nextSibling):null;return!0}function FE(){for(var n=bi;n;)n=Fa(n.nextSibling)}function hd(){bi=Ai=null,yn=!1}function o9(n){vs===null?vs=[n]:vs.push(n)}var CN=qo.ReactCurrentBatchConfig;function ms(n,e){if(n&&n.defaultProps){e=Cn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Mg=ol(null),Eg=null,Uc=null,a9=null;function l9(){a9=Uc=Eg=null}function u9(n){var e=Mg.current;pn(Mg),n._currentValue=e}function L6(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function rd(n,e){Eg=n,a9=Uc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(oi=!0),n.firstContext=null)}function rs(n){var e=n._currentValue;if(a9!==n)if(n={context:n,memoizedValue:e,next:null},Uc===null){if(Eg===null)throw Error(Ue(308));Uc=n,Eg.dependencies={lanes:0,firstContext:n}}else Uc=Uc.next=n;return e}var $l=null;function c9(n){$l===null?$l=[n]:$l.push(n)}function NE(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,c9(e)):(t.next=i.next,i.next=t),e.interleaved=t,Wo(n,r)}function Wo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var _a=!1;function d9(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Oo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Na(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Xt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wo(n,t)}return i=r.interleaved,i===null?(e.next=e,c9(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wo(n,t)}function V3(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,K4(n,t)}}function a_(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Pg(n,e,t,r){var i=n.updateQueue;_a=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(h=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Cn({},f,h);break e;case 2:_a=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Au|=o,n.lanes=o,n.memoizedState=f}}function l_(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var GE=new NM.Component().refs;function O6(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Cn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var j2={isMounted:function(n){return(n=n._reactInternals)?Du(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=jr(),i=Ga(n),s=Oo(r,i);s.payload=e,t!=null&&(s.callback=t),e=Na(n,s,i),e!==null&&(_s(e,n,i,r),V3(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=jr(),i=Ga(n),s=Oo(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Na(n,s,i),e!==null&&(_s(e,n,i,r),V3(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=jr(),r=Ga(n),i=Oo(t,r);i.tag=2,e!=null&&(i.callback=e),e=Na(n,i,r),e!==null&&(_s(e,n,r,t),V3(e,n,r))}};function u_(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Vh(t,r)||!Vh(i,s):!0}function zE(n,e,t){var r=!1,i=Ja,s=e.contextType;return typeof s=="object"&&s!==null?s=rs(s):(i=ui(e)?wu:Lr.current,r=e.contextTypes,s=(r=r!=null)?fd(n,i):Ja),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=j2,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function c_(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&j2.enqueueReplaceState(e,e.state,null)}function F6(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=GE,d9(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rs(s):(s=ui(e)?wu:Lr.current,i.context=fd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(O6(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&j2.enqueueReplaceState(i,i.state,null),Pg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Sf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ue(309));var r=t.stateNode}if(!r)throw Error(Ue(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===GE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ue(284));if(!t._owner)throw Error(Ue(290,n))}return n}function Mm(n,e){throw n=Object.prototype.toString.call(e),Error(Ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function d_(n){var e=n._init;return e(n._payload)}function HE(n){function e(x,_){if(n){var b=x.deletions;b===null?(x.deletions=[_],x.flags|=16):b.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=za(x,_),x.index=0,x.sibling=null,x}function s(x,_,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<_?(x.flags|=2,_):b):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,b,S){return _===null||_.tag!==6?(_=Ev(b,x.mode,S),_.return=x,_):(_=i(_,b),_.return=x,_)}function l(x,_,b,S){var R=b.type;return R===Rc?c(x,_,b.props.children,S,b.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ba&&d_(R)===_.type)?(S=i(_,b.props),S.ref=Sf(x,_,b),S.return=x,S):(S=X3(b.type,b.key,b.props,null,x.mode,S),S.ref=Sf(x,_,b),S.return=x,S)}function u(x,_,b,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Pv(b,x.mode,S),_.return=x,_):(_=i(_,b.children||[]),_.return=x,_)}function c(x,_,b,S,R){return _===null||_.tag!==7?(_=du(b,x.mode,S,R),_.return=x,_):(_=i(_,b),_.return=x,_)}function f(x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ev(""+_,x.mode,b),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gm:return b=X3(_.type,_.key,_.props,null,x.mode,b),b.ref=Sf(x,null,_),b.return=x,b;case Ic:return _=Pv(_,x.mode,b),_.return=x,_;case ba:var S=_._init;return f(x,S(_._payload),b)}if(uh(_)||xf(_))return _=du(_,x.mode,b,null),_.return=x,_;Mm(x,_)}return null}function h(x,_,b,S){var R=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(x,_,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gm:return b.key===R?l(x,_,b,S):null;case Ic:return b.key===R?u(x,_,b,S):null;case ba:return R=b._init,h(x,_,R(b._payload),S)}if(uh(b)||xf(b))return R!==null?null:c(x,_,b,S,null);Mm(x,b)}return null}function m(x,_,b,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(b)||null,a(_,x,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gm:return x=x.get(S.key===null?b:S.key)||null,l(_,x,S,R);case Ic:return x=x.get(S.key===null?b:S.key)||null,u(_,x,S,R);case ba:var T=S._init;return m(x,_,b,T(S._payload),R)}if(uh(S)||xf(S))return x=x.get(b)||null,c(_,x,S,R,null);Mm(_,S)}return null}function g(x,_,b,S){for(var R=null,T=null,B=_,C=_=0,P=null;B!==null&&C<b.length;C++){B.index>C?(P=B,B=null):P=B.sibling;var I=h(x,B,b[C],S);if(I===null){B===null&&(B=P);break}n&&B&&I.alternate===null&&e(x,B),_=s(I,_,C),T===null?R=I:T.sibling=I,T=I,B=P}if(C===b.length)return t(x,B),yn&&Gl(x,C),R;if(B===null){for(;C<b.length;C++)B=f(x,b[C],S),B!==null&&(_=s(B,_,C),T===null?R=B:T.sibling=B,T=B);return yn&&Gl(x,C),R}for(B=r(x,B);C<b.length;C++)P=m(B,x,C,b[C],S),P!==null&&(n&&P.alternate!==null&&B.delete(P.key===null?C:P.key),_=s(P,_,C),T===null?R=P:T.sibling=P,T=P);return n&&B.forEach(function(k){return e(x,k)}),yn&&Gl(x,C),R}function v(x,_,b,S){var R=xf(b);if(typeof R!="function")throw Error(Ue(150));if(b=R.call(b),b==null)throw Error(Ue(151));for(var T=R=null,B=_,C=_=0,P=null,I=b.next();B!==null&&!I.done;C++,I=b.next()){B.index>C?(P=B,B=null):P=B.sibling;var k=h(x,B,I.value,S);if(k===null){B===null&&(B=P);break}n&&B&&k.alternate===null&&e(x,B),_=s(k,_,C),T===null?R=k:T.sibling=k,T=k,B=P}if(I.done)return t(x,B),yn&&Gl(x,C),R;if(B===null){for(;!I.done;C++,I=b.next())I=f(x,I.value,S),I!==null&&(_=s(I,_,C),T===null?R=I:T.sibling=I,T=I);return yn&&Gl(x,C),R}for(B=r(x,B);!I.done;C++,I=b.next())I=m(B,x,C,I.value,S),I!==null&&(n&&I.alternate!==null&&B.delete(I.key===null?C:I.key),_=s(I,_,C),T===null?R=I:T.sibling=I,T=I);return n&&B.forEach(function(U){return e(x,U)}),yn&&Gl(x,C),R}function y(x,_,b,S){if(typeof b=="object"&&b!==null&&b.type===Rc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gm:e:{for(var R=b.key,T=_;T!==null;){if(T.key===R){if(R=b.type,R===Rc){if(T.tag===7){t(x,T.sibling),_=i(T,b.props.children),_.return=x,x=_;break e}}else if(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ba&&d_(R)===T.type){t(x,T.sibling),_=i(T,b.props),_.ref=Sf(x,T,b),_.return=x,x=_;break e}t(x,T);break}else e(x,T);T=T.sibling}b.type===Rc?(_=du(b.props.children,x.mode,S,b.key),_.return=x,x=_):(S=X3(b.type,b.key,b.props,null,x.mode,S),S.ref=Sf(x,_,b),S.return=x,x=S)}return o(x);case Ic:e:{for(T=b.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){t(x,_.sibling),_=i(_,b.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=Pv(b,x.mode,S),_.return=x,x=_}return o(x);case ba:return T=b._init,y(x,_,T(b._payload),S)}if(uh(b))return g(x,_,b,S);if(xf(b))return v(x,_,b,S);Mm(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,b),_.return=x,x=_):(t(x,_),_=Ev(b,x.mode,S),_.return=x,x=_),o(x)):t(x,_)}return y}var pd=HE(!0),VE=HE(!1),Ip={},Ks=ol(Ip),Jh=ol(Ip),qh=ol(Ip);function eu(n){if(n===Ip)throw Error(Ue(174));return n}function f9(n,e){switch(ln(qh,e),ln(Jh,n),ln(Ks,Ip),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m6(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=m6(e,n)}pn(Ks),ln(Ks,e)}function md(){pn(Ks),pn(Jh),pn(qh)}function WE(n){eu(qh.current);var e=eu(Ks.current),t=m6(e,n.type);e!==t&&(ln(Jh,n),ln(Ks,t))}function h9(n){Jh.current===n&&(pn(Ks),pn(Jh))}var wn=ol(0);function Ig(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _v=[];function p9(){for(var n=0;n<_v.length;n++)_v[n]._workInProgressVersionPrimary=null;_v.length=0}var W3=qo.ReactCurrentDispatcher,Av=qo.ReactCurrentBatchConfig,_u=0,Sn=null,Jn=null,sr=null,Rg=!1,wh=!1,Xh=0,TN=0;function Cr(){throw Error(Ue(321))}function m9(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ss(n[t],e[t]))return!1;return!0}function g9(n,e,t,r,i,s){if(_u=s,Sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W3.current=n===null||n.memoizedState===null?IN:RN,n=t(r,i),wh){s=0;do{if(wh=!1,Xh=0,25<=s)throw Error(Ue(301));s+=1,sr=Jn=null,e.updateQueue=null,W3.current=BN,n=t(r,i)}while(wh)}if(W3.current=Bg,e=Jn!==null&&Jn.next!==null,_u=0,sr=Jn=Sn=null,Rg=!1,e)throw Error(Ue(300));return n}function y9(){var n=Xh!==0;return Xh=0,n}function Vs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Sn.memoizedState=sr=n:sr=sr.next=n,sr}function is(){if(Jn===null){var n=Sn.alternate;n=n!==null?n.memoizedState:null}else n=Jn.next;var e=sr===null?Sn.memoizedState:sr.next;if(e!==null)sr=e,Jn=n;else{if(n===null)throw Error(Ue(310));Jn=n,n={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},sr===null?Sn.memoizedState=sr=n:sr=sr.next=n}return sr}function Kh(n,e){return typeof e=="function"?e(n):e}function Sv(n){var e=is(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var r=Jn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((_u&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Sn.lanes|=c,Au|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ss(r,e.memoizedState)||(oi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Sn.lanes|=s,Au|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Cv(n){var e=is(),t=e.queue;if(t===null)throw Error(Ue(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ss(s,e.memoizedState)||(oi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function jE(){}function ZE(n,e){var t=Sn,r=is(),i=e(),s=!Ss(r.memoizedState,i);if(s&&(r.memoizedState=i,oi=!0),r=r.queue,v9(XE.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||sr!==null&&sr.memoizedState.tag&1){if(t.flags|=2048,Yh(9,qE.bind(null,t,r,i,e),void 0,null),ur===null)throw Error(Ue(349));_u&30||JE(t,e,i)}return i}function JE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function qE(n,e,t,r){e.value=t,e.getSnapshot=r,KE(e)&&YE(n)}function XE(n,e,t){return t(function(){KE(e)&&YE(n)})}function KE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ss(n,t)}catch{return!0}}function YE(n){var e=Wo(n,1);e!==null&&_s(e,n,1,-1)}function f_(n){var e=Vs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:n},e.queue=n,n=n.dispatch=PN.bind(null,Sn,n),[e.memoizedState,n]}function Yh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Sn.updateQueue,e===null?(e={lastEffect:null,stores:null},Sn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function QE(){return is().memoizedState}function j3(n,e,t,r){var i=Vs();Sn.flags|=n,i.memoizedState=Yh(1|e,t,void 0,r===void 0?null:r)}function Z2(n,e,t,r){var i=is();r=r===void 0?null:r;var s=void 0;if(Jn!==null){var o=Jn.memoizedState;if(s=o.destroy,r!==null&&m9(r,o.deps)){i.memoizedState=Yh(e,t,s,r);return}}Sn.flags|=n,i.memoizedState=Yh(1|e,t,s,r)}function h_(n,e){return j3(8390656,8,n,e)}function v9(n,e){return Z2(2048,8,n,e)}function $E(n,e){return Z2(4,2,n,e)}function eP(n,e){return Z2(4,4,n,e)}function tP(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function nP(n,e,t){return t=t!=null?t.concat([n]):null,Z2(4,4,tP.bind(null,e,n),t)}function x9(){}function rP(n,e){var t=is();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&m9(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function iP(n,e){var t=is();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&m9(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function sP(n,e,t){return _u&21?(Ss(t,e)||(t=lE(),Sn.lanes|=t,Au|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,oi=!0),n.memoizedState=t)}function MN(n,e){var t=rn;rn=t!==0&&4>t?t:4,n(!0);var r=Av.transition;Av.transition={};try{n(!1),e()}finally{rn=t,Av.transition=r}}function oP(){return is().memoizedState}function EN(n,e,t){var r=Ga(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},aP(n))lP(e,t);else if(t=NE(n,e,t,r),t!==null){var i=jr();_s(t,n,r,i),uP(t,e,r)}}function PN(n,e,t){var r=Ga(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(aP(n))lP(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ss(a,o)){var l=e.interleaved;l===null?(i.next=i,c9(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=NE(n,e,i,r),t!==null&&(i=jr(),_s(t,n,r,i),uP(t,e,r))}}function aP(n){var e=n.alternate;return n===Sn||e!==null&&e===Sn}function lP(n,e){wh=Rg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function uP(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,K4(n,t)}}var Bg={readContext:rs,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},IN={readContext:rs,useCallback:function(n,e){return Vs().memoizedState=[n,e===void 0?null:e],n},useContext:rs,useEffect:h_,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,j3(4194308,4,tP.bind(null,e,n),t)},useLayoutEffect:function(n,e){return j3(4194308,4,n,e)},useInsertionEffect:function(n,e){return j3(4,2,n,e)},useMemo:function(n,e){var t=Vs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Vs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=EN.bind(null,Sn,n),[r.memoizedState,n]},useRef:function(n){var e=Vs();return n={current:n},e.memoizedState=n},useState:f_,useDebugValue:x9,useDeferredValue:function(n){return Vs().memoizedState=n},useTransition:function(){var n=f_(!1),e=n[0];return n=MN.bind(null,n[1]),Vs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Sn,i=Vs();if(yn){if(t===void 0)throw Error(Ue(407));t=t()}else{if(t=e(),ur===null)throw Error(Ue(349));_u&30||JE(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,h_(XE.bind(null,r,s,n),[n]),r.flags|=2048,Yh(9,qE.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Vs(),e=ur.identifierPrefix;if(yn){var t=Po,r=Eo;t=(r&~(1<<32-bs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Xh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=TN++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},RN={readContext:rs,useCallback:rP,useContext:rs,useEffect:v9,useImperativeHandle:nP,useInsertionEffect:$E,useLayoutEffect:eP,useMemo:iP,useReducer:Sv,useRef:QE,useState:function(){return Sv(Kh)},useDebugValue:x9,useDeferredValue:function(n){var e=is();return sP(e,Jn.memoizedState,n)},useTransition:function(){var n=Sv(Kh)[0],e=is().memoizedState;return[n,e]},useMutableSource:jE,useSyncExternalStore:ZE,useId:oP,unstable_isNewReconciler:!1},BN={readContext:rs,useCallback:rP,useContext:rs,useEffect:v9,useImperativeHandle:nP,useInsertionEffect:$E,useLayoutEffect:eP,useMemo:iP,useReducer:Cv,useRef:QE,useState:function(){return Cv(Kh)},useDebugValue:x9,useDeferredValue:function(n){var e=is();return Jn===null?e.memoizedState=n:sP(e,Jn.memoizedState,n)},useTransition:function(){var n=Cv(Kh)[0],e=is().memoizedState;return[n,e]},useMutableSource:jE,useSyncExternalStore:ZE,useId:oP,unstable_isNewReconciler:!1};function gd(n,e){try{var t="",r=e;do t+=oF(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Tv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function N6(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var DN=typeof WeakMap=="function"?WeakMap:Map;function cP(n,e,t){t=Oo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){kg||(kg=!0,q6=r),N6(n,e)},t}function dP(n,e,t){t=Oo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){N6(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){N6(n,e),typeof r!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function p_(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new DN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=JN.bind(null,n,e,t),e.then(n,n))}function m_(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function g_(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Oo(-1,1),e.tag=2,Na(t,e,1))),t.lanes|=1),n)}var kN=qo.ReactCurrentOwner,oi=!1;function Vr(n,e,t,r){e.child=n===null?VE(e,null,t,r):pd(e,n.child,t,r)}function y_(n,e,t,r,i){t=t.render;var s=e.ref;return rd(e,i),r=g9(n,e,t,r,s,i),t=y9(),n!==null&&!oi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,jo(n,e,i)):(yn&&t&&i9(e),e.flags|=1,Vr(n,e,r,i),e.child)}function v_(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!M9(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,fP(n,e,s,r,i)):(n=X3(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Vh,t(o,r)&&n.ref===e.ref)return jo(n,e,i)}return e.flags|=1,n=za(s,r),n.ref=e.ref,n.return=e,e.child=n}function fP(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Vh(s,r)&&n.ref===e.ref)if(oi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(oi=!0);else return e.lanes=n.lanes,jo(n,e,i)}return U6(n,e,t,r,i)}function hP(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ln(zc,wi),wi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ln(zc,wi),wi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,ln(zc,wi),wi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,ln(zc,wi),wi|=r;return Vr(n,e,i,t),e.child}function pP(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function U6(n,e,t,r,i){var s=ui(t)?wu:Lr.current;return s=fd(e,s),rd(e,i),t=g9(n,e,t,r,s,i),r=y9(),n!==null&&!oi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,jo(n,e,i)):(yn&&r&&i9(e),e.flags|=1,Vr(n,e,t,i),e.child)}function x_(n,e,t,r,i){if(ui(t)){var s=!0;Sg(e)}else s=!1;if(rd(e,i),e.stateNode===null)Z3(n,e),zE(e,t,r),F6(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=rs(u):(u=ui(t)?wu:Lr.current,u=fd(e,u));var c=t.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&c_(e,o,r,u),_a=!1;var h=e.memoizedState;o.state=h,Pg(e,r,o,i),l=e.memoizedState,a!==r||h!==l||li.current||_a?(typeof c=="function"&&(O6(e,t,c,r),l=e.memoizedState),(a=_a||u_(e,t,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UE(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ms(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=rs(l):(l=ui(t)?wu:Lr.current,l=fd(e,l));var m=t.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&c_(e,o,r,l),_a=!1,h=e.memoizedState,o.state=h,Pg(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||li.current||_a?(typeof m=="function"&&(O6(e,t,m,r),g=e.memoizedState),(u=_a||u_(e,t,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return G6(n,e,t,r,s,i)}function G6(n,e,t,r,i,s){pP(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&i_(e,t,!1),jo(n,e,s);r=e.stateNode,kN.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=pd(e,n.child,null,s),e.child=pd(e,null,a,s)):Vr(n,e,a,s),e.memoizedState=r.state,i&&i_(e,t,!0),e.child}function mP(n){var e=n.stateNode;e.pendingContext?r_(n,e.pendingContext,e.pendingContext!==e.context):e.context&&r_(n,e.context,!1),f9(n,e.containerInfo)}function w_(n,e,t,r,i){return hd(),o9(i),e.flags|=256,Vr(n,e,t,r),e.child}var z6={dehydrated:null,treeContext:null,retryLane:0};function H6(n){return{baseLanes:n,cachePool:null,transitions:null}}function gP(n,e,t){var r=e.pendingProps,i=wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),ln(wn,i&1),n===null)return k6(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=X2(o,r,0,null),n=du(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=H6(t),e.memoizedState=z6,n):w9(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return LN(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=za(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=za(a,s):(s=du(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?H6(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=z6,r}return s=n.child,n=s.sibling,r=za(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function w9(n,e){return e=X2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Em(n,e,t,r){return r!==null&&o9(r),pd(e,n.child,null,t),n=w9(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function LN(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Tv(Error(Ue(422))),Em(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=X2({mode:"visible",children:r.children},i,0,null),s=du(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pd(e,n.child,null,o),e.child.memoizedState=H6(o),e.memoizedState=z6,s);if(!(e.mode&1))return Em(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=Tv(s,r,void 0),Em(n,e,o,r)}if(a=(o&n.childLanes)!==0,oi||a){if(r=ur,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wo(n,i),_s(r,n,i,-1))}return T9(),r=Tv(Error(Ue(421))),Em(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=qN.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,bi=Fa(i.nextSibling),Ai=e,yn=!0,vs=null,n!==null&&(Xi[Ki++]=Eo,Xi[Ki++]=Po,Xi[Ki++]=bu,Eo=n.id,Po=n.overflow,bu=e),e=w9(e,r.children),e.flags|=4096,e)}function b_(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),L6(n.return,e,t)}function Mv(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function yP(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vr(n,e,r.children,t),r=wn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&b_(n,t,e);else if(n.tag===19)b_(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(ln(wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Ig(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Mv(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Ig(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Mv(e,!0,t,null,s);break;case"together":Mv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Z3(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Au|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ue(153));if(e.child!==null){for(n=e.child,t=za(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=za(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ON(n,e,t){switch(e.tag){case 3:mP(e),hd();break;case 5:WE(e);break;case 1:ui(e.type)&&Sg(e);break;case 4:f9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ln(Mg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ln(wn,wn.current&1),e.flags|=128,null):t&e.child.childLanes?gP(n,e,t):(ln(wn,wn.current&1),n=jo(n,e,t),n!==null?n.sibling:null);ln(wn,wn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return yP(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ln(wn,wn.current),r)break;return null;case 22:case 23:return e.lanes=0,hP(n,e,t)}return jo(n,e,t)}var vP,V6,xP,wP;vP=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};V6=function(){};xP=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,eu(Ks.current);var s=null;switch(t){case"input":i=d6(n,i),r=d6(n,r),s=[];break;case"select":i=Cn({},i,{value:void 0}),r=Cn({},r,{value:void 0}),s=[];break;case"textarea":i=p6(n,i),r=p6(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=_g)}g6(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wP=function(n,e,t,r){t!==r&&(e.flags|=4)};function Cf(n,e){if(!yn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Tr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function FN(n,e,t){var r=e.pendingProps;switch(s9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return ui(e.type)&&Ag(),Tr(e),null;case 3:return r=e.stateNode,md(),pn(li),pn(Lr),p9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Tm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vs!==null&&(Y6(vs),vs=null))),V6(n,e),Tr(e),null;case 5:h9(e);var i=eu(qh.current);if(t=e.type,n!==null&&e.stateNode!=null)xP(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return Tr(e),null}if(n=eu(Ks.current),Tm(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Zs]=e,r[Zh]=s,n=(e.mode&1)!==0,t){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(i=0;i<dh.length;i++)dn(dh[i],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":Ib(r,s),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dn("invalid",r);break;case"textarea":Bb(r,s),dn("invalid",r)}g6(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cm(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cm(r.textContent,a,n),i=["children",""+a]):Oh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dn("scroll",r)}switch(t){case"input":ym(r),Rb(r,s,!0);break;case"textarea":ym(r),Db(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_g)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=JM(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Zs]=e,n[Zh]=r,vP(n,e,!1,!1),e.stateNode=n;e:{switch(o=y6(t,r),t){case"dialog":dn("cancel",n),dn("close",n),i=r;break;case"iframe":case"object":case"embed":dn("load",n),i=r;break;case"video":case"audio":for(i=0;i<dh.length;i++)dn(dh[i],n);i=r;break;case"source":dn("error",n),i=r;break;case"img":case"image":case"link":dn("error",n),dn("load",n),i=r;break;case"details":dn("toggle",n),i=r;break;case"input":Ib(n,r),i=d6(n,r),dn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Cn({},r,{value:void 0}),dn("invalid",n);break;case"textarea":Bb(n,r),i=p6(n,r),dn("invalid",n);break;default:i=r}g6(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?KM(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qM(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Fh(n,l):typeof l=="number"&&Fh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dn("scroll",n):l!=null&&W4(n,s,l,o))}switch(t){case"input":ym(n),Rb(n,r,!1);break;case"textarea":ym(n),Db(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Za(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?$c(n,!!r.multiple,s,!1):r.defaultValue!=null&&$c(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=_g)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(n&&e.stateNode!=null)wP(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(t=eu(qh.current),eu(Ks.current),Tm(e)){if(r=e.stateNode,t=e.memoizedProps,r[Zs]=e,(s=r.nodeValue!==t)&&(n=Ai,n!==null))switch(n.tag){case 3:Cm(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cm(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Zs]=e,e.stateNode=r}return Tr(e),null;case 13:if(pn(wn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(yn&&bi!==null&&e.mode&1&&!(e.flags&128))FE(),hd(),e.flags|=98560,s=!1;else if(s=Tm(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[Zs]=e}else hd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else vs!==null&&(Y6(vs),vs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||wn.current&1?Xn===0&&(Xn=3):T9())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return md(),V6(n,e),n===null&&Wh(e.stateNode.containerInfo),Tr(e),null;case 10:return u9(e.type._context),Tr(e),null;case 17:return ui(e.type)&&Ag(),Tr(e),null;case 19:if(pn(wn),s=e.memoizedState,s===null)return Tr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Cf(s,!1);else{if(Xn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ig(n),o!==null){for(e.flags|=128,Cf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ln(wn,wn.current&1|2),e.child}n=n.sibling}s.tail!==null&&kn()>yd&&(e.flags|=128,r=!0,Cf(s,!1),e.lanes=4194304)}else{if(!r)if(n=Ig(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Cf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yn)return Tr(e),null}else 2*kn()-s.renderingStartTime>yd&&t!==1073741824&&(e.flags|=128,r=!0,Cf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kn(),e.sibling=null,t=wn.current,ln(wn,r?t&1|2:t&1),e):(Tr(e),null);case 22:case 23:return C9(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wi&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function NN(n,e){switch(s9(e),e.tag){case 1:return ui(e.type)&&Ag(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return md(),pn(li),pn(Lr),p9(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return h9(e),null;case 13:if(pn(wn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));hd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return pn(wn),null;case 4:return md(),null;case 10:return u9(e.type._context),null;case 22:case 23:return C9(),null;case 24:return null;default:return null}}var Pm=!1,Br=!1,UN=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Gc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){En(n,e,r)}else t.current=null}function W6(n,e,t){try{t()}catch(r){En(n,e,r)}}var __=!1;function GN(n,e){if(M6=xg,n=SE(),r9(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=n,h=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===n)break t;if(h===t&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(E6={focusedElem:n,selectionRange:t},xg=!1,rt=e;rt!==null;)if(e=rt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,rt=n;else for(;rt!==null;){e=rt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:ms(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(S){En(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}return g=__,__=!1,g}function bh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&W6(e,t,s)}i=i.next}while(i!==r)}}function J2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function j6(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function bP(n){var e=n.alternate;e!==null&&(n.alternate=null,bP(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Zs],delete e[Zh],delete e[R6],delete e[_N],delete e[AN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _P(n){return n.tag===5||n.tag===3||n.tag===4}function A_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_P(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Z6(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=_g));else if(r!==4&&(n=n.child,n!==null))for(Z6(n,e,t),n=n.sibling;n!==null;)Z6(n,e,t),n=n.sibling}function J6(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(J6(n,e,t),n=n.sibling;n!==null;)J6(n,e,t),n=n.sibling}var pr=null,gs=!1;function oa(n,e,t){for(t=t.child;t!==null;)AP(n,e,t),t=t.sibling}function AP(n,e,t){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(U2,t)}catch{}switch(t.tag){case 5:Br||Gc(t,e);case 6:var r=pr,i=gs;pr=null,oa(n,e,t),pr=r,gs=i,pr!==null&&(gs?(n=pr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):pr.removeChild(t.stateNode));break;case 18:pr!==null&&(gs?(n=pr,t=t.stateNode,n.nodeType===8?wv(n.parentNode,t):n.nodeType===1&&wv(n,t),zh(n)):wv(pr,t.stateNode));break;case 4:r=pr,i=gs,pr=t.stateNode.containerInfo,gs=!0,oa(n,e,t),pr=r,gs=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&W6(t,e,o),i=i.next}while(i!==r)}oa(n,e,t);break;case 1:if(!Br&&(Gc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){En(t,e,a)}oa(n,e,t);break;case 21:oa(n,e,t);break;case 22:t.mode&1?(Br=(r=Br)||t.memoizedState!==null,oa(n,e,t),Br=r):oa(n,e,t);break;default:oa(n,e,t)}}function S_(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new UN),e.forEach(function(r){var i=XN.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function cs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pr=a.stateNode,gs=!1;break e;case 3:pr=a.stateNode.containerInfo,gs=!0;break e;case 4:pr=a.stateNode.containerInfo,gs=!0;break e}a=a.return}if(pr===null)throw Error(Ue(160));AP(s,o,i),pr=null,gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){En(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SP(e,n),e=e.sibling}function SP(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(cs(e,n),Hs(n),r&4){try{bh(3,n,n.return),J2(3,n)}catch(v){En(n,n.return,v)}try{bh(5,n,n.return)}catch(v){En(n,n.return,v)}}break;case 1:cs(e,n),Hs(n),r&512&&t!==null&&Gc(t,t.return);break;case 5:if(cs(e,n),Hs(n),r&512&&t!==null&&Gc(t,t.return),n.flags&32){var i=n.stateNode;try{Fh(i,"")}catch(v){En(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jM(i,s),y6(a,o);var u=y6(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?KM(i,f):c==="dangerouslySetInnerHTML"?qM(i,f):c==="children"?Fh(i,f):W4(i,c,f,u)}switch(a){case"input":f6(i,s);break;case"textarea":ZM(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$c(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?$c(i,!!s.multiple,s.defaultValue,!0):$c(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zh]=s}catch(v){En(n,n.return,v)}}break;case 6:if(cs(e,n),Hs(n),r&4){if(n.stateNode===null)throw Error(Ue(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){En(n,n.return,v)}}break;case 3:if(cs(e,n),Hs(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{zh(e.containerInfo)}catch(v){En(n,n.return,v)}break;case 4:cs(e,n),Hs(n);break;case 13:cs(e,n),Hs(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A9=kn())),r&4&&S_(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Br=(u=Br)||c,cs(e,n),Br=u):cs(e,n),Hs(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(rt=n,c=n.child;c!==null;){for(f=rt=c;rt!==null;){switch(h=rt,m=h.child,h.tag){case 0:case 11:case 14:case 15:bh(4,h,h.return);break;case 1:Gc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){En(r,t,v)}}break;case 5:Gc(h,h.return);break;case 22:if(h.memoizedState!==null){T_(f);continue}}m!==null?(m.return=h,rt=m):T_(f)}c=c.sibling}e:for(c=null,f=n;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XM("display",o))}catch(v){En(n,n.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){En(n,n.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cs(e,n),Hs(n),r&4&&S_(n);break;case 21:break;default:cs(e,n),Hs(n)}}function Hs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(_P(t)){var r=t;break e}t=t.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fh(i,""),r.flags&=-33);var s=A_(n);J6(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=A_(n);Z6(n,a,o);break;default:throw Error(Ue(161))}}catch(l){En(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function zN(n,e,t){rt=n,CP(n)}function CP(n,e,t){for(var r=(n.mode&1)!==0;rt!==null;){var i=rt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Br;a=Pm;var u=Br;if(Pm=o,(Br=l)&&!u)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?M_(i):l!==null?(l.return=o,rt=l):M_(i);for(;s!==null;)rt=s,CP(s),s=s.sibling;rt=i,Pm=a,Br=u}C_(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rt=s):C_(n)}}function C_(n){for(;rt!==null;){var e=rt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Br||J2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Br)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ms(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}l_(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&zh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Br||e.flags&512&&j6(e)}catch(h){En(e,e.return,h)}}if(e===n){rt=null;break}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}}function T_(n){for(;rt!==null;){var e=rt;if(e===n){rt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,rt=t;break}rt=e.return}}function M_(n){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{J2(4,e)}catch(l){En(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){En(e,i,l)}}var s=e.return;try{j6(e)}catch(l){En(e,s,l)}break;case 5:var o=e.return;try{j6(e)}catch(l){En(e,o,l)}}}catch(l){En(e,e.return,l)}if(e===n){rt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,rt=a;break}rt=e.return}}var HN=Math.ceil,Dg=qo.ReactCurrentDispatcher,b9=qo.ReactCurrentOwner,es=qo.ReactCurrentBatchConfig,Xt=0,ur=null,Hn=null,yr=0,wi=0,zc=ol(0),Xn=0,Qh=null,Au=0,q2=0,_9=0,_h=null,ii=null,A9=0,yd=1/0,Ao=null,kg=!1,q6=null,Ua=null,Im=!1,Pa=null,Lg=0,Ah=0,X6=null,J3=-1,q3=0;function jr(){return Xt&6?kn():J3!==-1?J3:J3=kn()}function Ga(n){return n.mode&1?Xt&2&&yr!==0?yr&-yr:CN.transition!==null?(q3===0&&(q3=lE()),q3):(n=rn,n!==0||(n=window.event,n=n===void 0?16:mE(n.type)),n):1}function _s(n,e,t,r){if(50<Ah)throw Ah=0,X6=null,Error(Ue(185));Mp(n,t,r),(!(Xt&2)||n!==ur)&&(n===ur&&(!(Xt&2)&&(q2|=t),Xn===4&&Ma(n,yr)),ci(n,r),t===1&&Xt===0&&!(e.mode&1)&&(yd=kn()+500,W2&&al()))}function ci(n,e){var t=n.callbackNode;CF(n,e);var r=vg(n,n===ur?yr:0);if(r===0)t!==null&&Ob(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Ob(t),e===1)n.tag===0?SN(E_.bind(null,n)):kE(E_.bind(null,n)),wN(function(){!(Xt&6)&&al()}),t=null;else{switch(uE(r)){case 1:t=X4;break;case 4:t=oE;break;case 16:t=yg;break;case 536870912:t=aE;break;default:t=yg}t=DP(t,TP.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function TP(n,e){if(J3=-1,q3=0,Xt&6)throw Error(Ue(327));var t=n.callbackNode;if(id()&&n.callbackNode!==t)return null;var r=vg(n,n===ur?yr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Og(n,r);else{e=r;var i=Xt;Xt|=2;var s=EP();(ur!==n||yr!==e)&&(Ao=null,yd=kn()+500,cu(n,e));do try{jN();break}catch(a){MP(n,a)}while(1);l9(),Dg.current=s,Xt=i,Hn!==null?e=0:(ur=null,yr=0,e=Xn)}if(e!==0){if(e===2&&(i=_6(n),i!==0&&(r=i,e=K6(n,i))),e===1)throw t=Qh,cu(n,0),Ma(n,r),ci(n,kn()),t;if(e===6)Ma(n,r);else{if(i=n.current.alternate,!(r&30)&&!VN(i)&&(e=Og(n,r),e===2&&(s=_6(n),s!==0&&(r=s,e=K6(n,s))),e===1))throw t=Qh,cu(n,0),Ma(n,r),ci(n,kn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:zl(n,ii,Ao);break;case 3:if(Ma(n,r),(r&130023424)===r&&(e=A9+500-kn(),10<e)){if(vg(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){jr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=I6(zl.bind(null,n,ii,Ao),e);break}zl(n,ii,Ao);break;case 4:if(Ma(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-bs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HN(r/1960))-r,10<r){n.timeoutHandle=I6(zl.bind(null,n,ii,Ao),r);break}zl(n,ii,Ao);break;case 5:zl(n,ii,Ao);break;default:throw Error(Ue(329))}}}return ci(n,kn()),n.callbackNode===t?TP.bind(null,n):null}function K6(n,e){var t=_h;return n.current.memoizedState.isDehydrated&&(cu(n,e).flags|=256),n=Og(n,e),n!==2&&(e=ii,ii=t,e!==null&&Y6(e)),n}function Y6(n){ii===null?ii=n:ii.push.apply(ii,n)}function VN(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ss(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ma(n,e){for(e&=~_9,e&=~q2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-bs(e),r=1<<t;n[t]=-1,e&=~r}}function E_(n){if(Xt&6)throw Error(Ue(327));id();var e=vg(n,0);if(!(e&1))return ci(n,kn()),null;var t=Og(n,e);if(n.tag!==0&&t===2){var r=_6(n);r!==0&&(e=r,t=K6(n,r))}if(t===1)throw t=Qh,cu(n,0),Ma(n,e),ci(n,kn()),t;if(t===6)throw Error(Ue(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zl(n,ii,Ao),ci(n,kn()),null}function S9(n,e){var t=Xt;Xt|=1;try{return n(e)}finally{Xt=t,Xt===0&&(yd=kn()+500,W2&&al())}}function Su(n){Pa!==null&&Pa.tag===0&&!(Xt&6)&&id();var e=Xt;Xt|=1;var t=es.transition,r=rn;try{if(es.transition=null,rn=1,n)return n()}finally{rn=r,es.transition=t,Xt=e,!(Xt&6)&&al()}}function C9(){wi=zc.current,pn(zc)}function cu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,xN(t)),Hn!==null)for(t=Hn.return;t!==null;){var r=t;switch(s9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ag();break;case 3:md(),pn(li),pn(Lr),p9();break;case 5:h9(r);break;case 4:md();break;case 13:pn(wn);break;case 19:pn(wn);break;case 10:u9(r.type._context);break;case 22:case 23:C9()}t=t.return}if(ur=n,Hn=n=za(n.current,null),yr=wi=e,Xn=0,Qh=null,_9=q2=Au=0,ii=_h=null,$l!==null){for(e=0;e<$l.length;e++)if(t=$l[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}$l=null}return n}function MP(n,e){do{var t=Hn;try{if(l9(),W3.current=Bg,Rg){for(var r=Sn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rg=!1}if(_u=0,sr=Jn=Sn=null,wh=!1,Xh=0,b9.current=null,t===null||t.return===null){Xn=1,Qh=e,Hn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=m_(o);if(m!==null){m.flags&=-257,g_(m,o,a,s,e),m.mode&1&&p_(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){p_(s,u,e),T9();break e}l=Error(Ue(426))}}else if(yn&&a.mode&1){var y=m_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),g_(y,o,a,s,e),o9(gd(l,a));break e}}s=l=gd(l,a),Xn!==4&&(Xn=2),_h===null?_h=[s]:_h.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=cP(s,l,e);a_(s,x);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ua===null||!Ua.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=dP(s,a,e);a_(s,S);break e}}s=s.return}while(s!==null)}IP(t)}catch(R){e=R,Hn===t&&t!==null&&(Hn=t=t.return);continue}break}while(1)}function EP(){var n=Dg.current;return Dg.current=Bg,n===null?Bg:n}function T9(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ur===null||!(Au&268435455)&&!(q2&268435455)||Ma(ur,yr)}function Og(n,e){var t=Xt;Xt|=2;var r=EP();(ur!==n||yr!==e)&&(Ao=null,cu(n,e));do try{WN();break}catch(i){MP(n,i)}while(1);if(l9(),Xt=t,Dg.current=r,Hn!==null)throw Error(Ue(261));return ur=null,yr=0,Xn}function WN(){for(;Hn!==null;)PP(Hn)}function jN(){for(;Hn!==null&&!gF();)PP(Hn)}function PP(n){var e=BP(n.alternate,n,wi);n.memoizedProps=n.pendingProps,e===null?IP(n):Hn=e,b9.current=null}function IP(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=NN(t,e),t!==null){t.flags&=32767,Hn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Xn=6,Hn=null;return}}else if(t=FN(t,e,wi),t!==null){Hn=t;return}if(e=e.sibling,e!==null){Hn=e;return}Hn=e=n}while(e!==null);Xn===0&&(Xn=5)}function zl(n,e,t){var r=rn,i=es.transition;try{es.transition=null,rn=1,ZN(n,e,t,r)}finally{es.transition=i,rn=r}return null}function ZN(n,e,t,r){do id();while(Pa!==null);if(Xt&6)throw Error(Ue(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ue(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(TF(n,s),n===ur&&(Hn=ur=null,yr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Im||(Im=!0,DP(yg,function(){return id(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=es.transition,es.transition=null;var o=rn;rn=1;var a=Xt;Xt|=4,b9.current=null,GN(n,t),SP(t,n),fN(E6),xg=!!M6,E6=M6=null,n.current=t,zN(t),yF(),Xt=a,rn=o,es.transition=s}else n.current=t;if(Im&&(Im=!1,Pa=n,Lg=i),s=n.pendingLanes,s===0&&(Ua=null),wF(t.stateNode),ci(n,kn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(kg)throw kg=!1,n=q6,q6=null,n;return Lg&1&&n.tag!==0&&id(),s=n.pendingLanes,s&1?n===X6?Ah++:(Ah=0,X6=n):Ah=0,al(),null}function id(){if(Pa!==null){var n=uE(Lg),e=es.transition,t=rn;try{if(es.transition=null,rn=16>n?16:n,Pa===null)var r=!1;else{if(n=Pa,Pa=null,Lg=0,Xt&6)throw Error(Ue(331));var i=Xt;for(Xt|=4,rt=n.current;rt!==null;){var s=rt,o=s.child;if(rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(rt=u;rt!==null;){var c=rt;switch(c.tag){case 0:case 11:case 15:bh(8,c,s)}var f=c.child;if(f!==null)f.return=c,rt=f;else for(;rt!==null;){c=rt;var h=c.sibling,m=c.return;if(bP(c),c===u){rt=null;break}if(h!==null){h.return=m,rt=h;break}rt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,rt=o;else e:for(;rt!==null;){if(s=rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bh(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,rt=x;break e}rt=s.return}}var _=n.current;for(rt=_;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=_;rt!==null;){if(a=rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:J2(9,a)}}catch(R){En(a,a.return,R)}if(a===o){rt=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,rt=S;break e}rt=a.return}}if(Xt=i,al(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(U2,n)}catch{}r=!0}return r}finally{rn=t,es.transition=e}}return!1}function P_(n,e,t){e=gd(t,e),e=cP(n,e,1),n=Na(n,e,1),e=jr(),n!==null&&(Mp(n,1,e),ci(n,e))}function En(n,e,t){if(n.tag===3)P_(n,n,t);else for(;e!==null;){if(e.tag===3){P_(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ua===null||!Ua.has(r))){n=gd(t,n),n=dP(e,n,1),e=Na(e,n,1),n=jr(),e!==null&&(Mp(e,1,n),ci(e,n));break}}e=e.return}}function JN(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=jr(),n.pingedLanes|=n.suspendedLanes&t,ur===n&&(yr&t)===t&&(Xn===4||Xn===3&&(yr&130023424)===yr&&500>kn()-A9?cu(n,0):_9|=t),ci(n,e)}function RP(n,e){e===0&&(n.mode&1?(e=wm,wm<<=1,!(wm&130023424)&&(wm=4194304)):e=1);var t=jr();n=Wo(n,e),n!==null&&(Mp(n,e,t),ci(n,t))}function qN(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),RP(n,t)}function XN(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),RP(n,t)}var BP;BP=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||li.current)oi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return oi=!1,ON(n,e,t);oi=!!(n.flags&131072)}else oi=!1,yn&&e.flags&1048576&&LE(e,Tg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Z3(n,e),n=e.pendingProps;var i=fd(e,Lr.current);rd(e,t),i=g9(null,e,r,n,i,t);var s=y9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(s=!0,Sg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d9(e),i.updater=j2,e.stateNode=i,i._reactInternals=e,F6(e,r,n,t),e=G6(null,e,r,!0,s,t)):(e.tag=0,yn&&s&&i9(e),Vr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Z3(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YN(r),n=ms(r,n),i){case 0:e=U6(null,e,r,n,t);break e;case 1:e=x_(null,e,r,n,t);break e;case 11:e=y_(null,e,r,n,t);break e;case 14:e=v_(null,e,r,ms(r.type,n),t);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ms(r,i),U6(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ms(r,i),x_(n,e,r,i,t);case 3:e:{if(mP(e),n===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,UE(n,e),Pg(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gd(Error(Ue(423)),e),e=w_(n,e,r,t,i);break e}else if(r!==i){i=gd(Error(Ue(424)),e),e=w_(n,e,r,t,i);break e}else for(bi=Fa(e.stateNode.containerInfo.firstChild),Ai=e,yn=!0,vs=null,t=VE(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(hd(),r===i){e=jo(n,e,t);break e}Vr(n,e,r,t)}e=e.child}return e;case 5:return WE(e),n===null&&k6(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,P6(r,i)?o=null:s!==null&&P6(r,s)&&(e.flags|=32),pP(n,e),Vr(n,e,o,t),e.child;case 6:return n===null&&k6(e),null;case 13:return gP(n,e,t);case 4:return f9(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=pd(e,null,r,t):Vr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ms(r,i),y_(n,e,r,i,t);case 7:return Vr(n,e,e.pendingProps,t),e.child;case 8:return Vr(n,e,e.pendingProps.children,t),e.child;case 12:return Vr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ln(Mg,r._currentValue),r._currentValue=o,s!==null)if(Ss(s.value,o)){if(s.children===i.children&&!li.current){e=jo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Oo(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),L6(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),L6(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rd(e,t),i=rs(i),r=r(i),e.flags|=1,Vr(n,e,r,t),e.child;case 14:return r=e.type,i=ms(r,e.pendingProps),i=ms(r.type,i),v_(n,e,r,i,t);case 15:return fP(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ms(r,i),Z3(n,e),e.tag=1,ui(r)?(n=!0,Sg(e)):n=!1,rd(e,t),zE(e,r,i),F6(e,r,i,t),G6(null,e,r,!0,n,t);case 19:return yP(n,e,t);case 22:return hP(n,e,t)}throw Error(Ue(156,e.tag))};function DP(n,e){return sE(n,e)}function KN(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(n,e,t,r){return new KN(n,e,t,r)}function M9(n){return n=n.prototype,!(!n||!n.isReactComponent)}function YN(n){if(typeof n=="function")return M9(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z4)return 11;if(n===J4)return 14}return 2}function za(n,e){var t=n.alternate;return t===null?(t=Qi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function X3(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")M9(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Rc:return du(t.children,i,s,e);case j4:o=8,i|=8;break;case a6:return n=Qi(12,t,e,i|2),n.elementType=a6,n.lanes=s,n;case l6:return n=Qi(13,t,e,i),n.elementType=l6,n.lanes=s,n;case u6:return n=Qi(19,t,e,i),n.elementType=u6,n.lanes=s,n;case HM:return X2(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case GM:o=10;break e;case zM:o=9;break e;case Z4:o=11;break e;case J4:o=14;break e;case ba:o=16,r=null;break e}throw Error(Ue(130,n==null?n:typeof n,""))}return e=Qi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function du(n,e,t,r){return n=Qi(7,n,r,e),n.lanes=t,n}function X2(n,e,t,r){return n=Qi(22,n,r,e),n.elementType=HM,n.lanes=t,n.stateNode={isHidden:!1},n}function Ev(n,e,t){return n=Qi(6,n,null,e),n.lanes=t,n}function Pv(n,e,t){return e=Qi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function QN(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uv(0),this.expirationTimes=uv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function E9(n,e,t,r,i,s,o,a,l){return n=new QN(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},d9(s),n}function $N(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ic,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function kP(n){if(!n)return Ja;n=n._reactInternals;e:{if(Du(n)!==n||n.tag!==1)throw Error(Ue(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(n.tag===1){var t=n.type;if(ui(t))return DE(n,t,e)}return e}function LP(n,e,t,r,i,s,o,a,l){return n=E9(t,r,!0,n,i,s,o,a,l),n.context=kP(null),t=n.current,r=jr(),i=Ga(t),s=Oo(r,i),s.callback=e??null,Na(t,s,i),n.current.lanes=i,Mp(n,i,r),ci(n,r),n}function K2(n,e,t,r){var i=e.current,s=jr(),o=Ga(i);return t=kP(t),e.context===null?e.context=t:e.pendingContext=t,e=Oo(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Na(i,e,o),n!==null&&(_s(n,i,o,s),V3(n,i,o)),o}function Fg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function I_(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function P9(n,e){I_(n,e),(n=n.alternate)&&I_(n,e)}function eU(){return null}var OP=typeof reportError=="function"?reportError:function(n){console.error(n)};function I9(n){this._internalRoot=n}Y2.prototype.render=I9.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ue(409));K2(n,e,null,null)};Y2.prototype.unmount=I9.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Su(function(){K2(null,n,null,null)}),e[Vo]=null}};function Y2(n){this._internalRoot=n}Y2.prototype.unstable_scheduleHydration=function(n){if(n){var e=fE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ta.length&&e!==0&&e<Ta[t].priority;t++);Ta.splice(t,0,n),t===0&&pE(n)}};function R9(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Q2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function R_(){}function tU(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fg(o);s.call(u)}}var o=LP(e,r,n,0,null,!1,!1,"",R_);return n._reactRootContainer=o,n[Vo]=o.current,Wh(n.nodeType===8?n.parentNode:n),Su(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fg(l);a.call(u)}}var l=E9(n,0,!1,null,null,!1,!1,"",R_);return n._reactRootContainer=l,n[Vo]=l.current,Wh(n.nodeType===8?n.parentNode:n),Su(function(){K2(e,l,t,r)}),l}function $2(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fg(o);a.call(l)}}K2(e,o,n,i)}else o=tU(t,e,n,i,r);return Fg(o)}cE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ch(e.pendingLanes);t!==0&&(K4(e,t|1),ci(e,kn()),!(Xt&6)&&(yd=kn()+500,al()))}break;case 13:Su(function(){var r=Wo(n,1);if(r!==null){var i=jr();_s(r,n,1,i)}}),P9(n,1)}};Y4=function(n){if(n.tag===13){var e=Wo(n,134217728);if(e!==null){var t=jr();_s(e,n,134217728,t)}P9(n,134217728)}};dE=function(n){if(n.tag===13){var e=Ga(n),t=Wo(n,e);if(t!==null){var r=jr();_s(t,n,e,r)}P9(n,e)}};fE=function(){return rn};hE=function(n,e){var t=rn;try{return rn=n,e()}finally{rn=t}};x6=function(n,e,t){switch(e){case"input":if(f6(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=V2(r);if(!i)throw Error(Ue(90));WM(r),f6(r,i)}}}break;case"textarea":ZM(n,t);break;case"select":e=t.value,e!=null&&$c(n,!!t.multiple,e,!1)}};$M=S9;eE=Su;var nU={usingClientEntryPoint:!1,Events:[Pp,Lc,V2,YM,QM,S9]},Tf={findFiberByHostInstance:Ql,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rU={bundleType:Tf.bundleType,version:Tf.version,rendererPackageName:Tf.rendererPackageName,rendererConfig:Tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=rE(n),n===null?null:n.stateNode},findFiberByHostInstance:Tf.findFiberByHostInstance||eU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rm.isDisabled&&Rm.supportsFiber)try{U2=Rm.inject(rU),Xs=Rm}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nU;Ei.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R9(e))throw Error(Ue(200));return $N(n,e,null,t)};Ei.createRoot=function(n,e){if(!R9(n))throw Error(Ue(299));var t=!1,r="",i=OP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=E9(n,1,!1,null,null,t,!1,r,i),n[Vo]=e.current,Wh(n.nodeType===8?n.parentNode:n),new I9(e)};Ei.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ue(188)):(n=Object.keys(n).join(","),Error(Ue(268,n)));return n=rE(e),n=n===null?null:n.stateNode,n};Ei.flushSync=function(n){return Su(n)};Ei.hydrate=function(n,e,t){if(!Q2(e))throw Error(Ue(200));return $2(null,n,e,!0,t)};Ei.hydrateRoot=function(n,e,t){if(!R9(n))throw Error(Ue(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=OP;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=LP(e,null,n,1,t??null,i,!1,s,o),n[Vo]=e.current,Wh(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Y2(e)};Ei.render=function(n,e,t){if(!Q2(e))throw Error(Ue(200));return $2(null,n,e,!1,t)};Ei.unmountComponentAtNode=function(n){if(!Q2(n))throw Error(Ue(40));return n._reactRootContainer?(Su(function(){$2(null,null,n,!1,function(){n._reactRootContainer=null,n[Vo]=null})}),!0):!1};Ei.unstable_batchedUpdates=S9;Ei.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Q2(t))throw Error(Ue(200));if(n==null||n._reactInternals===void 0)throw Error(Ue(38));return $2(n,e,t,!1,r)};Ei.version="18.2.0-next-9e3b772b8-20220608";function FP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FP)}catch(n){console.error(n)}}FP(),LM.exports=Ei;var NP=LM.exports;const iU=il(NP);var UP,B_=NP;UP=s6.createRoot=B_.createRoot,s6.hydrateRoot=B_.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$h.apply(this,arguments)}var Ia;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ia||(Ia={}));const D_="popstate";function sU(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Q6("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Ng(i)}return aU(e,t,null,n)}function Vn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function B9(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oU(){return Math.random().toString(36).substr(2,8)}function k_(n,e){return{usr:n.state,key:n.key,idx:e}}function Q6(n,e,t,r){return t===void 0&&(t=null),$h({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ud(e):e,{state:t,key:e&&e.key||r||oU()})}function Ng(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ud(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function aU(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ia.Pop,l=null,u=c();u==null&&(u=0,o.replaceState($h({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Ia.Pop;let y=c(),x=y==null?null:y-u;u=y,l&&l({action:a,location:v.location,delta:x})}function h(y,x){a=Ia.Push;let _=Q6(v.location,y,x);t&&t(_,y),u=c()+1;let b=k_(_,u),S=v.createHref(_);try{o.pushState(b,"",S)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function m(y,x){a=Ia.Replace;let _=Q6(v.location,y,x);t&&t(_,y),u=c();let b=k_(_,u),S=v.createHref(_);o.replaceState(b,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:Ng(y);return Vn(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let v={get action(){return a},get location(){return n(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(D_,f),l=y,()=>{i.removeEventListener(D_,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return o.go(y)}};return v}var L_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(L_||(L_={}));function lU(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Ud(e):e,i=D9(r.pathname||"/",t);if(i==null)return null;let s=GP(n);uU(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=vU(s[a],bU(i));return o}function GP(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ha([r,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(Vn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),GP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:gU(u,s.index),routesMeta:c})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of zP(s.path))i(s,o,l)}),e}function zP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function uU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yU(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const cU=/^:\w+$/,dU=3,fU=2,hU=1,pU=10,mU=-2,O_=n=>n==="*";function gU(n,e){let t=n.split("/"),r=t.length;return t.some(O_)&&(r+=mU),e&&(r+=fU),t.filter(i=>!O_(i)).reduce((i,s)=>i+(cU.test(s)?dU:s===""?hU:pU),r)}function yU(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function vU(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=xU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Ha([i,c.pathname]),pathnameBase:CU(Ha([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Ha([i,c.pathnameBase]))}return s}function xU(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=wU(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let h=a[f]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=_U(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:n}}function wU(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),B9(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bU(n){try{return decodeURI(n)}catch(e){return B9(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function _U(n,e){try{return decodeURIComponent(n)}catch(t){return B9(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function D9(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AU(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ud(n):n;return{pathname:t?t.startsWith("/")?t:SU(t,e):e,search:TU(r),hash:MU(i)}}function SU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Iv(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VP(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ud(n):(i=$h({},n),Vn(!i.pathname||!i.pathname.includes("?"),Iv("?","pathname","search",i)),Vn(!i.pathname||!i.pathname.includes("#"),Iv("#","pathname","hash",i)),Vn(!i.search||!i.search.includes("#"),Iv("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=AU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ha=n=>n.join("/").replace(/\/\/+/g,"/"),CU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const WP=["post","put","patch","delete"];new Set(WP);const PU=["get",...WP];new Set(PU);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(){return Ug=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ug.apply(this,arguments)}const k9=Q.createContext(null),IU=Q.createContext(null),Gd=Q.createContext(null),e1=Q.createContext(null),ku=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),jP=Q.createContext(null);function RU(n,e){let{relative:t}=e===void 0?{}:e;Rp()||Vn(!1);let{basename:r,navigator:i}=Q.useContext(Gd),{hash:s,pathname:o,search:a}=JP(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ha([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Rp(){return Q.useContext(e1)!=null}function t1(){return Rp()||Vn(!1),Q.useContext(e1).location}function ZP(n){Q.useContext(Gd).static||Q.useLayoutEffect(n)}function BU(){let{isDataRoute:n}=Q.useContext(ku);return n?jU():DU()}function DU(){Rp()||Vn(!1);let n=Q.useContext(k9),{basename:e,navigator:t}=Q.useContext(Gd),{matches:r}=Q.useContext(ku),{pathname:i}=t1(),s=JSON.stringify(HP(r).map(l=>l.pathnameBase)),o=Q.useRef(!1);return ZP(()=>{o.current=!0}),Q.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let c=VP(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ha([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state,u)},[e,t,s,i,n])}function JP(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=Q.useContext(ku),{pathname:i}=t1(),s=JSON.stringify(HP(r).map(o=>o.pathnameBase));return Q.useMemo(()=>VP(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function kU(n,e){return LU(n,e)}function LU(n,e,t){Rp()||Vn(!1);let{navigator:r}=Q.useContext(Gd),{matches:i}=Q.useContext(ku),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=t1(),u;if(e){var c;let v=typeof e=="string"?Ud(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||Vn(!1),u=v}else u=l;let f=u.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",m=lU(n,{pathname:h}),g=GU(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ha([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Ha([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,t);return e&&g?Q.createElement(e1.Provider,{value:{location:Ug({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ia.Pop}},g):g}function OU(){let n=WU(),e=EU(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:i},t):null,s)}const FU=Q.createElement(OU,null);class NU extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Q.createElement(ku.Provider,{value:this.props.routeContext},Q.createElement(jP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UU(n){let{routeContext:e,match:t,children:r}=n,i=Q.useContext(k9);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(ku.Provider,{value:e},r)}function GU(n,e,t){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var i;if((i=t)!=null&&i.errors)n=t.matches;else return null}let s=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Vn(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;t&&(f=l.route.errorElement||FU);let h=e.concat(s.slice(0,u+1)),m=()=>{let g;return c?g=f:l.route.Component?g=Q.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,Q.createElement(UU,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:t!=null},children:g})};return t&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?Q.createElement(NU,{location:t.location,revalidation:t.revalidation,component:f,error:c,children:m(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):m()},null)}var qP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(qP||{}),Gg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Gg||{});function zU(n){let e=Q.useContext(k9);return e||Vn(!1),e}function HU(n){let e=Q.useContext(IU);return e||Vn(!1),e}function VU(n){let e=Q.useContext(ku);return e||Vn(!1),e}function XP(n){let e=VU(),t=e.matches[e.matches.length-1];return t.route.id||Vn(!1),t.route.id}function WU(){var n;let e=Q.useContext(jP),t=HU(Gg.UseRouteError),r=XP(Gg.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function jU(){let{router:n}=zU(qP.UseNavigateStable),e=XP(Gg.UseNavigateStable),t=Q.useRef(!1);return ZP(()=>{t.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Ug({fromRouteId:e},s)))},[n,e])}function KP(n){Vn(!1)}function ZU(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ia.Pop,navigator:s,static:o=!1}=n;Rp()&&Vn(!1);let a=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ud(r));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:m="default"}=r,g=Q.useMemo(()=>{let v=D9(u,a);return v==null?null:{location:{pathname:v,search:c,hash:f,state:h,key:m},navigationType:i}},[a,u,c,f,h,m,i]);return g==null?null:Q.createElement(Gd.Provider,{value:l},Q.createElement(e1.Provider,{children:t,value:g}))}function JU(n){let{children:e,location:t}=n;return kU($6(e),t)}new Promise(()=>{});function $6(n,e){e===void 0&&(e=[]);let t=[];return Q.Children.forEach(n,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){t.push.apply(t,$6(r.props.children,s));return}r.type!==KP&&Vn(!1),!r.props.index||!r.props.children||Vn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$6(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e8(){return e8=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},e8.apply(this,arguments)}function qU(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function XU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KU(n,e){return n.button===0&&(!e||e==="_self")&&!XU(n)}const YU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],QU="startTransition",F_=qO[QU];function $U(n){let{basename:e,children:t,future:r,window:i}=n,s=Q.useRef();s.current==null&&(s.current=sU({window:i,v5Compat:!0}));let o=s.current,[a,l]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=Q.useCallback(f=>{u&&F_?F_(()=>l(f)):l(f)},[l,u]);return Q.useLayoutEffect(()=>o.listen(c),[o,c]),Q.createElement(ZU,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}const eG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N_=Q.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,f=qU(e,YU),{basename:h}=Q.useContext(Gd),m,g=!1;if(typeof u=="string"&&tG.test(u)&&(m=u,eG))try{let _=new URL(window.location.href),b=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=D9(b.pathname,h);b.origin===_.origin&&S!=null?u=S+b.search+b.hash:g=!0}catch{}let v=RU(u,{relative:i}),y=nG(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function x(_){r&&r(_),_.defaultPrevented||y(_)}return Q.createElement("a",e8({},f,{href:m||v,onClick:g||s?r:x,ref:t,target:l}))});var U_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(U_||(U_={}));var G_;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(G_||(G_={}));function nG(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=BU(),l=t1(),u=JP(n,{relative:o});return Q.useCallback(c=>{if(KU(c,t)){c.preventDefault();let f=r!==void 0?r:Ng(l)===Ng(u);a(n,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Lu="149",Hl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Vl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},YP=0,t8=1,QP=2,rG=3,$P=0,n1=1,Sh=2,tu=3,io=0,Zr=1,ws=2,iG=2,Fo=0,fu=1,n8=2,r8=3,i8=4,eI=5,Jl=100,tI=101,nI=102,s8=103,o8=104,rI=200,iI=201,sI=202,oI=203,L9=204,O9=205,aI=206,lI=207,uI=208,cI=209,dI=210,fI=0,hI=1,pI=2,zg=3,mI=4,gI=5,yI=6,vI=7,Bp=0,xI=1,wI=2,As=0,bI=1,_I=2,AI=3,F9=4,SI=5,r1=300,qa=301,Xa=302,ep=303,tp=304,zd=306,Ka=1e3,mr=1001,vd=1002,Pn=1003,np=1004,sG=1004,sd=1005,oG=1005,bn=1006,i1=1007,aG=1007,so=1008,lG=1008,Zo=1009,CI=1010,TI=1011,N9=1012,MI=1013,Ra=1014,Io=1015,xd=1016,EI=1017,PI=1018,hu=1020,II=1021,si=1023,RI=1024,BI=1025,Va=1026,Cu=1027,DI=1028,kI=1029,LI=1030,OI=1031,FI=1033,K3=33776,Y3=33777,Q3=33778,$3=33779,a8=35840,l8=35841,u8=35842,c8=35843,NI=36196,d8=37492,f8=37496,h8=37808,p8=37809,m8=37810,g8=37811,y8=37812,v8=37813,x8=37814,w8=37815,b8=37816,_8=37817,A8=37818,S8=37819,C8=37820,T8=37821,eg=36492,UI=36283,M8=36284,E8=36285,P8=36286,GI=2200,zI=2201,HI=2202,wd=2300,Tu=2301,tg=2302,nu=2400,ru=2401,rp=2402,s1=2500,U9=2501,VI=0,G9=1,Hg=2,Ya=3e3,an=3001,WI=3200,jI=3201,ll=0,ZI=1,uG="",ys="srgb",bd="srgb-linear",cG=0,ng=7680,dG=7681,fG=7682,hG=7683,pG=34055,mG=34056,gG=5386,yG=512,vG=513,xG=514,wG=515,bG=516,_G=517,AG=518,JI=519,ip=35044,pu=35048,SG=35040,CG=35045,TG=35049,MG=35041,EG=35046,PG=35050,IG=35042,RG="100",I8="300 es",Vg=1035;class oo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Mr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let z_=1234567;const mu=Math.PI/180,sp=180/Math.PI;function Si(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Mr[n&255]+Mr[n>>8&255]+Mr[n>>16&255]+Mr[n>>24&255]+"-"+Mr[e&255]+Mr[e>>8&255]+"-"+Mr[e>>16&15|64]+Mr[e>>24&255]+"-"+Mr[t&63|128]+Mr[t>>8&255]+"-"+Mr[t>>16&255]+Mr[t>>24&255]+Mr[r&255]+Mr[r>>8&255]+Mr[r>>16&255]+Mr[r>>24&255]).toLowerCase()}function Ln(n,e,t){return Math.max(e,Math.min(t,n))}function z9(n,e){return(n%e+e)%e}function BG(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function DG(n,e,t){return n!==e?(t-n)/(e-n):0}function Ch(n,e,t){return(1-t)*n+t*e}function kG(n,e,t,r){return Ch(n,e,1-Math.exp(-t*r))}function LG(n,e=1){return e-Math.abs(z9(n,e*2)-e)}function OG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function FG(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function NG(n,e){return n+Math.floor(Math.random()*(e-n+1))}function UG(n,e){return n+Math.random()*(e-n)}function GG(n){return n*(.5-Math.random())}function zG(n){n!==void 0&&(z_=n);let e=z_+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function HG(n){return n*mu}function VG(n){return n*sp}function R8(n){return(n&n-1)===0&&n!==0}function qI(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Wg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function WG(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*c,l*f,l*h,a*u);break;case"YZY":n.set(l*h,a*c,l*f,a*u);break;case"ZXZ":n.set(l*f,l*h,a*c,a*u);break;case"XZX":n.set(a*c,l*g,l*m,a*u);break;case"YXY":n.set(l*m,a*c,l*g,a*u);break;case"ZYZ":n.set(l*g,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ro(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function on(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var XI=Object.freeze({__proto__:null,DEG2RAD:mu,RAD2DEG:sp,ceilPowerOfTwo:qI,clamp:Ln,damp:kG,degToRad:HG,denormalize:Ro,euclideanModulo:z9,floorPowerOfTwo:Wg,generateUUID:Si,inverseLerp:DG,isPowerOfTwo:R8,lerp:Ch,mapLinear:BG,normalize:on,pingpong:LG,radToDeg:VG,randFloat:UG,randFloatSpread:GG,randInt:NG,seededRandom:zG,setQuaternionFromProperEuler:WG,smootherstep:FG,smoothstep:OG});class Ie{constructor(e=0,t=0){Ie.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wr{constructor(){Wr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],m=r[5],g=r[8],v=i[0],y=i[3],x=i[6],_=i[1],b=i[4],S=i[7],R=i[2],T=i[5],B=i[8];return s[0]=o*v+a*_+l*R,s[3]=o*y+a*b+l*T,s[6]=o*x+a*S+l*B,s[1]=u*v+c*_+f*R,s[4]=u*y+c*b+f*T,s[7]=u*x+c*S+f*B,s[2]=h*v+m*_+g*R,s[5]=h*y+m*b+g*T,s[8]=h*x+m*S+g*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,h=a*l-c*s,m=u*s-o*l,g=t*f+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-c*r)*v,e[2]=(a*r-i*o)*v,e[3]=h*v,e[4]=(c*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-u*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Rv.makeScale(e,t)),this}rotate(e){return this.premultiply(Rv.makeRotation(-e)),this}translate(e,t){return this.premultiply(Rv.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Rv=new Wr;function KI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const jG={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hc(n,e){return new jG[n](e)}function op(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function gu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function rg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Bv={[ys]:{[bd]:gu},[bd]:{[ys]:rg}},Pr={legacyMode:!0,get workingColorSpace(){return bd},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Bv[e]&&Bv[e][t]!==void 0){const r=Bv[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},YI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zn={r:0,g:0,b:0},ds={h:0,s:0,l:0},Bm={h:0,s:0,l:0};function Dv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Dm(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Qe{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ys){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Pr.workingColorSpace){return this.r=e,this.g=t,this.b=r,Pr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Pr.workingColorSpace){if(e=z9(e,1),t=Ln(t,0,1),r=Ln(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Dv(o,s,e+1/3),this.g=Dv(o,s,e),this.b=Dv(o,s,e-1/3)}return Pr.toWorkingColorSpace(this,i),this}setStyle(e,t=ys){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Pr.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Pr.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Pr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Pr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=ys){const r=YI[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gu(e.r),this.g=gu(e.g),this.b=gu(e.b),this}copyLinearToSRGB(e){return this.r=rg(e.r),this.g=rg(e.g),this.b=rg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ys){return Pr.fromWorkingColorSpace(Dm(this,Zn),e),Ln(Zn.r*255,0,255)<<16^Ln(Zn.g*255,0,255)<<8^Ln(Zn.b*255,0,255)<<0}getHexString(e=ys){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Pr.workingColorSpace){Pr.fromWorkingColorSpace(Dm(this,Zn),t);const r=Zn.r,i=Zn.g,s=Zn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Pr.workingColorSpace){return Pr.fromWorkingColorSpace(Dm(this,Zn),t),e.r=Zn.r,e.g=Zn.g,e.b=Zn.b,e}getStyle(e=ys){return Pr.fromWorkingColorSpace(Dm(this,Zn),e),e!==ys?`color(${e} ${Zn.r} ${Zn.g} ${Zn.b})`:`rgb(${Zn.r*255|0},${Zn.g*255|0},${Zn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ds),ds.h+=e,ds.s+=t,ds.l+=r,this.setHSL(ds.h,ds.s,ds.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ds),e.getHSL(Bm);const r=Ch(ds.h,Bm.h,t),i=Ch(ds.s,Bm.s,t),s=Ch(ds.l,Bm.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Qe.NAMES=YI;let ic;class H9{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ic===void 0&&(ic=op("canvas")),ic.width=e.width,ic.height=e.height;const r=ic.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ic}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=op("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=gu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(gu(t[r]/255)*255):t[r]=gu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class iu{constructor(e=null){this.isSource=!0,this.uuid=Si(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(kv(i[o].image)):s.push(kv(i[o]))}else s=kv(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function kv(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?H9.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ZG=0;class vn extends oo{constructor(e=vn.DEFAULT_IMAGE,t=vn.DEFAULT_MAPPING,r=mr,i=mr,s=bn,o=so,a=si,l=Zo,u=vn.DEFAULT_ANISOTROPY,c=Ya){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ZG++}),this.uuid=Si(),this.name="",this.source=new iu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==r1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ka:e.x=e.x-Math.floor(e.x);break;case mr:e.x=e.x<0?0:1;break;case vd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ka:e.y=e.y-Math.floor(e.y);break;case mr:e.y=e.y<0?0:1;break;case vd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}vn.DEFAULT_IMAGE=null;vn.DEFAULT_MAPPING=r1;vn.DEFAULT_ANISOTROPY=1;class nn{constructor(e=0,t=0,r=0,i=1){nn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],m=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(u+1)/2,S=(m+1)/2,R=(x+1)/2,T=(c+h)/4,B=(f+v)/4,C=(g+y)/4;return b>S&&b>R?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=T/r,s=B/r):S>R?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=T/i,s=C/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=B/s,i=C/s),this.set(r,i,s,t),this}let _=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(h-c)*(h-c));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(f-v)/_,this.z=(h-c)/_,this.w=Math.acos((u+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Cs extends oo{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new nn(0,0,e,t),this.scissorTest=!1,this.viewport=new nn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new vn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:bn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new iu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class o1 extends vn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class JG extends Cs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new o1(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class V9 extends vn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qG extends Cs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new V9(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class XG extends Cs{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class cr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(f!==v||l!==h||u!==m||c!==g){let y=1-a;const x=l*h+u*m+c*g+f*v,_=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const R=Math.sqrt(b),T=Math.atan2(R,x*_);y=Math.sin(y*T)/R,a=Math.sin(a*T)/R}const S=a*_;if(l=l*y+h*S,u=u*y+m*S,c=c*y+g*S,f=f*y+v*S,y===1-a){const R=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=R,u*=R,c*=R,f*=R}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],h=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+c*f+l*m-u*h,e[t+1]=l*g+c*h+u*f-a*m,e[t+2]=u*g+c*m+a*h-l*f,e[t+3]=c*g-a*f-l*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),h=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"YXZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"ZXY":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"ZYX":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"YZX":this._x=h*c*f+u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f-h*m*g;break;case"XZY":this._x=h*c*f-u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],f=t[10],h=r+a+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ln(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class V{constructor(e=0,t=0,r=0){V.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(H_.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(H_.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,c=l*r+a*t-s*i,f=l*i+s*r-o*t,h=-s*t-o*r-a*i;return this.x=u*l+h*-s+c*-a-f*-o,this.y=c*l+h*-o+f*-s-u*-a,this.z=f*l+h*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Lv.copy(this).projectOnVector(e),this.sub(Lv)}reflect(e){return this.sub(Lv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Lv=new V,H_=new cr;class ul{constructor(e=new V(1/0,1/0,1/0),t=new V(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],h=e[l+2];c<t&&(t=c),f<r&&(r=f),h<i&&(i=h),c>s&&(s=c),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),h=e.getZ(l);c<t&&(t=c),f<r&&(r=f),h<i&&(i=h),c>s&&(s=c),f>o&&(o=f),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Cl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Cl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Cl)}else r.boundingBox===null&&r.computeBoundingBox(),Ov.copy(r.boundingBox),Ov.applyMatrix4(e.matrixWorld),this.union(Ov);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Cl),Cl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mf),km.subVectors(this.max,Mf),sc.subVectors(e.a,Mf),oc.subVectors(e.b,Mf),ac.subVectors(e.c,Mf),aa.subVectors(oc,sc),la.subVectors(ac,oc),Tl.subVectors(sc,ac);let t=[0,-aa.z,aa.y,0,-la.z,la.y,0,-Tl.z,Tl.y,aa.z,0,-aa.x,la.z,0,-la.x,Tl.z,0,-Tl.x,-aa.y,aa.x,0,-la.y,la.x,0,-Tl.y,Tl.x,0];return!Fv(t,sc,oc,ac,km)||(t=[1,0,0,0,1,0,0,0,1],!Fv(t,sc,oc,ac,km))?!1:(Lm.crossVectors(aa,la),t=[Lm.x,Lm.y,Lm.z],Fv(t,sc,oc,ac,km))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Cl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Cl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yo=[new V,new V,new V,new V,new V,new V,new V,new V],Cl=new V,Ov=new ul,sc=new V,oc=new V,ac=new V,aa=new V,la=new V,Tl=new V,Mf=new V,km=new V,Lm=new V,Ml=new V;function Fv(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Ml.fromArray(n,s);const a=i.x*Math.abs(Ml.x)+i.y*Math.abs(Ml.y)+i.z*Math.abs(Ml.z),l=e.dot(Ml),u=t.dot(Ml),c=r.dot(Ml);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const KG=new ul,Ef=new V,Nv=new V;class cl{constructor(e=new V,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):KG.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ef.subVectors(e,this.center);const t=Ef.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Ef,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Nv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ef.copy(e.center).add(Nv)),this.expandByPoint(Ef.copy(e.center).sub(Nv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vo=new V,Uv=new V,Om=new V,ua=new V,Gv=new V,Fm=new V,zv=new V;class Hd{constructor(e=new V,t=new V(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=vo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vo.copy(this.direction).multiplyScalar(t).add(this.origin),vo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Uv.copy(e).add(t).multiplyScalar(.5),Om.copy(t).sub(e).normalize(),ua.copy(this.origin).sub(Uv);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Om),a=ua.dot(this.direction),l=-ua.dot(Om),u=ua.lengthSq(),c=Math.abs(1-o*o);let f,h,m,g;if(c>0)if(f=o*l-a,h=o*a-l,g=s*c,f>=0)if(h>=-g)if(h<=g){const v=1/c;f*=v,h*=v,m=f*(f+o*h+2*a)+h*(o*f+h+2*l)+u}else h=s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;else h=-s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+u):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(Om).multiplyScalar(h).add(Uv),m}intersectSphere(e,t){vo.subVectors(e.center,this.origin);const r=vo.dot(this.direction),i=vo.dot(vo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,vo)!==null}intersectTriangle(e,t,r,i,s){Gv.subVectors(t,e),Fm.subVectors(r,e),zv.crossVectors(Gv,Fm);let o=this.direction.dot(zv),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ua.subVectors(this.origin,e);const l=a*this.direction.dot(Fm.crossVectors(ua,Fm));if(l<0)return null;const u=a*this.direction.dot(Gv.cross(ua));if(u<0||l+u>o)return null;const c=-a*ua.dot(zv);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,c,f,h,m,g,v,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=h,x[3]=m,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/lc.setFromMatrixColumn(e,0).length(),s=1/lc.setFromMatrixColumn(e,1).length(),o=1/lc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*c,m=o*f,g=a*c,v=a*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=m+g*u,t[5]=h-v*u,t[9]=-a*l,t[2]=v-h*u,t[6]=g+m*u,t[10]=o*l}else if(e.order==="YXZ"){const h=l*c,m=l*f,g=u*c,v=u*f;t[0]=h+v*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-a,t[2]=m*a-g,t[6]=v+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*c,m=l*f,g=u*c,v=u*f;t[0]=h-v*a,t[4]=-o*f,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*c,t[9]=v-h*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*c,m=o*f,g=a*c,v=a*f;t[0]=l*c,t[4]=g*u-m,t[8]=h*u+v,t[1]=l*f,t[5]=v*u+h,t[9]=m*u-g,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*c,t[4]=v-h*f,t[8]=g*f+m,t[1]=f,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=m*f+g,t[10]=h-v*f}else if(e.order==="XZY"){const h=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=h*f+v,t[5]=o*c,t[9]=m*f-g,t[2]=g*f-m,t[6]=a*c,t[10]=v*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(YG,e,QG)}lookAt(e,t,r){const i=this.elements;return vi.subVectors(e,t),vi.lengthSq()===0&&(vi.z=1),vi.normalize(),ca.crossVectors(r,vi),ca.lengthSq()===0&&(Math.abs(r.z)===1?vi.x+=1e-4:vi.z+=1e-4,vi.normalize(),ca.crossVectors(r,vi)),ca.normalize(),Nm.crossVectors(vi,ca),i[0]=ca.x,i[4]=Nm.x,i[8]=vi.x,i[1]=ca.y,i[5]=Nm.y,i[9]=vi.y,i[2]=ca.z,i[6]=Nm.z,i[10]=vi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],m=r[13],g=r[2],v=r[6],y=r[10],x=r[14],_=r[3],b=r[7],S=r[11],R=r[15],T=i[0],B=i[4],C=i[8],P=i[12],I=i[1],k=i[5],U=i[9],q=i[13],W=i[2],$=i[6],ee=i[10],ce=i[14],N=i[3],H=i[7],j=i[11],oe=i[15];return s[0]=o*T+a*I+l*W+u*N,s[4]=o*B+a*k+l*$+u*H,s[8]=o*C+a*U+l*ee+u*j,s[12]=o*P+a*q+l*ce+u*oe,s[1]=c*T+f*I+h*W+m*N,s[5]=c*B+f*k+h*$+m*H,s[9]=c*C+f*U+h*ee+m*j,s[13]=c*P+f*q+h*ce+m*oe,s[2]=g*T+v*I+y*W+x*N,s[6]=g*B+v*k+y*$+x*H,s[10]=g*C+v*U+y*ee+x*j,s[14]=g*P+v*q+y*ce+x*oe,s[3]=_*T+b*I+S*W+R*N,s[7]=_*B+b*k+S*$+R*H,s[11]=_*C+b*U+S*ee+R*j,s[15]=_*P+b*q+S*ce+R*oe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],m=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*f-i*u*f-s*a*h+r*u*h+i*a*m-r*l*m)+v*(+t*l*m-t*u*h+s*o*h-i*o*m+i*u*c-s*l*c)+y*(+t*u*f-t*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+x*(-i*a*c-t*l*f+t*a*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],m=e[11],g=e[12],v=e[13],y=e[14],x=e[15],_=f*y*u-v*h*u+v*l*m-a*y*m-f*l*x+a*h*x,b=g*h*u-c*y*u-g*l*m+o*y*m+c*l*x-o*h*x,S=c*v*u-g*f*u+g*a*m-o*v*m-c*a*x+o*f*x,R=g*f*l-c*v*l-g*a*h+o*v*h+c*a*y-o*f*y,T=t*_+r*b+i*S+s*R;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/T;return e[0]=_*B,e[1]=(v*h*s-f*y*s-v*i*m+r*y*m+f*i*x-r*h*x)*B,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*x+r*l*x)*B,e[3]=(f*l*s-a*h*s-f*i*u+r*h*u+a*i*m-r*l*m)*B,e[4]=b*B,e[5]=(c*y*s-g*h*s+g*i*m-t*y*m-c*i*x+t*h*x)*B,e[6]=(g*l*s-o*y*s-g*i*u+t*y*u+o*i*x-t*l*x)*B,e[7]=(o*h*s-c*l*s+c*i*u-t*h*u-o*i*m+t*l*m)*B,e[8]=S*B,e[9]=(g*f*s-c*v*s-g*r*m+t*v*m+c*r*x-t*f*x)*B,e[10]=(o*v*s-g*a*s+g*r*u-t*v*u-o*r*x+t*a*x)*B,e[11]=(c*a*s-o*f*s-c*r*u+t*f*u+o*r*m-t*a*m)*B,e[12]=R*B,e[13]=(c*v*i-g*f*i+g*r*h-t*v*h-c*r*y+t*f*y)*B,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*B,e[15]=(o*f*i-c*a*i+c*r*l-t*f*l-o*r*h+t*a*h)*B,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,c=o+o,f=a+a,h=s*u,m=s*c,g=s*f,v=o*c,y=o*f,x=a*f,_=l*u,b=l*c,S=l*f,R=r.x,T=r.y,B=r.z;return i[0]=(1-(v+x))*R,i[1]=(m+S)*R,i[2]=(g-b)*R,i[3]=0,i[4]=(m-S)*T,i[5]=(1-(h+x))*T,i[6]=(y+_)*T,i[7]=0,i[8]=(g+b)*B,i[9]=(y-_)*B,i[10]=(1-(h+v))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=lc.set(i[0],i[1],i[2]).length();const o=lc.set(i[4],i[5],i[6]).length(),a=lc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],fs.copy(this);const u=1/s,c=1/o,f=1/a;return fs.elements[0]*=u,fs.elements[1]*=u,fs.elements[2]*=u,fs.elements[4]*=c,fs.elements[5]*=c,fs.elements[6]*=c,fs.elements[8]*=f,fs.elements[9]*=f,fs.elements[10]*=f,t.setFromRotationMatrix(fs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),c=(t+e)/(t-e),f=(r+i)/(r-i),h=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),c=1/(o-s),f=(t+e)*l,h=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const lc=new V,fs=new St,YG=new V(0,0,0),QG=new V(1,1,1),ca=new V,Nm=new V,vi=new V,V_=new St,W_=new cr;class Dp{constructor(e=0,t=0,r=0,i=Dp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Ln(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ln(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Ln(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return V_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(V_,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return W_.setFromEuler(this),this.setFromQuaternion(W_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Dp.DEFAULT_ORDER="XYZ";class yu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $G=0;const j_=new V,uc=new cr,xo=new St,Um=new V,Pf=new V,ez=new V,tz=new cr,Z_=new V(1,0,0),J_=new V(0,1,0),q_=new V(0,0,1),nz={type:"added"},X_={type:"removed"};class Jt extends oo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$G++}),this.uuid=Si(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jt.DEFAULT_UP.clone();const e=new V,t=new Dp,r=new cr,i=new V(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new St},normalMatrix:{value:new Wr}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Jt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new yu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return uc.setFromAxisAngle(e,t),this.quaternion.multiply(uc),this}rotateOnWorldAxis(e,t){return uc.setFromAxisAngle(e,t),this.quaternion.premultiply(uc),this}rotateX(e){return this.rotateOnAxis(Z_,e)}rotateY(e){return this.rotateOnAxis(J_,e)}rotateZ(e){return this.rotateOnAxis(q_,e)}translateOnAxis(e,t){return j_.copy(e).applyQuaternion(this.quaternion),this.position.add(j_.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Z_,e)}translateY(e){return this.translateOnAxis(J_,e)}translateZ(e){return this.translateOnAxis(q_,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Um.copy(e):Um.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Pf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xo.lookAt(Pf,Um,this.up):xo.lookAt(Um,Pf,this.up),this.quaternion.setFromRotationMatrix(xo),i&&(xo.extractRotation(i.matrixWorld),uc.setFromRotationMatrix(xo),this.quaternion.premultiply(uc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(X_)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(X_)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),xo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xo.multiply(e.parent.matrixWorld)),e.applyMatrix4(xo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,e,ez),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,tz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Jt.DEFAULT_UP=new V(0,1,0);Jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hs=new V,wo=new V,Hv=new V,bo=new V,cc=new V,dc=new V,K_=new V,Vv=new V,Wv=new V,jv=new V;class Yi{constructor(e=new V,t=new V,r=new V){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),hs.subVectors(e,t),i.cross(hs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){hs.subVectors(i,t),wo.subVectors(r,t),Hv.subVectors(e,t);const o=hs.dot(hs),a=hs.dot(wo),l=hs.dot(Hv),u=wo.dot(wo),c=wo.dot(Hv),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,m=(u*l-a*c)*h,g=(o*c-a*l)*h;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,bo),bo.x>=0&&bo.y>=0&&bo.x+bo.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,bo),l.set(0,0),l.addScaledVector(s,bo.x),l.addScaledVector(o,bo.y),l.addScaledVector(a,bo.z),l}static isFrontFacing(e,t,r,i){return hs.subVectors(r,t),wo.subVectors(e,t),hs.cross(wo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hs.subVectors(this.c,this.b),wo.subVectors(this.a,this.b),hs.cross(wo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Yi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Yi.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Yi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;cc.subVectors(i,r),dc.subVectors(s,r),Vv.subVectors(e,r);const l=cc.dot(Vv),u=dc.dot(Vv);if(l<=0&&u<=0)return t.copy(r);Wv.subVectors(e,i);const c=cc.dot(Wv),f=dc.dot(Wv);if(c>=0&&f<=c)return t.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(cc,o);jv.subVectors(e,s);const m=cc.dot(jv),g=dc.dot(jv);if(g>=0&&m<=g)return t.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),t.copy(r).addScaledVector(dc,a);const y=c*g-m*f;if(y<=0&&f-c>=0&&m-g>=0)return K_.subVectors(s,i),a=(f-c)/(f-c+(m-g)),t.copy(i).addScaledVector(K_,a);const x=1/(y+v+h);return o=v*x,a=h*x,t.copy(r).addScaledVector(cc,o).addScaledVector(dc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let rz=0;class Wn extends oo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rz++}),this.uuid=Si(),this.name="",this.type="Material",this.blending=fu,this.side=io,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=L9,this.blendDst=O9,this.blendEquation=Jl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=zg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ng,this.stencilZFail=ng,this.stencilZPass=ng,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==fu&&(r.blending=this.blending),this.side!==io&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class _i extends Wn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Un=new V,Gm=new Ie;class $t{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=ip,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Gm.fromBufferAttribute(this,t),Gm.applyMatrix3(e),this.setXY(t,Gm.x,Gm.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.applyMatrix3(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.applyMatrix4(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.applyNormalMatrix(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Un.fromBufferAttribute(this,t),Un.transformDirection(e),this.setXYZ(t,Un.x,Un.y,Un.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ro(t,this.array)),t}setX(e,t){return this.normalized&&(t=on(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ro(t,this.array)),t}setY(e,t){return this.normalized&&(t=on(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ro(t,this.array)),t}setZ(e,t){return this.normalized&&(t=on(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ro(t,this.array)),t}setW(e,t){return this.normalized&&(t=on(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=on(t,this.array),r=on(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=on(t,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=on(t,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ip&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class iz extends $t{constructor(e,t,r){super(new Int8Array(e),t,r)}}class sz extends $t{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class oz extends $t{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class az extends $t{constructor(e,t,r){super(new Int16Array(e),t,r)}}class W9 extends $t{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class lz extends $t{constructor(e,t,r){super(new Int32Array(e),t,r)}}class j9 extends $t{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class uz extends $t{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class lt extends $t{constructor(e,t,r){super(new Float32Array(e),t,r)}}class cz extends $t{constructor(e,t,r){super(new Float64Array(e),t,r)}}let dz=0;const Hi=new St,Zv=new Jt,fc=new V,xi=new ul,If=new ul,rr=new V;class kt extends oo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:dz++}),this.uuid=Si(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(KI(e)?j9:W9)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Wr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Hi.makeRotationFromQuaternion(e),this.applyMatrix4(Hi),this}rotateX(e){return Hi.makeRotationX(e),this.applyMatrix4(Hi),this}rotateY(e){return Hi.makeRotationY(e),this.applyMatrix4(Hi),this}rotateZ(e){return Hi.makeRotationZ(e),this.applyMatrix4(Hi),this}translate(e,t,r){return Hi.makeTranslation(e,t,r),this.applyMatrix4(Hi),this}scale(e,t,r){return Hi.makeScale(e,t,r),this.applyMatrix4(Hi),this}lookAt(e){return Zv.lookAt(e),Zv.updateMatrix(),this.applyMatrix4(Zv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fc).negate(),this.translate(fc.x,fc.y,fc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ul);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new V(-1/0,-1/0,-1/0),new V(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];xi.setFromBufferAttribute(s),this.morphTargetsRelative?(rr.addVectors(this.boundingBox.min,xi.min),this.boundingBox.expandByPoint(rr),rr.addVectors(this.boundingBox.max,xi.max),this.boundingBox.expandByPoint(rr)):(this.boundingBox.expandByPoint(xi.min),this.boundingBox.expandByPoint(xi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new cl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new V,1/0);return}if(e){const r=this.boundingSphere.center;if(xi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];If.setFromBufferAttribute(a),this.morphTargetsRelative?(rr.addVectors(xi.min,If.min),xi.expandByPoint(rr),rr.addVectors(xi.max,If.max),xi.expandByPoint(rr)):(xi.expandByPoint(If.min),xi.expandByPoint(If.max))}xi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)rr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(rr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)rr.fromBufferAttribute(a,u),l&&(fc.fromBufferAttribute(e,u),rr.add(fc)),i=Math.max(i,r.distanceToSquared(rr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $t(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<a;I++)u[I]=new V,c[I]=new V;const f=new V,h=new V,m=new V,g=new Ie,v=new Ie,y=new Ie,x=new V,_=new V;function b(I,k,U){f.fromArray(i,I*3),h.fromArray(i,k*3),m.fromArray(i,U*3),g.fromArray(o,I*2),v.fromArray(o,k*2),y.fromArray(o,U*2),h.sub(f),m.sub(f),v.sub(g),y.sub(g);const q=1/(v.x*y.y-y.x*v.y);isFinite(q)&&(x.copy(h).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(q),_.copy(m).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(q),u[I].add(x),u[k].add(x),u[U].add(x),c[I].add(_),c[k].add(_),c[U].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let I=0,k=S.length;I<k;++I){const U=S[I],q=U.start,W=U.count;for(let $=q,ee=q+W;$<ee;$+=3)b(r[$+0],r[$+1],r[$+2])}const R=new V,T=new V,B=new V,C=new V;function P(I){B.fromArray(s,I*3),C.copy(B);const k=u[I];R.copy(k),R.sub(B.multiplyScalar(B.dot(k))).normalize(),T.crossVectors(C,k);const q=T.dot(c[I])<0?-1:1;l[I*4]=R.x,l[I*4+1]=R.y,l[I*4+2]=R.z,l[I*4+3]=q}for(let I=0,k=S.length;I<k;++I){const U=S[I],q=U.start,W=U.count;for(let $=q,ee=q+W;$<ee;$+=3)P(r[$+0]),P(r[$+1]),P(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new $t(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new V,s=new V,o=new V,a=new V,l=new V,u=new V,c=new V,f=new V;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,m=t.count;h<m;h+=3)i.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)rr.fromBufferAttribute(e,t),rr.normalize(),e.setXYZ(t,rr.x,rr.y,rr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,h=new u.constructor(l.length*c);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*c;for(let x=0;x<c;x++)h[g++]=u[m++]}return new $t(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new kt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const h=u[c],m=e(h,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let h=0,m=f.length;h<m;h++)c.push(f[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Y_=new St,hc=new Hd,Jv=new cl,Rf=new V,Bf=new V,Df=new V,qv=new V,zm=new V,Hm=new Ie,Vm=new Ie,Wm=new Ie,Xv=new V,jm=new V;class or extends Jt{constructor(e=new kt,t=new _i){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){zm.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(qv.fromBufferAttribute(f,e),o?zm.addScaledVector(qv,c):zm.addScaledVector(qv.sub(t),c))}t.add(zm)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),Jv.copy(r.boundingSphere),Jv.applyMatrix4(s),e.ray.intersectsSphere(Jv)===!1)||(Y_.copy(s).invert(),hc.copy(e.ray).applyMatrix4(Y_),r.boundingBox!==null&&hc.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,f=r.groups,h=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],x=Math.max(v.start,h.start),_=Math.min(a.count,Math.min(v.start+v.count,h.start+h.count));for(let b=x,S=_;b<S;b+=3){const R=a.getX(b),T=a.getX(b+1),B=a.getX(b+2);o=Zm(this,y,e,hc,u,c,R,T,B),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,h.start),g=Math.min(a.count,h.start+h.count);for(let v=m,y=g;v<y;v+=3){const x=a.getX(v),_=a.getX(v+1),b=a.getX(v+2);o=Zm(this,i,e,hc,u,c,x,_,b),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=i[v.materialIndex],x=Math.max(v.start,h.start),_=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let b=x,S=_;b<S;b+=3){const R=b,T=b+1,B=b+2;o=Zm(this,y,e,hc,u,c,R,T,B),o&&(o.faceIndex=Math.floor(b/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);for(let v=m,y=g;v<y;v+=3){const x=v,_=v+1,b=v+2;o=Zm(this,i,e,hc,u,c,x,_,b),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function fz(n,e,t,r,i,s,o,a){let l;if(e.side===Zr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===io,a),l===null)return null;jm.copy(a),jm.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(jm);return u<t.near||u>t.far?null:{distance:u,point:jm.clone(),object:n}}function Zm(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,Rf),n.getVertexPosition(a,Bf),n.getVertexPosition(l,Df);const u=fz(n,e,t,r,Rf,Bf,Df,Xv);if(u){i&&(Hm.fromBufferAttribute(i,o),Vm.fromBufferAttribute(i,a),Wm.fromBufferAttribute(i,l),u.uv=Yi.getUV(Xv,Rf,Bf,Df,Hm,Vm,Wm,new Ie)),s&&(Hm.fromBufferAttribute(s,o),Vm.fromBufferAttribute(s,a),Wm.fromBufferAttribute(s,l),u.uv2=Yi.getUV(Xv,Rf,Bf,Df,Hm,Vm,Wm,new Ie));const c={a:o,b:a,c:l,normal:new V,materialIndex:0};Yi.getNormal(Rf,Bf,Df,c.normal),u.face=c}return u}class dl extends kt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new lt(u,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(f,2));function g(v,y,x,_,b,S,R,T,B,C,P){const I=S/B,k=R/C,U=S/2,q=R/2,W=T/2,$=B+1,ee=C+1;let ce=0,N=0;const H=new V;for(let j=0;j<ee;j++){const oe=j*k-q;for(let te=0;te<$;te++){const ge=te*I-U;H[v]=ge*_,H[y]=oe*b,H[x]=W,u.push(H.x,H.y,H.z),H[v]=0,H[y]=0,H[x]=T>0?1:-1,c.push(H.x,H.y,H.z),f.push(te/B),f.push(1-j/C),ce+=1}}for(let j=0;j<C;j++)for(let oe=0;oe<B;oe++){const te=h+oe+$*j,ge=h+oe+$*(j+1),Pe=h+(oe+1)+$*(j+1),Me=h+(oe+1)+$*j;l.push(te,ge,Me),l.push(ge,Pe,Me),N+=6}a.addGroup(m,N,P),m+=N,h+=ce}}static fromJSON(e){return new dl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _d(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function zr(n){const e={};for(let t=0;t<n.length;t++){const r=_d(n[t]);for(const i in r)e[i]=r[i]}return e}function hz(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function QI(n){return n.getRenderTarget()===null&&n.outputEncoding===an?ys:bd}const Z9={clone:_d,merge:zr};var pz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,mz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ts extends Wn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=pz,this.fragmentShader=mz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_d(e.uniforms),this.uniformsGroups=hz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class kp extends Jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class hn extends kp{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=sp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(mu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return sp*2*Math.atan(Math.tan(mu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(mu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const pc=-90,mc=1;class J9 extends Jt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new hn(pc,mc,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new hn(pc,mc,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new hn(pc,mc,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new hn(pc,mc,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new hn(pc,mc,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new hn(pc,mc,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=As,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class Lp extends vn{constructor(e,t,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:qa,super(e,t,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class q9 extends Cs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Lp(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:bn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new dl(5,5,5),s=new Ts({name:"CubemapFromEquirect",uniforms:_d(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Zr,blending:Fo});s.uniforms.tEquirect.value=t;const o=new or(i,s),a=t.minFilter;return t.minFilter===so&&(t.minFilter=bn),new J9(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Kv=new V,gz=new V,yz=new Wr;class Co{constructor(e=new V(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Kv.subVectors(r,t).cross(gz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(Kv),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||yz.getNormalMatrix(e),i=this.coplanarPoint(Kv).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const gc=new cl,Jm=new V;class a1{constructor(e=new Co,t=new Co,r=new Co,i=new Co,s=new Co,o=new Co){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],h=r[8],m=r[9],g=r[10],v=r[11],y=r[12],x=r[13],_=r[14],b=r[15];return t[0].setComponents(a-i,f-l,v-h,b-y).normalize(),t[1].setComponents(a+i,f+l,v+h,b+y).normalize(),t[2].setComponents(a+s,f+u,v+m,b+x).normalize(),t[3].setComponents(a-s,f-u,v-m,b-x).normalize(),t[4].setComponents(a-o,f-c,v-g,b-_).normalize(),t[5].setComponents(a+o,f+c,v+g,b+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),gc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(gc)}intersectsSprite(e){return gc.center.set(0,0,0),gc.radius=.7071067811865476,gc.applyMatrix4(e.matrixWorld),this.intersectsSphere(gc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Jm.x=i.normal.x>0?e.max.x:e.min.x,Jm.y=i.normal.y>0?e.max.y:e.min.y,Jm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Jm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $I(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function vz(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,h=u.usage,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,f,h),u.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const h=c.array,m=c.updateRange;n.bindBuffer(f,u),m.count===-1?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,m.offset*h.BYTES_PER_ELEMENT,h,m.offset,m.count):n.bufferSubData(f,m.offset*h.BYTES_PER_ELEMENT,h.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class Vd extends kt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,h=t/l,m=[],g=[],v=[],y=[];for(let x=0;x<c;x++){const _=x*h-o;for(let b=0;b<u;b++){const S=b*f-s;g.push(S,-_,0),v.push(0,0,1),y.push(b/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const b=_+u*x,S=_+u*(x+1),R=_+1+u*(x+1),T=_+1+u*x;m.push(b,S,T),m.push(S,R,T)}this.setIndex(m),this.setAttribute("position",new lt(g,3)),this.setAttribute("normal",new lt(v,3)),this.setAttribute("uv",new lt(y,2))}static fromJSON(e){return new Vd(e.width,e.height,e.widthSegments,e.heightSegments)}}var xz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,wz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,_z=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Az=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Sz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Cz="vec3 transformed = vec3( position );",Tz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Mz=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Ez=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Pz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Iz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Rz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Bz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Dz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Lz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Oz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Fz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Nz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Uz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Gz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Hz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Vz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Wz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Zz=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Jz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,qz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Xz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Kz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Yz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Qz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$z=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,eH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,nH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,rH=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,iH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,oH=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,lH=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,uH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,cH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,dH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,fH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,hH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,pH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,mH=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,gH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,yH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,vH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,xH=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,bH=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,_H=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,AH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,SH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,MH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,EH=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,PH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,IH=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,RH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,BH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,DH=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,kH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,LH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,FH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,NH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,UH=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,GH=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,zH=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,HH=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,VH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,WH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ZH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,qH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,KH=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,YH=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,QH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$H=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,eV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,nV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,oV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,lV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,uV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,cV=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,dV=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,fV=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,hV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,pV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,mV=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,gV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,vV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,xV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_V=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,AV=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,SV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,CV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,TV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,EV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,PV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,IV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RV=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,BV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,OV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,NV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,UV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,HV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ZV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,JV=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,XV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ft={alphamap_fragment:xz,alphamap_pars_fragment:wz,alphatest_fragment:bz,alphatest_pars_fragment:_z,aomap_fragment:Az,aomap_pars_fragment:Sz,begin_vertex:Cz,beginnormal_vertex:Tz,bsdfs:Mz,iridescence_fragment:Ez,bumpmap_pars_fragment:Pz,clipping_planes_fragment:Iz,clipping_planes_pars_fragment:Rz,clipping_planes_pars_vertex:Bz,clipping_planes_vertex:Dz,color_fragment:kz,color_pars_fragment:Lz,color_pars_vertex:Oz,color_vertex:Fz,common:Nz,cube_uv_reflection_fragment:Uz,defaultnormal_vertex:Gz,displacementmap_pars_vertex:zz,displacementmap_vertex:Hz,emissivemap_fragment:Vz,emissivemap_pars_fragment:Wz,encodings_fragment:jz,encodings_pars_fragment:Zz,envmap_fragment:Jz,envmap_common_pars_fragment:qz,envmap_pars_fragment:Xz,envmap_pars_vertex:Kz,envmap_physical_pars_fragment:lH,envmap_vertex:Yz,fog_vertex:Qz,fog_pars_vertex:$z,fog_fragment:eH,fog_pars_fragment:tH,gradientmap_pars_fragment:nH,lightmap_fragment:rH,lightmap_pars_fragment:iH,lights_lambert_fragment:sH,lights_lambert_pars_fragment:oH,lights_pars_begin:aH,lights_toon_fragment:uH,lights_toon_pars_fragment:cH,lights_phong_fragment:dH,lights_phong_pars_fragment:fH,lights_physical_fragment:hH,lights_physical_pars_fragment:pH,lights_fragment_begin:mH,lights_fragment_maps:gH,lights_fragment_end:yH,logdepthbuf_fragment:vH,logdepthbuf_pars_fragment:xH,logdepthbuf_pars_vertex:wH,logdepthbuf_vertex:bH,map_fragment:_H,map_pars_fragment:AH,map_particle_fragment:SH,map_particle_pars_fragment:CH,metalnessmap_fragment:TH,metalnessmap_pars_fragment:MH,morphcolor_vertex:EH,morphnormal_vertex:PH,morphtarget_pars_vertex:IH,morphtarget_vertex:RH,normal_fragment_begin:BH,normal_fragment_maps:DH,normal_pars_fragment:kH,normal_pars_vertex:LH,normal_vertex:OH,normalmap_pars_fragment:FH,clearcoat_normal_fragment_begin:NH,clearcoat_normal_fragment_maps:UH,clearcoat_pars_fragment:GH,iridescence_pars_fragment:zH,output_fragment:HH,packing:VH,premultiplied_alpha_fragment:WH,project_vertex:jH,dithering_fragment:ZH,dithering_pars_fragment:JH,roughnessmap_fragment:qH,roughnessmap_pars_fragment:XH,shadowmap_pars_fragment:KH,shadowmap_pars_vertex:YH,shadowmap_vertex:QH,shadowmask_pars_fragment:$H,skinbase_vertex:eV,skinning_pars_vertex:tV,skinning_vertex:nV,skinnormal_vertex:rV,specularmap_fragment:iV,specularmap_pars_fragment:sV,tonemapping_fragment:oV,tonemapping_pars_fragment:aV,transmission_fragment:lV,transmission_pars_fragment:uV,uv_pars_fragment:cV,uv_pars_vertex:dV,uv_vertex:fV,uv2_pars_fragment:hV,uv2_pars_vertex:pV,uv2_vertex:mV,worldpos_vertex:gV,background_vert:yV,background_frag:vV,backgroundCube_vert:xV,backgroundCube_frag:wV,cube_vert:bV,cube_frag:_V,depth_vert:AV,depth_frag:SV,distanceRGBA_vert:CV,distanceRGBA_frag:TV,equirect_vert:MV,equirect_frag:EV,linedashed_vert:PV,linedashed_frag:IV,meshbasic_vert:RV,meshbasic_frag:BV,meshlambert_vert:DV,meshlambert_frag:kV,meshmatcap_vert:LV,meshmatcap_frag:OV,meshnormal_vert:FV,meshnormal_frag:NV,meshphong_vert:UV,meshphong_frag:GV,meshphysical_vert:zV,meshphysical_frag:HV,meshtoon_vert:VV,meshtoon_frag:WV,points_vert:jV,points_frag:ZV,shadow_vert:JV,shadow_frag:qV,sprite_vert:XV,sprite_frag:KV},Je={common:{diffuse:{value:new Qe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Wr},uv2Transform:{value:new Wr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wr}},sprite:{diffuse:{value:new Qe(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Wr}}},xs={basic:{uniforms:zr([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:Ft.meshbasic_vert,fragmentShader:Ft.meshbasic_frag},lambert:{uniforms:zr([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new Qe(0)}}]),vertexShader:Ft.meshlambert_vert,fragmentShader:Ft.meshlambert_frag},phong:{uniforms:zr([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new Qe(0)},specular:{value:new Qe(1118481)},shininess:{value:30}}]),vertexShader:Ft.meshphong_vert,fragmentShader:Ft.meshphong_frag},standard:{uniforms:zr([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new Qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag},toon:{uniforms:zr([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new Qe(0)}}]),vertexShader:Ft.meshtoon_vert,fragmentShader:Ft.meshtoon_frag},matcap:{uniforms:zr([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:Ft.meshmatcap_vert,fragmentShader:Ft.meshmatcap_frag},points:{uniforms:zr([Je.points,Je.fog]),vertexShader:Ft.points_vert,fragmentShader:Ft.points_frag},dashed:{uniforms:zr([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ft.linedashed_vert,fragmentShader:Ft.linedashed_frag},depth:{uniforms:zr([Je.common,Je.displacementmap]),vertexShader:Ft.depth_vert,fragmentShader:Ft.depth_frag},normal:{uniforms:zr([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:Ft.meshnormal_vert,fragmentShader:Ft.meshnormal_frag},sprite:{uniforms:zr([Je.sprite,Je.fog]),vertexShader:Ft.sprite_vert,fragmentShader:Ft.sprite_frag},background:{uniforms:{uvTransform:{value:new Wr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ft.background_vert,fragmentShader:Ft.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ft.backgroundCube_vert,fragmentShader:Ft.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ft.cube_vert,fragmentShader:Ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ft.equirect_vert,fragmentShader:Ft.equirect_frag},distanceRGBA:{uniforms:zr([Je.common,Je.displacementmap,{referencePosition:{value:new V},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ft.distanceRGBA_vert,fragmentShader:Ft.distanceRGBA_frag},shadow:{uniforms:zr([Je.lights,Je.fog,{color:{value:new Qe(0)},opacity:{value:1}}]),vertexShader:Ft.shadow_vert,fragmentShader:Ft.shadow_frag}};xs.physical={uniforms:zr([xs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Qe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Qe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Qe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ft.meshphysical_vert,fragmentShader:Ft.meshphysical_frag};const qm={r:0,b:0,g:0};function YV(n,e,t,r,i,s,o){const a=new Qe(0);let l=s===!0?0:1,u,c,f=null,h=0,m=null;function g(y,x){let _=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=(x.backgroundBlurriness>0?t:e).get(b));const S=n.xr,R=S.getSession&&S.getSession();R&&R.environmentBlendMode==="additive"&&(b=null),b===null?v(a,l):b&&b.isColor&&(v(b,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===zd)?(c===void 0&&(c=new or(new dl(1,1,1),new Ts({name:"BackgroundCubeMaterial",uniforms:_d(xs.backgroundCube.uniforms),vertexShader:xs.backgroundCube.vertexShader,fragmentShader:xs.backgroundCube.fragmentShader,side:Zr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,B,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=b.encoding!==an,(f!==b||h!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,h=b.version,m=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new or(new Vd(2,2),new Ts({name:"BackgroundMaterial",uniforms:_d(xs.background.uniforms),vertexShader:xs.background.vertexShader,fragmentShader:xs.background.fragmentShader,side:io,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=b.encoding!==an,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,m=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,x){y.getRGB(qm,QI(n)),r.buffers.color.setClear(qm.r,qm.g,qm.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function QV(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(W,$,ee,ce,N){let H=!1;if(o){const j=v(ce,ee,$);u!==j&&(u=j,m(u.object)),H=x(W,ce,ee,N),H&&_(W,ce,ee,N)}else{const j=$.wireframe===!0;(u.geometry!==ce.id||u.program!==ee.id||u.wireframe!==j)&&(u.geometry=ce.id,u.program=ee.id,u.wireframe=j,H=!0)}N!==null&&t.update(N,34963),(H||c)&&(c=!1,C(W,$,ee,ce),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function h(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(W){return r.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function g(W){return r.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function v(W,$,ee){const ce=ee.wireframe===!0;let N=a[W.id];N===void 0&&(N={},a[W.id]=N);let H=N[$.id];H===void 0&&(H={},N[$.id]=H);let j=H[ce];return j===void 0&&(j=y(h()),H[ce]=j),j}function y(W){const $=[],ee=[],ce=[];for(let N=0;N<i;N++)$[N]=0,ee[N]=0,ce[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:ee,attributeDivisors:ce,object:W,attributes:{},index:null}}function x(W,$,ee,ce){const N=u.attributes,H=$.attributes;let j=0;const oe=ee.getAttributes();for(const te in oe)if(oe[te].location>=0){const Pe=N[te];let Me=H[te];if(Me===void 0&&(te==="instanceMatrix"&&W.instanceMatrix&&(Me=W.instanceMatrix),te==="instanceColor"&&W.instanceColor&&(Me=W.instanceColor)),Pe===void 0||Pe.attribute!==Me||Me&&Pe.data!==Me.data)return!0;j++}return u.attributesNum!==j||u.index!==ce}function _(W,$,ee,ce){const N={},H=$.attributes;let j=0;const oe=ee.getAttributes();for(const te in oe)if(oe[te].location>=0){let Pe=H[te];Pe===void 0&&(te==="instanceMatrix"&&W.instanceMatrix&&(Pe=W.instanceMatrix),te==="instanceColor"&&W.instanceColor&&(Pe=W.instanceColor));const Me={};Me.attribute=Pe,Pe&&Pe.data&&(Me.data=Pe.data),N[te]=Me,j++}u.attributes=N,u.attributesNum=j,u.index=ce}function b(){const W=u.newAttributes;for(let $=0,ee=W.length;$<ee;$++)W[$]=0}function S(W){R(W,0)}function R(W,$){const ee=u.newAttributes,ce=u.enabledAttributes,N=u.attributeDivisors;ee[W]=1,ce[W]===0&&(n.enableVertexAttribArray(W),ce[W]=1),N[W]!==$&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,$),N[W]=$)}function T(){const W=u.newAttributes,$=u.enabledAttributes;for(let ee=0,ce=$.length;ee<ce;ee++)$[ee]!==W[ee]&&(n.disableVertexAttribArray(ee),$[ee]=0)}function B(W,$,ee,ce,N,H){r.isWebGL2===!0&&(ee===5124||ee===5125)?n.vertexAttribIPointer(W,$,ee,N,H):n.vertexAttribPointer(W,$,ee,ce,N,H)}function C(W,$,ee,ce){if(r.isWebGL2===!1&&(W.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const N=ce.attributes,H=ee.getAttributes(),j=$.defaultAttributeValues;for(const oe in H){const te=H[oe];if(te.location>=0){let ge=N[oe];if(ge===void 0&&(oe==="instanceMatrix"&&W.instanceMatrix&&(ge=W.instanceMatrix),oe==="instanceColor"&&W.instanceColor&&(ge=W.instanceColor)),ge!==void 0){const Pe=ge.normalized,Me=ge.itemSize,de=t.get(ge);if(de===void 0)continue;const Ve=de.buffer,ve=de.type,O=de.bytesPerElement;if(ge.isInterleavedBufferAttribute){const F=ge.data,Y=F.stride,ie=ge.offset;if(F.isInstancedInterleavedBuffer){for(let re=0;re<te.locationSize;re++)R(te.location+re,F.meshPerAttribute);W.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=F.meshPerAttribute*F.count)}else for(let re=0;re<te.locationSize;re++)S(te.location+re);n.bindBuffer(34962,Ve);for(let re=0;re<te.locationSize;re++)B(te.location+re,Me/te.locationSize,ve,Pe,Y*O,(ie+Me/te.locationSize*re)*O)}else{if(ge.isInstancedBufferAttribute){for(let F=0;F<te.locationSize;F++)R(te.location+F,ge.meshPerAttribute);W.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let F=0;F<te.locationSize;F++)S(te.location+F);n.bindBuffer(34962,Ve);for(let F=0;F<te.locationSize;F++)B(te.location+F,Me/te.locationSize,ve,Pe,Me*O,Me/te.locationSize*F*O)}}else if(j!==void 0){const Pe=j[oe];if(Pe!==void 0)switch(Pe.length){case 2:n.vertexAttrib2fv(te.location,Pe);break;case 3:n.vertexAttrib3fv(te.location,Pe);break;case 4:n.vertexAttrib4fv(te.location,Pe);break;default:n.vertexAttrib1fv(te.location,Pe)}}}}T()}function P(){U();for(const W in a){const $=a[W];for(const ee in $){const ce=$[ee];for(const N in ce)g(ce[N].object),delete ce[N];delete $[ee]}delete a[W]}}function I(W){if(a[W.id]===void 0)return;const $=a[W.id];for(const ee in $){const ce=$[ee];for(const N in ce)g(ce[N].object),delete ce[N];delete $[ee]}delete a[W.id]}function k(W){for(const $ in a){const ee=a[$];if(ee[W.id]===void 0)continue;const ce=ee[W.id];for(const N in ce)g(ce[N].object),delete ce[N];delete ee[W.id]}}function U(){q(),c=!0,u!==l&&(u=l,m(u.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:U,resetDefaultState:q,dispose:P,releaseStatesOfGeometry:I,releaseStatesOfProgram:k,initAttributes:b,enableAttribute:S,disableUnusedAttributes:T}}function $V(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,f){if(f===0)return;let h,m;if(i)h=n,m="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](s,u,c,f),t.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function eW(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){if(B==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),h=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),b=h>0,S=o||e.has("OES_texture_float"),R=b&&S,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:R,maxSamples:T}}function tW(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Co,a=new Wr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=c(f,h,0)},this.setState=function(f,h,m){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const _=s?0:r,b=_*4;let S=x.clippingState||null;l.value=S,S=c(g,h,b,m);for(let R=0;R!==b;++R)S[R]=t[R];x.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,m,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=m+v*4,_=h.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let b=0,S=m;b!==v;++b,S+=4)o.copy(f[b]).applyMatrix4(_,a),o.normal.toArray(y,S),y[S+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function nW(n){let e=new WeakMap;function t(o,a){return a===ep?o.mapping=qa:a===tp&&(o.mapping=Xa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===ep||a===tp)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new q9(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class $i extends kp{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Vc=4,Q_=[.125,.215,.35,.446,.526,.582],ql=20,Yv=new $i,$_=new Qe;let Qv=null;const Wl=(1+Math.sqrt(5))/2,yc=1/Wl,eA=[new V(1,1,1),new V(-1,1,1),new V(1,1,-1),new V(-1,1,-1),new V(0,Wl,yc),new V(0,Wl,-yc),new V(yc,0,Wl),new V(-yc,0,Wl),new V(Wl,yc,0),new V(-Wl,yc,0)];class B8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Qv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=rA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=nA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Qv),e.scissorTest=!1,Xm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===qa||e.mapping===Xa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Qv=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:bn,minFilter:bn,generateMipmaps:!1,type:xd,format:si,encoding:Ya,depthBuffer:!1},i=tA(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tA(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=rW(s)),this._blurMaterial=iW(s,e,t)}return i}_compileMaterial(e){const t=new or(this._lodPlanes[0],e);this._renderer.compile(t,Yv)}_sceneToCubeUV(e,t,r,i){const a=new hn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor($_),c.toneMapping=As,c.autoClear=!1;const m=new _i({name:"PMREM.Background",side:Zr,depthWrite:!1,depthTest:!1}),g=new or(new dl,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy($_),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const b=this._cubeSize;Xm(i,_*b,x>2?b:0,b,b),c.setRenderTarget(i),v&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===qa||e.mapping===Xa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=rA()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=nA());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Xm(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Yv)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=eA[(i-1)%eA.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new or(this._lodPlanes[i],u),h=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ql-1),v=s/g,y=isFinite(s)?1+Math.floor(c*v):ql;y>ql&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${ql}`);const x=[];let _=0;for(let B=0;B<ql;++B){const C=B/v,P=Math.exp(-C*C/2);x.push(P),B===0?_+=P:B<y&&(_+=2*P)}for(let B=0;B<x.length;B++)x[B]=x[B]/_;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=x,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:b}=this;h.dTheta.value=g,h.mipInt.value=b-r;const S=this._sizeLods[i],R=3*S*(i>b-Vc?i-b+Vc:0),T=4*(this._cubeSize-S);Xm(t,R,T,3*S,2*S),l.setRenderTarget(t),l.render(f,Yv)}}function rW(n){const e=[],t=[],r=[];let i=n;const s=n-Vc+1+Q_.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Vc?l=Q_[o-n+Vc-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,v=3,y=2,x=1,_=new Float32Array(v*g*m),b=new Float32Array(y*g*m),S=new Float32Array(x*g*m);for(let T=0;T<m;T++){const B=T%3*2/3-1,C=T>2?0:-1,P=[B,C,0,B+2/3,C,0,B+2/3,C+1,0,B,C,0,B+2/3,C+1,0,B,C+1,0];_.set(P,v*g*T),b.set(h,y*g*T);const I=[T,T,T,T,T,T];S.set(I,x*g*T)}const R=new kt;R.setAttribute("position",new $t(_,v)),R.setAttribute("uv",new $t(b,y)),R.setAttribute("faceIndex",new $t(S,x)),e.push(R),i>Vc&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function tA(n,e,t){const r=new Cs(n,e,t);return r.texture.mapping=zd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Xm(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function iW(n,e,t){const r=new Float32Array(ql),i=new V(0,1,0);return new Ts({name:"SphericalGaussianBlur",defines:{n:ql,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:X9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Fo,depthTest:!1,depthWrite:!1})}function nA(){return new Ts({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:X9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Fo,depthTest:!1,depthWrite:!1})}function rA(){return new Ts({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:X9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Fo,depthTest:!1,depthWrite:!1})}function X9(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function sW(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===ep||l===tp,c=l===qa||l===Xa;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new B8(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){t===null&&(t=new B8(n));const h=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function oW(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function aW(n,e,t,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const g in h)e.update(h[g],34962);const m=f.morphAttributes;for(const g in m){const v=m[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function u(f){const h=[],m=f.index,g=f.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let b=0,S=_.length;b<S;b+=3){const R=_[b+0],T=_[b+1],B=_[b+2];h.push(R,T,T,B,B,R)}}else{const _=g.array;v=g.version;for(let b=0,S=_.length/3-1;b<S;b+=3){const R=b+0,T=b+1,B=b+2;h.push(R,T,T,B,B,R)}}const y=new(KI(h)?j9:W9)(h,1);y.version=v;const x=s.get(f);x&&e.remove(x),s.set(f,y)}function c(f){const h=s.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function lW(n,e,t,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function u(h){a=h.type,l=h.bytesPerElement}function c(h,m){n.drawElements(s,m,a,h*l),t.update(m,s,1)}function f(h,m,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,h*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function uW(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function cW(n,e){return n[0]-e[0]}function dW(n,e){return Math.abs(e[1])-Math.abs(n[1])}function fW(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new nn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f,h){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(c);if(y===void 0||y.count!==v){let $=function(){q.dispose(),s.delete(c),c.removeEventListener("dispose",$)};y!==void 0&&y.texture.dispose();const b=c.morphAttributes.position!==void 0,S=c.morphAttributes.normal!==void 0,R=c.morphAttributes.color!==void 0,T=c.morphAttributes.position||[],B=c.morphAttributes.normal||[],C=c.morphAttributes.color||[];let P=0;b===!0&&(P=1),S===!0&&(P=2),R===!0&&(P=3);let I=c.attributes.position.count*P,k=1;I>e.maxTextureSize&&(k=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const U=new Float32Array(I*k*4*v),q=new o1(U,I,k,v);q.type=Io,q.needsUpdate=!0;const W=P*4;for(let ee=0;ee<v;ee++){const ce=T[ee],N=B[ee],H=C[ee],j=I*k*4*ee;for(let oe=0;oe<ce.count;oe++){const te=oe*W;b===!0&&(o.fromBufferAttribute(ce,oe),U[j+te+0]=o.x,U[j+te+1]=o.y,U[j+te+2]=o.z,U[j+te+3]=0),S===!0&&(o.fromBufferAttribute(N,oe),U[j+te+4]=o.x,U[j+te+5]=o.y,U[j+te+6]=o.z,U[j+te+7]=0),R===!0&&(o.fromBufferAttribute(H,oe),U[j+te+8]=o.x,U[j+te+9]=o.y,U[j+te+10]=o.z,U[j+te+11]=H.itemSize===4?o.w:1)}}y={count:v,texture:q,size:new Ie(I,k)},s.set(c,y),c.addEventListener("dispose",$)}let x=0;for(let b=0;b<m.length;b++)x+=m[b];const _=c.morphTargetsRelative?1:1-x;h.getUniforms().setValue(n,"morphTargetBaseInfluence",_),h.getUniforms().setValue(n,"morphTargetInfluences",m),h.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const g=m===void 0?0:m.length;let v=r[c.id];if(v===void 0||v.length!==g){v=[];for(let S=0;S<g;S++)v[S]=[S,0];r[c.id]=v}for(let S=0;S<g;S++){const R=v[S];R[0]=S,R[1]=m[S]}v.sort(dW);for(let S=0;S<8;S++)S<g&&v[S][1]?(a[S][0]=v[S][0],a[S][1]=v[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(cW);const y=c.morphAttributes.position,x=c.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const R=a[S],T=R[0],B=R[1];T!==Number.MAX_SAFE_INTEGER&&B?(y&&c.getAttribute("morphTarget"+S)!==y[T]&&c.setAttribute("morphTarget"+S,y[T]),x&&c.getAttribute("morphNormal"+S)!==x[T]&&c.setAttribute("morphNormal"+S,x[T]),i[S]=B,_+=B):(y&&c.hasAttribute("morphTarget"+S)===!0&&c.deleteAttribute("morphTarget"+S),x&&c.hasAttribute("morphNormal"+S)===!0&&c.deleteAttribute("morphNormal"+S),i[S]=0)}const b=c.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",b),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function hW(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const eR=new vn,tR=new o1,nR=new V9,rR=new Lp,iA=[],sA=[],oA=new Float32Array(16),aA=new Float32Array(9),lA=new Float32Array(4);function Wd(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=iA[i];if(s===void 0&&(s=new Float32Array(i),iA[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Kn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Yn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function l1(n,e){let t=sA[e];t===void 0&&(t=new Int32Array(e),sA[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function pW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function mW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kn(t,e))return;n.uniform2fv(this.addr,e),Yn(t,e)}}function gW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Kn(t,e))return;n.uniform3fv(this.addr,e),Yn(t,e)}}function yW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kn(t,e))return;n.uniform4fv(this.addr,e),Yn(t,e)}}function vW(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Kn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Yn(t,e)}else{if(Kn(t,r))return;lA.set(r),n.uniformMatrix2fv(this.addr,!1,lA),Yn(t,r)}}function xW(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Kn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Yn(t,e)}else{if(Kn(t,r))return;aA.set(r),n.uniformMatrix3fv(this.addr,!1,aA),Yn(t,r)}}function wW(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Kn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Yn(t,e)}else{if(Kn(t,r))return;oA.set(r),n.uniformMatrix4fv(this.addr,!1,oA),Yn(t,r)}}function bW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function _W(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kn(t,e))return;n.uniform2iv(this.addr,e),Yn(t,e)}}function AW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Kn(t,e))return;n.uniform3iv(this.addr,e),Yn(t,e)}}function SW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kn(t,e))return;n.uniform4iv(this.addr,e),Yn(t,e)}}function CW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function TW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Kn(t,e))return;n.uniform2uiv(this.addr,e),Yn(t,e)}}function MW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Kn(t,e))return;n.uniform3uiv(this.addr,e),Yn(t,e)}}function EW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Kn(t,e))return;n.uniform4uiv(this.addr,e),Yn(t,e)}}function PW(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||eR,i)}function IW(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||nR,i)}function RW(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||rR,i)}function BW(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||tR,i)}function DW(n){switch(n){case 5126:return pW;case 35664:return mW;case 35665:return gW;case 35666:return yW;case 35674:return vW;case 35675:return xW;case 35676:return wW;case 5124:case 35670:return bW;case 35667:case 35671:return _W;case 35668:case 35672:return AW;case 35669:case 35673:return SW;case 5125:return CW;case 36294:return TW;case 36295:return MW;case 36296:return EW;case 35678:case 36198:case 36298:case 36306:case 35682:return PW;case 35679:case 36299:case 36307:return IW;case 35680:case 36300:case 36308:case 36293:return RW;case 36289:case 36303:case 36311:case 36292:return BW}}function kW(n,e){n.uniform1fv(this.addr,e)}function LW(n,e){const t=Wd(e,this.size,2);n.uniform2fv(this.addr,t)}function OW(n,e){const t=Wd(e,this.size,3);n.uniform3fv(this.addr,t)}function FW(n,e){const t=Wd(e,this.size,4);n.uniform4fv(this.addr,t)}function NW(n,e){const t=Wd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function UW(n,e){const t=Wd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function GW(n,e){const t=Wd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function zW(n,e){n.uniform1iv(this.addr,e)}function HW(n,e){n.uniform2iv(this.addr,e)}function VW(n,e){n.uniform3iv(this.addr,e)}function WW(n,e){n.uniform4iv(this.addr,e)}function jW(n,e){n.uniform1uiv(this.addr,e)}function ZW(n,e){n.uniform2uiv(this.addr,e)}function JW(n,e){n.uniform3uiv(this.addr,e)}function qW(n,e){n.uniform4uiv(this.addr,e)}function XW(n,e,t){const r=this.cache,i=e.length,s=l1(t,i);Kn(r,s)||(n.uniform1iv(this.addr,s),Yn(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||eR,s[o])}function KW(n,e,t){const r=this.cache,i=e.length,s=l1(t,i);Kn(r,s)||(n.uniform1iv(this.addr,s),Yn(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||nR,s[o])}function YW(n,e,t){const r=this.cache,i=e.length,s=l1(t,i);Kn(r,s)||(n.uniform1iv(this.addr,s),Yn(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||rR,s[o])}function QW(n,e,t){const r=this.cache,i=e.length,s=l1(t,i);Kn(r,s)||(n.uniform1iv(this.addr,s),Yn(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||tR,s[o])}function $W(n){switch(n){case 5126:return kW;case 35664:return LW;case 35665:return OW;case 35666:return FW;case 35674:return NW;case 35675:return UW;case 35676:return GW;case 5124:case 35670:return zW;case 35667:case 35671:return HW;case 35668:case 35672:return VW;case 35669:case 35673:return WW;case 5125:return jW;case 36294:return ZW;case 36295:return JW;case 36296:return qW;case 35678:case 36198:case 36298:case 36306:case 35682:return XW;case 35679:case 36299:case 36307:return KW;case 35680:case 36300:case 36308:case 36293:return YW;case 36289:case 36303:case 36311:case 36292:return QW}}class ej{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=DW(t.type)}}class tj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=$W(t.type)}}class nj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const $v=/(\w+)(\])?(\[|\.)?/g;function uA(n,e){n.seq.push(e),n.map[e.id]=e}function rj(n,e,t){const r=n.name,i=r.length;for($v.lastIndex=0;;){const s=$v.exec(r),o=$v.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){uA(t,u===void 0?new ej(a,n,e):new tj(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new nj(a),uA(t,f)),t=f}}}class ig{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);rj(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function cA(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let ij=0;function sj(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function oj(n){switch(n){case Ya:return["Linear","( value )"];case an:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function dA(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+sj(n.getShaderSource(e),o)}else return i}function aj(n,e){const t=oj(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function lj(n,e){let t;switch(e){case bI:t="Linear";break;case _I:t="Reinhard";break;case AI:t="OptimizedCineon";break;case F9:t="ACESFilmic";break;case SI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function uj(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(fh).join(`
`)}function cj(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function dj(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function fh(n){return n!==""}function fA(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hA(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fj=/^[ \t]*#include +<([\w\d./]+)>/gm;function D8(n){return n.replace(fj,hj)}function hj(n,e){const t=Ft[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return D8(t)}const pj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pA(n){return n.replace(pj,mj)}function mj(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function mA(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function gj(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===n1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Sh?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===tu&&(e="SHADOWMAP_TYPE_VSM"),e}function yj(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case qa:case Xa:e="ENVMAP_TYPE_CUBE";break;case zd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function vj(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Xa:e="ENVMAP_MODE_REFRACTION";break}return e}function xj(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Bp:e="ENVMAP_BLENDING_MULTIPLY";break;case xI:e="ENVMAP_BLENDING_MIX";break;case wI:e="ENVMAP_BLENDING_ADD";break}return e}function wj(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function bj(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=gj(t),u=yj(t),c=vj(t),f=xj(t),h=wj(t),m=t.isWebGL2?"":uj(t),g=cj(s),v=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(fh).join(`
`),y.length>0&&(y+=`
`),x=[m,g].filter(fh).join(`
`),x.length>0&&(x+=`
`)):(y=[mA(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(fh).join(`
`),x=[m,mA(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==As?"#define TONE_MAPPING":"",t.toneMapping!==As?Ft.tonemapping_pars_fragment:"",t.toneMapping!==As?lj("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ft.encodings_pars_fragment,aj("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(fh).join(`
`)),o=D8(o),o=fA(o,t),o=hA(o,t),a=D8(a),a=fA(a,t),a=hA(a,t),o=pA(o),a=pA(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===I8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===I8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=_+y+o,S=_+x+a,R=cA(i,35633,b),T=cA(i,35632,S);if(i.attachShader(v,R),i.attachShader(v,T),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const P=i.getProgramInfoLog(v).trim(),I=i.getShaderInfoLog(R).trim(),k=i.getShaderInfoLog(T).trim();let U=!0,q=!0;if(i.getProgramParameter(v,35714)===!1){U=!1;const W=dA(i,R,"vertex"),$=dA(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+P+`
`+W+`
`+$)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(I===""||k==="")&&(q=!1);q&&(this.diagnostics={runnable:U,programLog:P,vertexShader:{log:I,prefix:y},fragmentShader:{log:k,prefix:x}})}i.deleteShader(R),i.deleteShader(T);let B;this.getUniforms=function(){return B===void 0&&(B=new ig(i,v)),B};let C;return this.getAttributes=function(){return C===void 0&&(C=dj(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=ij++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=R,this.fragmentShader=T,this}let _j=0;class Aj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Sj(e),t.set(e,r)),r}}class Sj{constructor(e){this.id=_j++,this.code=e,this.usedTimes=0}}function Cj(n,e,t,r,i,s,o){const a=new yu,l=new Aj,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C,P,I,k,U){const q=k.fog,W=U.geometry,$=C.isMeshStandardMaterial?k.environment:null,ee=(C.isMeshStandardMaterial?t:e).get(C.envMap||$),ce=ee&&ee.mapping===zd?ee.image.height:null,N=g[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const H=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,j=H!==void 0?H.length:0;let oe=0;W.morphAttributes.position!==void 0&&(oe=1),W.morphAttributes.normal!==void 0&&(oe=2),W.morphAttributes.color!==void 0&&(oe=3);let te,ge,Pe,Me;if(N){const Y=xs[N];te=Y.vertexShader,ge=Y.fragmentShader}else te=C.vertexShader,ge=C.fragmentShader,l.update(C),Pe=l.getVertexShaderID(C),Me=l.getFragmentShaderID(C);const de=n.getRenderTarget(),Ve=C.alphaTest>0,ve=C.clearcoat>0,O=C.iridescence>0;return{isWebGL2:c,shaderID:N,shaderName:C.type,vertexShader:te,fragmentShader:ge,defines:C.defines,customVertexShaderID:Pe,customFragmentShaderID:Me,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:U.isInstancedMesh===!0,instancingColor:U.isInstancedMesh===!0&&U.instanceColor!==null,supportsVertexTextures:h,outputEncoding:de===null?n.outputEncoding:de.isXRRenderTarget===!0?de.texture.encoding:Ya,map:!!C.map,matcap:!!C.matcap,envMap:!!ee,envMapMode:ee&&ee.mapping,envMapCubeUVHeight:ce,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===ZI,tangentSpaceNormalMap:C.normalMapType===ll,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===an,clearcoat:ve,clearcoatMap:ve&&!!C.clearcoatMap,clearcoatRoughnessMap:ve&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:ve&&!!C.clearcoatNormalMap,iridescence:O,iridescenceMap:O&&!!C.iridescenceMap,iridescenceThicknessMap:O&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===fu,alphaMap:!!C.alphaMap,alphaTest:Ve,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!W.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!q,useFog:C.fog===!0,fogExp2:q&&q.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:f,skinning:U.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:oe,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:As,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===ws,flipSided:C.side===Zr,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function y(C){const P=[];if(C.shaderID?P.push(C.shaderID):(P.push(C.customVertexShaderID),P.push(C.customFragmentShaderID)),C.defines!==void 0)for(const I in C.defines)P.push(I),P.push(C.defines[I]);return C.isRawShaderMaterial===!1&&(x(P,C),_(P,C),P.push(n.outputEncoding)),P.push(C.customProgramCacheKey),P.join()}function x(C,P){C.push(P.precision),C.push(P.outputEncoding),C.push(P.envMapMode),C.push(P.envMapCubeUVHeight),C.push(P.combine),C.push(P.vertexUvs),C.push(P.fogExp2),C.push(P.sizeAttenuation),C.push(P.morphTargetsCount),C.push(P.morphAttributeCount),C.push(P.numDirLights),C.push(P.numPointLights),C.push(P.numSpotLights),C.push(P.numSpotLightMaps),C.push(P.numHemiLights),C.push(P.numRectAreaLights),C.push(P.numDirLightShadows),C.push(P.numPointLightShadows),C.push(P.numSpotLightShadows),C.push(P.numSpotLightShadowsWithMaps),C.push(P.shadowMapType),C.push(P.toneMapping),C.push(P.numClippingPlanes),C.push(P.numClipIntersection),C.push(P.depthPacking)}function _(C,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.iridescence&&a.enable(18),P.iridescenceMap&&a.enable(19),P.iridescenceThicknessMap&&a.enable(20),P.displacementMap&&a.enable(21),P.specularMap&&a.enable(22),P.roughnessMap&&a.enable(23),P.metalnessMap&&a.enable(24),P.gradientMap&&a.enable(25),P.alphaMap&&a.enable(26),P.alphaTest&&a.enable(27),P.vertexColors&&a.enable(28),P.vertexAlphas&&a.enable(29),P.vertexUvs&&a.enable(30),P.vertexTangents&&a.enable(31),P.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),C.push(a.mask)}function b(C){const P=g[C.type];let I;if(P){const k=xs[P];I=Z9.clone(k.uniforms)}else I=C.uniforms;return I}function S(C,P){let I;for(let k=0,U=u.length;k<U;k++){const q=u[k];if(q.cacheKey===P){I=q,++I.usedTimes;break}}return I===void 0&&(I=new bj(n,P,C,s),u.push(I)),I}function R(C){if(--C.usedTimes===0){const P=u.indexOf(C);u[P]=u[u.length-1],u.pop(),C.destroy()}}function T(C){l.remove(C)}function B(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:b,acquireProgram:S,releaseProgram:R,releaseShaderCache:T,programs:u,dispose:B}}function Tj(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Mj(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function gA(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function yA(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,h,m,g,v,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:m,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=m,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=v,x.group=y),e++,x}function a(f,h,m,g,v,y){const x=o(f,h,m,g,v,y);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(f,h,m,g,v,y){const x=o(f,h,m,g,v,y);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function u(f,h){t.length>1&&t.sort(f||Mj),r.length>1&&r.sort(h||gA),i.length>1&&i.sort(h||gA)}function c(){for(let f=e,h=n.length;f<h;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function Ej(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new yA,n.set(r,[o])):i>=s.length?(o=new yA,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Pj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new V,color:new Qe};break;case"SpotLight":t={position:new V,direction:new V,color:new Qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new V,color:new Qe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new V,skyColor:new Qe,groundColor:new Qe};break;case"RectAreaLight":t={color:new Qe,position:new V,halfWidth:new V,halfHeight:new V};break}return n[e.id]=t,t}}}function Ij(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Rj=0;function Bj(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Dj(n,e){const t=new Pj,r=Ij(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new V);const s=new V,o=new St,a=new St;function l(c,f){let h=0,m=0,g=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let v=0,y=0,x=0,_=0,b=0,S=0,R=0,T=0,B=0,C=0;c.sort(Bj);const P=f!==!0?Math.PI:1;for(let k=0,U=c.length;k<U;k++){const q=c[k],W=q.color,$=q.intensity,ee=q.distance,ce=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)h+=W.r*$*P,m+=W.g*$*P,g+=W.b*$*P;else if(q.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(q.sh.coefficients[N],$);else if(q.isDirectionalLight){const N=t.get(q);if(N.color.copy(q.color).multiplyScalar(q.intensity*P),q.castShadow){const H=q.shadow,j=r.get(q);j.shadowBias=H.bias,j.shadowNormalBias=H.normalBias,j.shadowRadius=H.radius,j.shadowMapSize=H.mapSize,i.directionalShadow[v]=j,i.directionalShadowMap[v]=ce,i.directionalShadowMatrix[v]=q.shadow.matrix,S++}i.directional[v]=N,v++}else if(q.isSpotLight){const N=t.get(q);N.position.setFromMatrixPosition(q.matrixWorld),N.color.copy(W).multiplyScalar($*P),N.distance=ee,N.coneCos=Math.cos(q.angle),N.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),N.decay=q.decay,i.spot[x]=N;const H=q.shadow;if(q.map&&(i.spotLightMap[B]=q.map,B++,H.updateMatrices(q),q.castShadow&&C++),i.spotLightMatrix[x]=H.matrix,q.castShadow){const j=r.get(q);j.shadowBias=H.bias,j.shadowNormalBias=H.normalBias,j.shadowRadius=H.radius,j.shadowMapSize=H.mapSize,i.spotShadow[x]=j,i.spotShadowMap[x]=ce,T++}x++}else if(q.isRectAreaLight){const N=t.get(q);N.color.copy(W).multiplyScalar($),N.halfWidth.set(q.width*.5,0,0),N.halfHeight.set(0,q.height*.5,0),i.rectArea[_]=N,_++}else if(q.isPointLight){const N=t.get(q);if(N.color.copy(q.color).multiplyScalar(q.intensity*P),N.distance=q.distance,N.decay=q.decay,q.castShadow){const H=q.shadow,j=r.get(q);j.shadowBias=H.bias,j.shadowNormalBias=H.normalBias,j.shadowRadius=H.radius,j.shadowMapSize=H.mapSize,j.shadowCameraNear=H.camera.near,j.shadowCameraFar=H.camera.far,i.pointShadow[y]=j,i.pointShadowMap[y]=ce,i.pointShadowMatrix[y]=q.shadow.matrix,R++}i.point[y]=N,y++}else if(q.isHemisphereLight){const N=t.get(q);N.skyColor.copy(q.color).multiplyScalar($*P),N.groundColor.copy(q.groundColor).multiplyScalar($*P),i.hemi[b]=N,b++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=m,i.ambient[2]=g;const I=i.hash;(I.directionalLength!==v||I.pointLength!==y||I.spotLength!==x||I.rectAreaLength!==_||I.hemiLength!==b||I.numDirectionalShadows!==S||I.numPointShadows!==R||I.numSpotShadows!==T||I.numSpotMaps!==B)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=T+B-C,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=C,I.directionalLength=v,I.pointLength=y,I.spotLength=x,I.rectAreaLength=_,I.hemiLength=b,I.numDirectionalShadows=S,I.numPointShadows=R,I.numSpotShadows=T,I.numSpotMaps=B,i.version=Rj++)}function u(c,f){let h=0,m=0,g=0,v=0,y=0;const x=f.matrixWorldInverse;for(let _=0,b=c.length;_<b;_++){const S=c[_];if(S.isDirectionalLight){const R=i.directional[h];R.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(x),h++}else if(S.isSpotLight){const R=i.spot[g];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(x),R.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(x),g++}else if(S.isRectAreaLight){const R=i.rectArea[v];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(x),a.identity(),o.copy(S.matrixWorld),o.premultiply(x),a.extractRotation(o),R.halfWidth.set(S.width*.5,0,0),R.halfHeight.set(0,S.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const R=i.point[m];R.position.setFromMatrixPosition(S.matrixWorld),R.position.applyMatrix4(x),m++}else if(S.isHemisphereLight){const R=i.hemi[y];R.direction.setFromMatrixPosition(S.matrixWorld),R.direction.transformDirection(x),y++}}}return{setup:l,setupView:u,state:i}}function vA(n,e){const t=new Dj(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function u(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function kj(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new vA(n,e),t.set(s,[l])):o>=a.length?(l=new vA(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class K9 extends Wn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=WI,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Y9 extends Wn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new V,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Lj=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Oj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Fj(n,e,t){let r=new a1;const i=new Ie,s=new Ie,o=new nn,a=new K9({depthPacking:jI}),l=new Y9,u={},c=t.maxTextureSize,f={[io]:Zr,[Zr]:io,[ws]:ws},h=new Ts({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:Lj,fragmentShader:Oj}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new kt;g.setAttribute("position",new $t(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new or(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=n1,this.render=function(S,R,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||S.length===0)return;const B=n.getRenderTarget(),C=n.getActiveCubeFace(),P=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Fo),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let k=0,U=S.length;k<U;k++){const q=S[k],W=q.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const $=W.getFrameExtents();if(i.multiply($),s.copy(W.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/$.x),i.x=s.x*$.x,W.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/$.y),i.y=s.y*$.y,W.mapSize.y=s.y)),W.map===null){const ce=this.type!==tu?{minFilter:Pn,magFilter:Pn}:{};W.map=new Cs(i.x,i.y,ce),W.map.texture.name=q.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const ee=W.getViewportCount();for(let ce=0;ce<ee;ce++){const N=W.getViewport(ce);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),I.viewport(o),W.updateMatrices(q,ce),r=W.getFrustum(),b(R,T,W.camera,q,this.type)}W.isPointLightShadow!==!0&&this.type===tu&&x(W,T),W.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(B,C,P)};function x(S,R){const T=e.update(v);h.defines.VSM_SAMPLES!==S.blurSamples&&(h.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new Cs(i.x,i.y)),h.uniforms.shadow_pass.value=S.map.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(R,null,T,h,v,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(R,null,T,m,v,null)}function _(S,R,T,B,C,P){let I=null;const k=T.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(k!==void 0)I=k;else if(I=T.isPointLight===!0?l:a,n.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const U=I.uuid,q=R.uuid;let W=u[U];W===void 0&&(W={},u[U]=W);let $=W[q];$===void 0&&($=I.clone(),W[q]=$),I=$}return I.visible=R.visible,I.wireframe=R.wireframe,P===tu?I.side=R.shadowSide!==null?R.shadowSide:R.side:I.side=R.shadowSide!==null?R.shadowSide:f[R.side],I.alphaMap=R.alphaMap,I.alphaTest=R.alphaTest,I.map=R.map,I.clipShadows=R.clipShadows,I.clippingPlanes=R.clippingPlanes,I.clipIntersection=R.clipIntersection,I.displacementMap=R.displacementMap,I.displacementScale=R.displacementScale,I.displacementBias=R.displacementBias,I.wireframeLinewidth=R.wireframeLinewidth,I.linewidth=R.linewidth,T.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(T.matrixWorld),I.nearDistance=B,I.farDistance=C),I}function b(S,R,T,B,C){if(S.visible===!1)return;if(S.layers.test(R.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&C===tu)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld);const k=e.update(S),U=S.material;if(Array.isArray(U)){const q=k.groups;for(let W=0,$=q.length;W<$;W++){const ee=q[W],ce=U[ee.materialIndex];if(ce&&ce.visible){const N=_(S,ce,B,T.near,T.far,C);n.renderBufferDirect(T,null,k,N,S,ee)}}}else if(U.visible){const q=_(S,U,B,T.near,T.far,C);n.renderBufferDirect(T,null,k,q,S,null)}}const I=S.children;for(let k=0,U=I.length;k<U;k++)b(I[k],R,T,B,C)}}function Nj(n,e,t){const r=t.isWebGL2;function i(){let se=!1;const be=new nn;let Fe=null;const Ze=new nn(0,0,0,0);return{setMask:function(dt){Fe!==dt&&!se&&(n.colorMask(dt,dt,dt,dt),Fe=dt)},setLocked:function(dt){se=dt},setClear:function(dt,Ut,qt,en,dr){dr===!0&&(dt*=en,Ut*=en,qt*=en),be.set(dt,Ut,qt,en),Ze.equals(be)===!1&&(n.clearColor(dt,Ut,qt,en),Ze.copy(be))},reset:function(){se=!1,Fe=null,Ze.set(-1,0,0,0)}}}function s(){let se=!1,be=null,Fe=null,Ze=null;return{setTest:function(dt){dt?Ve(2929):ve(2929)},setMask:function(dt){be!==dt&&!se&&(n.depthMask(dt),be=dt)},setFunc:function(dt){if(Fe!==dt){switch(dt){case fI:n.depthFunc(512);break;case hI:n.depthFunc(519);break;case pI:n.depthFunc(513);break;case zg:n.depthFunc(515);break;case mI:n.depthFunc(514);break;case gI:n.depthFunc(518);break;case yI:n.depthFunc(516);break;case vI:n.depthFunc(517);break;default:n.depthFunc(515)}Fe=dt}},setLocked:function(dt){se=dt},setClear:function(dt){Ze!==dt&&(n.clearDepth(dt),Ze=dt)},reset:function(){se=!1,be=null,Fe=null,Ze=null}}}function o(){let se=!1,be=null,Fe=null,Ze=null,dt=null,Ut=null,qt=null,en=null,dr=null;return{setTest:function(Vt){se||(Vt?Ve(2960):ve(2960))},setMask:function(Vt){be!==Vt&&!se&&(n.stencilMask(Vt),be=Vt)},setFunc:function(Vt,On,Rn){(Fe!==Vt||Ze!==On||dt!==Rn)&&(n.stencilFunc(Vt,On,Rn),Fe=Vt,Ze=On,dt=Rn)},setOp:function(Vt,On,Rn){(Ut!==Vt||qt!==On||en!==Rn)&&(n.stencilOp(Vt,On,Rn),Ut=Vt,qt=On,en=Rn)},setLocked:function(Vt){se=Vt},setClear:function(Vt){dr!==Vt&&(n.clearStencil(Vt),dr=Vt)},reset:function(){se=!1,be=null,Fe=null,Ze=null,dt=null,Ut=null,qt=null,en=null,dr=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let h={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,b=null,S=null,R=null,T=null,B=null,C=null,P=!1,I=null,k=null,U=null,q=null,W=null;const $=n.getParameter(35661);let ee=!1,ce=0;const N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL (\d)/.exec(N)[1]),ee=ce>=1):N.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),ee=ce>=2);let H=null,j={};const oe=n.getParameter(3088),te=n.getParameter(2978),ge=new nn().fromArray(oe),Pe=new nn().fromArray(te);function Me(se,be,Fe){const Ze=new Uint8Array(4),dt=n.createTexture();n.bindTexture(se,dt),n.texParameteri(se,10241,9728),n.texParameteri(se,10240,9728);for(let Ut=0;Ut<Fe;Ut++)n.texImage2D(be+Ut,0,6408,1,1,0,6408,5121,Ze);return dt}const de={};de[3553]=Me(3553,3553,1),de[34067]=Me(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ve(2929),l.setFunc(zg),ke(!1),He(t8),Ve(2884),he(Fo);function Ve(se){h[se]!==!0&&(n.enable(se),h[se]=!0)}function ve(se){h[se]!==!1&&(n.disable(se),h[se]=!1)}function O(se,be){return m[se]!==be?(n.bindFramebuffer(se,be),m[se]=be,r&&(se===36009&&(m[36160]=be),se===36160&&(m[36009]=be)),!0):!1}function F(se,be){let Fe=v,Ze=!1;if(se)if(Fe=g.get(be),Fe===void 0&&(Fe=[],g.set(be,Fe)),se.isWebGLMultipleRenderTargets){const dt=se.texture;if(Fe.length!==dt.length||Fe[0]!==36064){for(let Ut=0,qt=dt.length;Ut<qt;Ut++)Fe[Ut]=36064+Ut;Fe.length=dt.length,Ze=!0}}else Fe[0]!==36064&&(Fe[0]=36064,Ze=!0);else Fe[0]!==1029&&(Fe[0]=1029,Ze=!0);Ze&&(t.isWebGL2?n.drawBuffers(Fe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Fe))}function Y(se){return y!==se?(n.useProgram(se),y=se,!0):!1}const ie={[Jl]:32774,[tI]:32778,[nI]:32779};if(r)ie[s8]=32775,ie[o8]=32776;else{const se=e.get("EXT_blend_minmax");se!==null&&(ie[s8]=se.MIN_EXT,ie[o8]=se.MAX_EXT)}const re={[rI]:0,[iI]:1,[sI]:768,[L9]:770,[dI]:776,[uI]:774,[aI]:772,[oI]:769,[O9]:771,[cI]:775,[lI]:773};function he(se,be,Fe,Ze,dt,Ut,qt,en){if(se===Fo){x===!0&&(ve(3042),x=!1);return}if(x===!1&&(Ve(3042),x=!0),se!==eI){if(se!==_||en!==P){if((b!==Jl||T!==Jl)&&(n.blendEquation(32774),b=Jl,T=Jl),en)switch(se){case fu:n.blendFuncSeparate(1,771,1,771);break;case n8:n.blendFunc(1,1);break;case r8:n.blendFuncSeparate(0,769,0,1);break;case i8:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case fu:n.blendFuncSeparate(770,771,1,771);break;case n8:n.blendFunc(770,1);break;case r8:n.blendFuncSeparate(0,769,0,1);break;case i8:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}S=null,R=null,B=null,C=null,_=se,P=en}return}dt=dt||be,Ut=Ut||Fe,qt=qt||Ze,(be!==b||dt!==T)&&(n.blendEquationSeparate(ie[be],ie[dt]),b=be,T=dt),(Fe!==S||Ze!==R||Ut!==B||qt!==C)&&(n.blendFuncSeparate(re[Fe],re[Ze],re[Ut],re[qt]),S=Fe,R=Ze,B=Ut,C=qt),_=se,P=!1}function Le(se,be){se.side===ws?ve(2884):Ve(2884);let Fe=se.side===Zr;be&&(Fe=!Fe),ke(Fe),se.blending===fu&&se.transparent===!1?he(Fo):he(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.premultipliedAlpha),l.setFunc(se.depthFunc),l.setTest(se.depthTest),l.setMask(se.depthWrite),a.setMask(se.colorWrite);const Ze=se.stencilWrite;u.setTest(Ze),Ze&&(u.setMask(se.stencilWriteMask),u.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),u.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),We(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?Ve(32926):ve(32926)}function ke(se){I!==se&&(se?n.frontFace(2304):n.frontFace(2305),I=se)}function He(se){se!==YP?(Ve(2884),se!==k&&(se===t8?n.cullFace(1029):se===QP?n.cullFace(1028):n.cullFace(1032))):ve(2884),k=se}function je(se){se!==U&&(ee&&n.lineWidth(se),U=se)}function We(se,be,Fe){se?(Ve(32823),(q!==be||W!==Fe)&&(n.polygonOffset(be,Fe),q=be,W=Fe)):ve(32823)}function pt(se){se?Ve(3089):ve(3089)}function ut(se){se===void 0&&(se=33984+$-1),H!==se&&(n.activeTexture(se),H=se)}function Z(se,be,Fe){Fe===void 0&&(H===null?Fe=33984+$-1:Fe=H);let Ze=j[Fe];Ze===void 0&&(Ze={type:void 0,texture:void 0},j[Fe]=Ze),(Ze.type!==se||Ze.texture!==be)&&(H!==Fe&&(n.activeTexture(Fe),H=Fe),n.bindTexture(se,be||de[se]),Ze.type=se,Ze.texture=be)}function G(){const se=j[H];se!==void 0&&se.type!==void 0&&(n.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function we(){try{n.compressedTexImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ne(){try{n.compressedTexImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ge(){try{n.texSubImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ce(){try{n.texSubImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function vt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function qe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Re(){try{n.texStorage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ft(){try{n.texStorage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function xt(){try{n.texImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function it(){try{n.texImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function gt(se){ge.equals(se)===!1&&(n.scissor(se.x,se.y,se.z,se.w),ge.copy(se))}function ct(se){Pe.equals(se)===!1&&(n.viewport(se.x,se.y,se.z,se.w),Pe.copy(se))}function le(se,be){let Fe=f.get(be);Fe===void 0&&(Fe=new WeakMap,f.set(be,Fe));let Ze=Fe.get(se);Ze===void 0&&(Ze=n.getUniformBlockIndex(be,se.name),Fe.set(se,Ze))}function Oe(se,be){const Ze=f.get(be).get(se);c.get(be)!==Ze&&(n.uniformBlockBinding(be,Ze,se.__bindingPointIndex),c.set(be,Ze))}function et(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},H=null,j={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,b=null,S=null,R=null,T=null,B=null,C=null,P=!1,I=null,k=null,U=null,q=null,W=null,ge.set(0,0,n.canvas.width,n.canvas.height),Pe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Ve,disable:ve,bindFramebuffer:O,drawBuffers:F,useProgram:Y,setBlending:he,setMaterial:Le,setFlipSided:ke,setCullFace:He,setLineWidth:je,setPolygonOffset:We,setScissorTest:pt,activeTexture:ut,bindTexture:Z,unbindTexture:G,compressedTexImage2D:we,compressedTexImage3D:Ne,texImage2D:xt,texImage3D:it,updateUBOMapping:le,uniformBlockBinding:Oe,texStorage2D:Re,texStorage3D:ft,texSubImage2D:Ge,texSubImage3D:Ce,compressedTexSubImage2D:vt,compressedTexSubImage3D:qe,scissor:gt,viewport:ct,reset:et}}function Uj(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(Z,G){return x?new OffscreenCanvas(Z,G):op("canvas")}function b(Z,G,we,Ne){let Ge=1;if((Z.width>Ne||Z.height>Ne)&&(Ge=Ne/Math.max(Z.width,Z.height)),Ge<1||G===!0)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const Ce=G?Wg:Math.floor,vt=Ce(Ge*Z.width),qe=Ce(Ge*Z.height);v===void 0&&(v=_(vt,qe));const Re=we?_(vt,qe):v;return Re.width=vt,Re.height=qe,Re.getContext("2d").drawImage(Z,0,0,vt,qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+vt+"x"+qe+")."),Re}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z;return Z}function S(Z){return R8(Z.width)&&R8(Z.height)}function R(Z){return a?!1:Z.wrapS!==mr||Z.wrapT!==mr||Z.minFilter!==Pn&&Z.minFilter!==bn}function T(Z,G){return Z.generateMipmaps&&G&&Z.minFilter!==Pn&&Z.minFilter!==bn}function B(Z){n.generateMipmap(Z)}function C(Z,G,we,Ne,Ge=!1){if(a===!1)return G;if(Z!==null){if(n[Z]!==void 0)return n[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let Ce=G;return G===6403&&(we===5126&&(Ce=33326),we===5131&&(Ce=33325),we===5121&&(Ce=33321)),G===33319&&(we===5126&&(Ce=33328),we===5131&&(Ce=33327),we===5121&&(Ce=33323)),G===6408&&(we===5126&&(Ce=34836),we===5131&&(Ce=34842),we===5121&&(Ce=Ne===an&&Ge===!1?35907:32856),we===32819&&(Ce=32854),we===32820&&(Ce=32855)),(Ce===33325||Ce===33326||Ce===33327||Ce===33328||Ce===34842||Ce===34836)&&e.get("EXT_color_buffer_float"),Ce}function P(Z,G,we){return T(Z,we)===!0||Z.isFramebufferTexture&&Z.minFilter!==Pn&&Z.minFilter!==bn?Math.log2(Math.max(G.width,G.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?G.mipmaps.length:1}function I(Z){return Z===Pn||Z===np||Z===sd?9728:9729}function k(Z){const G=Z.target;G.removeEventListener("dispose",k),q(G),G.isVideoTexture&&g.delete(G)}function U(Z){const G=Z.target;G.removeEventListener("dispose",U),$(G)}function q(Z){const G=r.get(Z);if(G.__webglInit===void 0)return;const we=Z.source,Ne=y.get(we);if(Ne){const Ge=Ne[G.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&W(Z),Object.keys(Ne).length===0&&y.delete(we)}r.remove(Z)}function W(Z){const G=r.get(Z);n.deleteTexture(G.__webglTexture);const we=Z.source,Ne=y.get(we);delete Ne[G.__cacheKey],o.memory.textures--}function $(Z){const G=Z.texture,we=r.get(Z),Ne=r.get(G);if(Ne.__webglTexture!==void 0&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let Ge=0;Ge<6;Ge++)n.deleteFramebuffer(we.__webglFramebuffer[Ge]),we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer[Ge]);else{if(n.deleteFramebuffer(we.__webglFramebuffer),we.__webglDepthbuffer&&n.deleteRenderbuffer(we.__webglDepthbuffer),we.__webglMultisampledFramebuffer&&n.deleteFramebuffer(we.__webglMultisampledFramebuffer),we.__webglColorRenderbuffer)for(let Ge=0;Ge<we.__webglColorRenderbuffer.length;Ge++)we.__webglColorRenderbuffer[Ge]&&n.deleteRenderbuffer(we.__webglColorRenderbuffer[Ge]);we.__webglDepthRenderbuffer&&n.deleteRenderbuffer(we.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let Ge=0,Ce=G.length;Ge<Ce;Ge++){const vt=r.get(G[Ge]);vt.__webglTexture&&(n.deleteTexture(vt.__webglTexture),o.memory.textures--),r.remove(G[Ge])}r.remove(G),r.remove(Z)}let ee=0;function ce(){ee=0}function N(){const Z=ee;return Z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+l),ee+=1,Z}function H(Z){const G=[];return G.push(Z.wrapS),G.push(Z.wrapT),G.push(Z.wrapR||0),G.push(Z.magFilter),G.push(Z.minFilter),G.push(Z.anisotropy),G.push(Z.internalFormat),G.push(Z.format),G.push(Z.type),G.push(Z.generateMipmaps),G.push(Z.premultiplyAlpha),G.push(Z.flipY),G.push(Z.unpackAlignment),G.push(Z.encoding),G.join()}function j(Z,G){const we=r.get(Z);if(Z.isVideoTexture&&pt(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&we.__version!==Z.version){const Ne=Z.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(we,Z,G);return}}t.bindTexture(3553,we.__webglTexture,33984+G)}function oe(Z,G){const we=r.get(Z);if(Z.version>0&&we.__version!==Z.version){ve(we,Z,G);return}t.bindTexture(35866,we.__webglTexture,33984+G)}function te(Z,G){const we=r.get(Z);if(Z.version>0&&we.__version!==Z.version){ve(we,Z,G);return}t.bindTexture(32879,we.__webglTexture,33984+G)}function ge(Z,G){const we=r.get(Z);if(Z.version>0&&we.__version!==Z.version){O(we,Z,G);return}t.bindTexture(34067,we.__webglTexture,33984+G)}const Pe={[Ka]:10497,[mr]:33071,[vd]:33648},Me={[Pn]:9728,[np]:9984,[sd]:9986,[bn]:9729,[i1]:9985,[so]:9987};function de(Z,G,we){if(we?(n.texParameteri(Z,10242,Pe[G.wrapS]),n.texParameteri(Z,10243,Pe[G.wrapT]),(Z===32879||Z===35866)&&n.texParameteri(Z,32882,Pe[G.wrapR]),n.texParameteri(Z,10240,Me[G.magFilter]),n.texParameteri(Z,10241,Me[G.minFilter])):(n.texParameteri(Z,10242,33071),n.texParameteri(Z,10243,33071),(Z===32879||Z===35866)&&n.texParameteri(Z,32882,33071),(G.wrapS!==mr||G.wrapT!==mr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Z,10240,I(G.magFilter)),n.texParameteri(Z,10241,I(G.minFilter)),G.minFilter!==Pn&&G.minFilter!==bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(G.magFilter===Pn||G.minFilter!==sd&&G.minFilter!==so||G.type===Io&&e.has("OES_texture_float_linear")===!1||a===!1&&G.type===xd&&e.has("OES_texture_half_float_linear")===!1)return;(G.anisotropy>1||r.get(G).__currentAnisotropy)&&(n.texParameterf(Z,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy)}}function Ve(Z,G){let we=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,G.addEventListener("dispose",k));const Ne=G.source;let Ge=y.get(Ne);Ge===void 0&&(Ge={},y.set(Ne,Ge));const Ce=H(G);if(Ce!==Z.__cacheKey){Ge[Ce]===void 0&&(Ge[Ce]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,we=!0),Ge[Ce].usedTimes++;const vt=Ge[Z.__cacheKey];vt!==void 0&&(Ge[Z.__cacheKey].usedTimes--,vt.usedTimes===0&&W(G)),Z.__cacheKey=Ce,Z.__webglTexture=Ge[Ce].texture}return we}function ve(Z,G,we){let Ne=3553;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Ne=35866),G.isData3DTexture&&(Ne=32879);const Ge=Ve(Z,G),Ce=G.source;t.bindTexture(Ne,Z.__webglTexture,33984+we);const vt=r.get(Ce);if(Ce.version!==vt.__version||Ge===!0){t.activeTexture(33984+we),n.pixelStorei(37440,G.flipY),n.pixelStorei(37441,G.premultiplyAlpha),n.pixelStorei(3317,G.unpackAlignment),n.pixelStorei(37443,0);const qe=R(G)&&S(G.image)===!1;let Re=b(G.image,qe,!1,c);Re=ut(G,Re);const ft=S(Re)||a,xt=s.convert(G.format,G.encoding);let it=s.convert(G.type),gt=C(G.internalFormat,xt,it,G.encoding,G.isVideoTexture);de(Ne,G,ft);let ct;const le=G.mipmaps,Oe=a&&G.isVideoTexture!==!0,et=vt.__version===void 0||Ge===!0,se=P(G,Re,ft);if(G.isDepthTexture)gt=6402,a?G.type===Io?gt=36012:G.type===Ra?gt=33190:G.type===hu?gt=35056:gt=33189:G.type===Io&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===Va&&gt===6402&&G.type!==N9&&G.type!==Ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=Ra,it=s.convert(G.type)),G.format===Cu&&gt===6402&&(gt=34041,G.type!==hu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=hu,it=s.convert(G.type))),et&&(Oe?t.texStorage2D(3553,1,gt,Re.width,Re.height):t.texImage2D(3553,0,gt,Re.width,Re.height,0,xt,it,null));else if(G.isDataTexture)if(le.length>0&&ft){Oe&&et&&t.texStorage2D(3553,se,gt,le[0].width,le[0].height);for(let be=0,Fe=le.length;be<Fe;be++)ct=le[be],Oe?t.texSubImage2D(3553,be,0,0,ct.width,ct.height,xt,it,ct.data):t.texImage2D(3553,be,gt,ct.width,ct.height,0,xt,it,ct.data);G.generateMipmaps=!1}else Oe?(et&&t.texStorage2D(3553,se,gt,Re.width,Re.height),t.texSubImage2D(3553,0,0,0,Re.width,Re.height,xt,it,Re.data)):t.texImage2D(3553,0,gt,Re.width,Re.height,0,xt,it,Re.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){Oe&&et&&t.texStorage3D(35866,se,gt,le[0].width,le[0].height,Re.depth);for(let be=0,Fe=le.length;be<Fe;be++)ct=le[be],G.format!==si?xt!==null?Oe?t.compressedTexSubImage3D(35866,be,0,0,0,ct.width,ct.height,Re.depth,xt,ct.data,0,0):t.compressedTexImage3D(35866,be,gt,ct.width,ct.height,Re.depth,0,ct.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?t.texSubImage3D(35866,be,0,0,0,ct.width,ct.height,Re.depth,xt,it,ct.data):t.texImage3D(35866,be,gt,ct.width,ct.height,Re.depth,0,xt,it,ct.data)}else{Oe&&et&&t.texStorage2D(3553,se,gt,le[0].width,le[0].height);for(let be=0,Fe=le.length;be<Fe;be++)ct=le[be],G.format!==si?xt!==null?Oe?t.compressedTexSubImage2D(3553,be,0,0,ct.width,ct.height,xt,ct.data):t.compressedTexImage2D(3553,be,gt,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?t.texSubImage2D(3553,be,0,0,ct.width,ct.height,xt,it,ct.data):t.texImage2D(3553,be,gt,ct.width,ct.height,0,xt,it,ct.data)}else if(G.isDataArrayTexture)Oe?(et&&t.texStorage3D(35866,se,gt,Re.width,Re.height,Re.depth),t.texSubImage3D(35866,0,0,0,0,Re.width,Re.height,Re.depth,xt,it,Re.data)):t.texImage3D(35866,0,gt,Re.width,Re.height,Re.depth,0,xt,it,Re.data);else if(G.isData3DTexture)Oe?(et&&t.texStorage3D(32879,se,gt,Re.width,Re.height,Re.depth),t.texSubImage3D(32879,0,0,0,0,Re.width,Re.height,Re.depth,xt,it,Re.data)):t.texImage3D(32879,0,gt,Re.width,Re.height,Re.depth,0,xt,it,Re.data);else if(G.isFramebufferTexture){if(et)if(Oe)t.texStorage2D(3553,se,gt,Re.width,Re.height);else{let be=Re.width,Fe=Re.height;for(let Ze=0;Ze<se;Ze++)t.texImage2D(3553,Ze,gt,be,Fe,0,xt,it,null),be>>=1,Fe>>=1}}else if(le.length>0&&ft){Oe&&et&&t.texStorage2D(3553,se,gt,le[0].width,le[0].height);for(let be=0,Fe=le.length;be<Fe;be++)ct=le[be],Oe?t.texSubImage2D(3553,be,0,0,xt,it,ct):t.texImage2D(3553,be,gt,xt,it,ct);G.generateMipmaps=!1}else Oe?(et&&t.texStorage2D(3553,se,gt,Re.width,Re.height),t.texSubImage2D(3553,0,0,0,xt,it,Re)):t.texImage2D(3553,0,gt,xt,it,Re);T(G,ft)&&B(Ne),vt.__version=Ce.version,G.onUpdate&&G.onUpdate(G)}Z.__version=G.version}function O(Z,G,we){if(G.image.length!==6)return;const Ne=Ve(Z,G),Ge=G.source;t.bindTexture(34067,Z.__webglTexture,33984+we);const Ce=r.get(Ge);if(Ge.version!==Ce.__version||Ne===!0){t.activeTexture(33984+we),n.pixelStorei(37440,G.flipY),n.pixelStorei(37441,G.premultiplyAlpha),n.pixelStorei(3317,G.unpackAlignment),n.pixelStorei(37443,0);const vt=G.isCompressedTexture||G.image[0].isCompressedTexture,qe=G.image[0]&&G.image[0].isDataTexture,Re=[];for(let be=0;be<6;be++)!vt&&!qe?Re[be]=b(G.image[be],!1,!0,u):Re[be]=qe?G.image[be].image:G.image[be],Re[be]=ut(G,Re[be]);const ft=Re[0],xt=S(ft)||a,it=s.convert(G.format,G.encoding),gt=s.convert(G.type),ct=C(G.internalFormat,it,gt,G.encoding),le=a&&G.isVideoTexture!==!0,Oe=Ce.__version===void 0||Ne===!0;let et=P(G,ft,xt);de(34067,G,xt);let se;if(vt){le&&Oe&&t.texStorage2D(34067,et,ct,ft.width,ft.height);for(let be=0;be<6;be++){se=Re[be].mipmaps;for(let Fe=0;Fe<se.length;Fe++){const Ze=se[Fe];G.format!==si?it!==null?le?t.compressedTexSubImage2D(34069+be,Fe,0,0,Ze.width,Ze.height,it,Ze.data):t.compressedTexImage2D(34069+be,Fe,ct,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?t.texSubImage2D(34069+be,Fe,0,0,Ze.width,Ze.height,it,gt,Ze.data):t.texImage2D(34069+be,Fe,ct,Ze.width,Ze.height,0,it,gt,Ze.data)}}}else{se=G.mipmaps,le&&Oe&&(se.length>0&&et++,t.texStorage2D(34067,et,ct,Re[0].width,Re[0].height));for(let be=0;be<6;be++)if(qe){le?t.texSubImage2D(34069+be,0,0,0,Re[be].width,Re[be].height,it,gt,Re[be].data):t.texImage2D(34069+be,0,ct,Re[be].width,Re[be].height,0,it,gt,Re[be].data);for(let Fe=0;Fe<se.length;Fe++){const dt=se[Fe].image[be].image;le?t.texSubImage2D(34069+be,Fe+1,0,0,dt.width,dt.height,it,gt,dt.data):t.texImage2D(34069+be,Fe+1,ct,dt.width,dt.height,0,it,gt,dt.data)}}else{le?t.texSubImage2D(34069+be,0,0,0,it,gt,Re[be]):t.texImage2D(34069+be,0,ct,it,gt,Re[be]);for(let Fe=0;Fe<se.length;Fe++){const Ze=se[Fe];le?t.texSubImage2D(34069+be,Fe+1,0,0,it,gt,Ze.image[be]):t.texImage2D(34069+be,Fe+1,ct,it,gt,Ze.image[be])}}}T(G,xt)&&B(34067),Ce.__version=Ge.version,G.onUpdate&&G.onUpdate(G)}Z.__version=G.version}function F(Z,G,we,Ne,Ge){const Ce=s.convert(we.format,we.encoding),vt=s.convert(we.type),qe=C(we.internalFormat,Ce,vt,we.encoding);r.get(G).__hasExternalTextures||(Ge===32879||Ge===35866?t.texImage3D(Ge,0,qe,G.width,G.height,G.depth,0,Ce,vt,null):t.texImage2D(Ge,0,qe,G.width,G.height,0,Ce,vt,null)),t.bindFramebuffer(36160,Z),We(G)?h.framebufferTexture2DMultisampleEXT(36160,Ne,Ge,r.get(we).__webglTexture,0,je(G)):(Ge===3553||Ge>=34069&&Ge<=34074)&&n.framebufferTexture2D(36160,Ne,Ge,r.get(we).__webglTexture,0),t.bindFramebuffer(36160,null)}function Y(Z,G,we){if(n.bindRenderbuffer(36161,Z),G.depthBuffer&&!G.stencilBuffer){let Ne=33189;if(we||We(G)){const Ge=G.depthTexture;Ge&&Ge.isDepthTexture&&(Ge.type===Io?Ne=36012:Ge.type===Ra&&(Ne=33190));const Ce=je(G);We(G)?h.renderbufferStorageMultisampleEXT(36161,Ce,Ne,G.width,G.height):n.renderbufferStorageMultisample(36161,Ce,Ne,G.width,G.height)}else n.renderbufferStorage(36161,Ne,G.width,G.height);n.framebufferRenderbuffer(36160,36096,36161,Z)}else if(G.depthBuffer&&G.stencilBuffer){const Ne=je(G);we&&We(G)===!1?n.renderbufferStorageMultisample(36161,Ne,35056,G.width,G.height):We(G)?h.renderbufferStorageMultisampleEXT(36161,Ne,35056,G.width,G.height):n.renderbufferStorage(36161,34041,G.width,G.height),n.framebufferRenderbuffer(36160,33306,36161,Z)}else{const Ne=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Ge=0;Ge<Ne.length;Ge++){const Ce=Ne[Ge],vt=s.convert(Ce.format,Ce.encoding),qe=s.convert(Ce.type),Re=C(Ce.internalFormat,vt,qe,Ce.encoding),ft=je(G);we&&We(G)===!1?n.renderbufferStorageMultisample(36161,ft,Re,G.width,G.height):We(G)?h.renderbufferStorageMultisampleEXT(36161,ft,Re,G.width,G.height):n.renderbufferStorage(36161,Re,G.width,G.height)}}n.bindRenderbuffer(36161,null)}function ie(Z,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,Z),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),j(G.depthTexture,0);const Ne=r.get(G.depthTexture).__webglTexture,Ge=je(G);if(G.depthTexture.format===Va)We(G)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ne,0,Ge):n.framebufferTexture2D(36160,36096,3553,Ne,0);else if(G.depthTexture.format===Cu)We(G)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ne,0,Ge):n.framebufferTexture2D(36160,33306,3553,Ne,0);else throw new Error("Unknown depthTexture format")}function re(Z){const G=r.get(Z),we=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!G.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");ie(G.__webglFramebuffer,Z)}else if(we){G.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)t.bindFramebuffer(36160,G.__webglFramebuffer[Ne]),G.__webglDepthbuffer[Ne]=n.createRenderbuffer(),Y(G.__webglDepthbuffer[Ne],Z,!1)}else t.bindFramebuffer(36160,G.__webglFramebuffer),G.__webglDepthbuffer=n.createRenderbuffer(),Y(G.__webglDepthbuffer,Z,!1);t.bindFramebuffer(36160,null)}function he(Z,G,we){const Ne=r.get(Z);G!==void 0&&F(Ne.__webglFramebuffer,Z,Z.texture,36064,3553),we!==void 0&&re(Z)}function Le(Z){const G=Z.texture,we=r.get(Z),Ne=r.get(G);Z.addEventListener("dispose",U),Z.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=G.version,o.memory.textures++);const Ge=Z.isWebGLCubeRenderTarget===!0,Ce=Z.isWebGLMultipleRenderTargets===!0,vt=S(Z)||a;if(Ge){we.__webglFramebuffer=[];for(let qe=0;qe<6;qe++)we.__webglFramebuffer[qe]=n.createFramebuffer()}else{if(we.__webglFramebuffer=n.createFramebuffer(),Ce)if(i.drawBuffers){const qe=Z.texture;for(let Re=0,ft=qe.length;Re<ft;Re++){const xt=r.get(qe[Re]);xt.__webglTexture===void 0&&(xt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Z.samples>0&&We(Z)===!1){const qe=Ce?G:[G];we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,we.__webglMultisampledFramebuffer);for(let Re=0;Re<qe.length;Re++){const ft=qe[Re];we.__webglColorRenderbuffer[Re]=n.createRenderbuffer(),n.bindRenderbuffer(36161,we.__webglColorRenderbuffer[Re]);const xt=s.convert(ft.format,ft.encoding),it=s.convert(ft.type),gt=C(ft.internalFormat,xt,it,ft.encoding,Z.isXRRenderTarget===!0),ct=je(Z);n.renderbufferStorageMultisample(36161,ct,gt,Z.width,Z.height),n.framebufferRenderbuffer(36160,36064+Re,36161,we.__webglColorRenderbuffer[Re])}n.bindRenderbuffer(36161,null),Z.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),Y(we.__webglDepthRenderbuffer,Z,!0)),t.bindFramebuffer(36160,null)}}if(Ge){t.bindTexture(34067,Ne.__webglTexture),de(34067,G,vt);for(let qe=0;qe<6;qe++)F(we.__webglFramebuffer[qe],Z,G,36064,34069+qe);T(G,vt)&&B(34067),t.unbindTexture()}else if(Ce){const qe=Z.texture;for(let Re=0,ft=qe.length;Re<ft;Re++){const xt=qe[Re],it=r.get(xt);t.bindTexture(3553,it.__webglTexture),de(3553,xt,vt),F(we.__webglFramebuffer,Z,xt,36064+Re,3553),T(xt,vt)&&B(3553)}t.unbindTexture()}else{let qe=3553;(Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(a?qe=Z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(qe,Ne.__webglTexture),de(qe,G,vt),F(we.__webglFramebuffer,Z,G,36064,qe),T(G,vt)&&B(qe),t.unbindTexture()}Z.depthBuffer&&re(Z)}function ke(Z){const G=S(Z)||a,we=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Ne=0,Ge=we.length;Ne<Ge;Ne++){const Ce=we[Ne];if(T(Ce,G)){const vt=Z.isWebGLCubeRenderTarget?34067:3553,qe=r.get(Ce).__webglTexture;t.bindTexture(vt,qe),B(vt),t.unbindTexture()}}}function He(Z){if(a&&Z.samples>0&&We(Z)===!1){const G=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],we=Z.width,Ne=Z.height;let Ge=16384;const Ce=[],vt=Z.stencilBuffer?33306:36096,qe=r.get(Z),Re=Z.isWebGLMultipleRenderTargets===!0;if(Re)for(let ft=0;ft<G.length;ft++)t.bindFramebuffer(36160,qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ft,36161,null),t.bindFramebuffer(36160,qe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ft,3553,null,0);t.bindFramebuffer(36008,qe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,qe.__webglFramebuffer);for(let ft=0;ft<G.length;ft++){Ce.push(36064+ft),Z.depthBuffer&&Ce.push(vt);const xt=qe.__ignoreDepthValues!==void 0?qe.__ignoreDepthValues:!1;if(xt===!1&&(Z.depthBuffer&&(Ge|=256),Z.stencilBuffer&&(Ge|=1024)),Re&&n.framebufferRenderbuffer(36008,36064,36161,qe.__webglColorRenderbuffer[ft]),xt===!0&&(n.invalidateFramebuffer(36008,[vt]),n.invalidateFramebuffer(36009,[vt])),Re){const it=r.get(G[ft]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,it,0)}n.blitFramebuffer(0,0,we,Ne,0,0,we,Ne,Ge,9728),m&&n.invalidateFramebuffer(36008,Ce)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Re)for(let ft=0;ft<G.length;ft++){t.bindFramebuffer(36160,qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ft,36161,qe.__webglColorRenderbuffer[ft]);const xt=r.get(G[ft]).__webglTexture;t.bindFramebuffer(36160,qe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ft,3553,xt,0)}t.bindFramebuffer(36009,qe.__webglMultisampledFramebuffer)}}function je(Z){return Math.min(f,Z.samples)}function We(Z){const G=r.get(Z);return a&&Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function pt(Z){const G=o.render.frame;g.get(Z)!==G&&(g.set(Z,G),Z.update())}function ut(Z,G){const we=Z.encoding,Ne=Z.format,Ge=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||Z.format===Vg||we!==Ya&&(we===an?a===!1?e.has("EXT_sRGB")===!0&&Ne===si?(Z.format=Vg,Z.minFilter=bn,Z.generateMipmaps=!1):G=H9.sRGBToLinear(G):(Ne!==si||Ge!==Zo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",we)),G}this.allocateTextureUnit=N,this.resetTextureUnits=ce,this.setTexture2D=j,this.setTexture2DArray=oe,this.setTexture3D=te,this.setTextureCube=ge,this.rebindTextures=he,this.setupRenderTarget=Le,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=He,this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=F,this.useMultisampledRTT=We}function iR(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Zo)return 5121;if(s===EI)return 32819;if(s===PI)return 32820;if(s===CI)return 5120;if(s===TI)return 5122;if(s===N9)return 5123;if(s===MI)return 5124;if(s===Ra)return 5125;if(s===Io)return 5126;if(s===xd)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===II)return 6406;if(s===si)return 6408;if(s===RI)return 6409;if(s===BI)return 6410;if(s===Va)return 6402;if(s===Cu)return 34041;if(s===Vg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===DI)return 6403;if(s===kI)return 36244;if(s===LI)return 33319;if(s===OI)return 33320;if(s===FI)return 36249;if(s===K3||s===Y3||s===Q3||s===$3)if(o===an)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===K3)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Y3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Q3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===$3)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===K3)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Y3)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Q3)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===$3)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===a8||s===l8||s===u8||s===c8)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===a8)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===l8)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===u8)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===c8)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===NI)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===d8||s===f8)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===d8)return o===an?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===f8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===h8||s===p8||s===m8||s===g8||s===y8||s===v8||s===x8||s===w8||s===b8||s===_8||s===A8||s===S8||s===C8||s===T8)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===h8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===p8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===m8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===g8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===y8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===v8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===x8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===w8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===b8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===_8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===A8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===S8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===C8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===T8)return o===an?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===eg)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===eg)return o===an?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===UI||s===M8||s===E8||s===P8)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===eg)return a.COMPRESSED_RED_RGTC1_EXT;if(s===M8)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===E8)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===P8)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===hu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class sR extends hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Bo extends Jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gj={type:"move"};class e5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Bo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Bo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new V,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new V),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Bo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new V,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new V),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r),x=this._getHandJoint(u,v);y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&h>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Gj)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Bo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class oR extends vn{constructor(e,t,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:Va,c!==Va&&c!==Cu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Va&&(r=Ra),r===void 0&&c===Cu&&(r=hu),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Pn,this.minFilter=l!==void 0?l:Pn,this.flipY=!1,this.generateMipmaps=!1}}class zj extends oo{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,h=null,m=null,g=null;const v=t.getContextAttributes();let y=null,x=null;const _=[],b=[],S=new Set,R=new Map,T=new hn;T.layers.enable(1),T.viewport=new nn;const B=new hn;B.layers.enable(2),B.viewport=new nn;const C=[T,B],P=new sR;P.layers.enable(1),P.layers.enable(2);let I=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let ge=_[te];return ge===void 0&&(ge=new e5,_[te]=ge),ge.getTargetRaySpace()},this.getControllerGrip=function(te){let ge=_[te];return ge===void 0&&(ge=new e5,_[te]=ge),ge.getGripSpace()},this.getHand=function(te){let ge=_[te];return ge===void 0&&(ge=new e5,_[te]=ge),ge.getHandSpace()};function U(te){const ge=b.indexOf(te.inputSource);if(ge===-1)return;const Pe=_[ge];Pe!==void 0&&Pe.dispatchEvent({type:te.type,data:te.inputSource})}function q(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",q),i.removeEventListener("inputsourceschange",W);for(let te=0;te<_.length;te++){const ge=b[te];ge!==null&&(b[te]=null,_[te].disconnect(ge))}I=null,k=null,e.setRenderTarget(y),m=null,h=null,f=null,i=null,x=null,oe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){s=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){a=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(te){u=te},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(te){if(i=te,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",q),i.addEventListener("inputsourceschange",W),v.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ge={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ge),i.updateRenderState({baseLayer:m}),x=new Cs(m.framebufferWidth,m.framebufferHeight,{format:si,type:Zo,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let ge=null,Pe=null,Me=null;v.depth&&(Me=v.stencil?35056:33190,ge=v.stencil?Cu:Va,Pe=v.stencil?hu:Ra);const de={colorFormat:32856,depthFormat:Me,scaleFactor:s};f=new XRWebGLBinding(i,t),h=f.createProjectionLayer(de),i.updateRenderState({layers:[h]}),x=new Cs(h.textureWidth,h.textureHeight,{format:si,type:Zo,depthTexture:new oR(h.textureWidth,h.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Ve=e.properties.get(x);Ve.__ignoreDepthValues=h.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),oe.setContext(i),oe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function W(te){for(let ge=0;ge<te.removed.length;ge++){const Pe=te.removed[ge],Me=b.indexOf(Pe);Me>=0&&(b[Me]=null,_[Me].disconnect(Pe))}for(let ge=0;ge<te.added.length;ge++){const Pe=te.added[ge];let Me=b.indexOf(Pe);if(Me===-1){for(let Ve=0;Ve<_.length;Ve++)if(Ve>=b.length){b.push(Pe),Me=Ve;break}else if(b[Ve]===null){b[Ve]=Pe,Me=Ve;break}if(Me===-1)break}const de=_[Me];de&&de.connect(Pe)}}const $=new V,ee=new V;function ce(te,ge,Pe){$.setFromMatrixPosition(ge.matrixWorld),ee.setFromMatrixPosition(Pe.matrixWorld);const Me=$.distanceTo(ee),de=ge.projectionMatrix.elements,Ve=Pe.projectionMatrix.elements,ve=de[14]/(de[10]-1),O=de[14]/(de[10]+1),F=(de[9]+1)/de[5],Y=(de[9]-1)/de[5],ie=(de[8]-1)/de[0],re=(Ve[8]+1)/Ve[0],he=ve*ie,Le=ve*re,ke=Me/(-ie+re),He=ke*-ie;ge.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(He),te.translateZ(ke),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert();const je=ve+ke,We=O+ke,pt=he-He,ut=Le+(Me-He),Z=F*O/We*je,G=Y*O/We*je;te.projectionMatrix.makePerspective(pt,ut,Z,G,je,We)}function N(te,ge){ge===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(ge.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(i===null)return;P.near=B.near=T.near=te.near,P.far=B.far=T.far=te.far,(I!==P.near||k!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),I=P.near,k=P.far);const ge=te.parent,Pe=P.cameras;N(P,ge);for(let de=0;de<Pe.length;de++)N(Pe[de],ge);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),te.matrix.copy(P.matrix),te.matrix.decompose(te.position,te.quaternion,te.scale);const Me=te.children;for(let de=0,Ve=Me.length;de<Ve;de++)Me[de].updateMatrixWorld(!0);Pe.length===2?ce(P,T,B):P.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(te){l=te,h!==null&&(h.fixedFoveation=te),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=te)},this.getPlanes=function(){return S};let H=null;function j(te,ge){if(c=ge.getViewerPose(u||o),g=ge,c!==null){const Pe=c.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let Me=!1;Pe.length!==P.cameras.length&&(P.cameras.length=0,Me=!0);for(let de=0;de<Pe.length;de++){const Ve=Pe[de];let ve=null;if(m!==null)ve=m.getViewport(Ve);else{const F=f.getViewSubImage(h,Ve);ve=F.viewport,de===0&&(e.setRenderTargetTextures(x,F.colorTexture,h.ignoreDepthValues?void 0:F.depthStencilTexture),e.setRenderTarget(x))}let O=C[de];O===void 0&&(O=new hn,O.layers.enable(de),O.viewport=new nn,C[de]=O),O.matrix.fromArray(Ve.transform.matrix),O.projectionMatrix.fromArray(Ve.projectionMatrix),O.viewport.set(ve.x,ve.y,ve.width,ve.height),de===0&&P.matrix.copy(O.matrix),Me===!0&&P.cameras.push(O)}}for(let Pe=0;Pe<_.length;Pe++){const Me=b[Pe],de=_[Pe];Me!==null&&de!==void 0&&de.update(Me,ge,u||o)}if(H&&H(te,ge),ge.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:ge.detectedPlanes});let Pe=null;for(const Me of S)ge.detectedPlanes.has(Me)||(Pe===null&&(Pe=[]),Pe.push(Me));if(Pe!==null)for(const Me of Pe)S.delete(Me),R.delete(Me),r.dispatchEvent({type:"planeremoved",data:Me});for(const Me of ge.detectedPlanes)if(!S.has(Me))S.add(Me),R.set(Me,ge.lastChangedTime),r.dispatchEvent({type:"planeadded",data:Me});else{const de=R.get(Me);Me.lastChangedTime>de&&(R.set(Me,Me.lastChangedTime),r.dispatchEvent({type:"planechanged",data:Me}))}}g=null}const oe=new $I;oe.setAnimationLoop(j),this.setAnimationLoop=function(te){H=te},this.dispose=function(){}}}function Hj(n,e){function t(v,y){y.color.getRGB(v.fogColor.value,QI(n)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,_,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),c(v,y)):y.isMeshPhongMaterial?(i(v,y),u(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&h(v,y,b)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,_):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===Zr&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===Zr&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const S=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*S}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uv2Transform.value.copy(b.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=_*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uvTransform.value.copy(b.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function c(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function h(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===Zr&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function Vj(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,b){const S=b.program;r.uniformBlockBinding(_,S)}function u(_,b){let S=i[_.id];S===void 0&&(g(_),S=c(_),i[_.id]=S,_.addEventListener("dispose",y));const R=b.program;r.updateUBOMapping(_,R);const T=e.render.frame;s[_.id]!==T&&(h(_),s[_.id]=T)}function c(_){const b=f();_.__bindingPointIndex=b;const S=n.createBuffer(),R=_.__size,T=_.usage;return n.bindBuffer(35345,S),n.bufferData(35345,R,T),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,S),S}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const b=i[_.id],S=_.uniforms,R=_.__cache;n.bindBuffer(35345,b);for(let T=0,B=S.length;T<B;T++){const C=S[T];if(m(C,T,R)===!0){const P=C.__offset,I=Array.isArray(C.value)?C.value:[C.value];let k=0;for(let U=0;U<I.length;U++){const q=I[U],W=v(q);typeof q=="number"?(C.__data[0]=q,n.bufferSubData(35345,P+k,C.__data)):q.isMatrix3?(C.__data[0]=q.elements[0],C.__data[1]=q.elements[1],C.__data[2]=q.elements[2],C.__data[3]=q.elements[0],C.__data[4]=q.elements[3],C.__data[5]=q.elements[4],C.__data[6]=q.elements[5],C.__data[7]=q.elements[0],C.__data[8]=q.elements[6],C.__data[9]=q.elements[7],C.__data[10]=q.elements[8],C.__data[11]=q.elements[0]):(q.toArray(C.__data,k),k+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,P,C.__data)}}n.bindBuffer(35345,null)}function m(_,b,S){const R=_.value;if(S[b]===void 0){if(typeof R=="number")S[b]=R;else{const T=Array.isArray(R)?R:[R],B=[];for(let C=0;C<T.length;C++)B.push(T[C].clone());S[b]=B}return!0}else if(typeof R=="number"){if(S[b]!==R)return S[b]=R,!0}else{const T=Array.isArray(S[b])?S[b]:[S[b]],B=Array.isArray(R)?R:[R];for(let C=0;C<T.length;C++){const P=T[C];if(P.equals(B[C])===!1)return P.copy(B[C]),!0}}return!1}function g(_){const b=_.uniforms;let S=0;const R=16;let T=0;for(let B=0,C=b.length;B<C;B++){const P=b[B],I={boundary:0,storage:0},k=Array.isArray(P.value)?P.value:[P.value];for(let U=0,q=k.length;U<q;U++){const W=k[U],$=v(W);I.boundary+=$.boundary,I.storage+=$.storage}if(P.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=S,B>0){T=S%R;const U=R-T;T!==0&&U-I.boundary<0&&(S+=R-T,P.__offset=S)}S+=I.storage}return T=S%R,T>0&&(S+=R-T),_.__size=S,_.__cache={},this}function v(_){const b={boundary:0,storage:0};return typeof _=="number"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function y(_){const b=_.target;b.removeEventListener("dispose",y);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:u,dispose:x}}function Wj(){const n=op("canvas");return n.style.display="block",n}function Q9(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Wj(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let f=null,h=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ya,this.physicallyCorrectLights=!1,this.toneMapping=As,this.toneMappingExposure=1;const v=this;let y=!1,x=0,_=0,b=null,S=-1,R=null;const T=new nn,B=new nn;let C=null,P=e.width,I=e.height,k=1,U=null,q=null;const W=new nn(0,0,P,I),$=new nn(0,0,P,I);let ee=!1;const ce=new a1;let N=!1,H=!1,j=null;const oe=new St,te=new Ie,ge=new V,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Me(){return b===null?k:1}let de=t;function Ve(J,ye){for(let Ee=0;Ee<J.length;Ee++){const pe=J[Ee],Be=e.getContext(pe,ye);if(Be!==null)return Be}return null}try{const J={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Lu}`),e.addEventListener("webglcontextlost",gt,!1),e.addEventListener("webglcontextrestored",ct,!1),e.addEventListener("webglcontextcreationerror",le,!1),de===null){const ye=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ye.shift(),de=Ve(ye,J),de===null)throw Ve(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}de.getShaderPrecisionFormat===void 0&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let ve,O,F,Y,ie,re,he,Le,ke,He,je,We,pt,ut,Z,G,we,Ne,Ge,Ce,vt,qe,Re,ft;function xt(){ve=new oW(de),O=new eW(de,ve,n),ve.init(O),qe=new iR(de,ve,O),F=new Nj(de,ve,O),Y=new uW,ie=new Tj,re=new Uj(de,ve,F,ie,O,qe,Y),he=new nW(v),Le=new sW(v),ke=new vz(de,O),Re=new QV(de,ve,ke,O),He=new aW(de,ke,Y,Re),je=new hW(de,He,ke,Y),Ge=new fW(de,O,re),G=new tW(ie),We=new Cj(v,he,Le,ve,O,Re,G),pt=new Hj(v,ie),ut=new Ej,Z=new kj(ve,O),Ne=new YV(v,he,Le,F,je,c,o),we=new Fj(v,je,O),ft=new Vj(de,Y,O,F),Ce=new $V(de,ve,Y,O),vt=new lW(de,ve,Y,O),Y.programs=We.programs,v.capabilities=O,v.extensions=ve,v.properties=ie,v.renderLists=ut,v.shadowMap=we,v.state=F,v.info=Y}xt();const it=new zj(v,de);this.xr=it,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const J=ve.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=ve.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(J){J!==void 0&&(k=J,this.setSize(P,I,!1))},this.getSize=function(J){return J.set(P,I)},this.setSize=function(J,ye,Ee){if(it.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=J,I=ye,e.width=Math.floor(J*k),e.height=Math.floor(ye*k),Ee!==!1&&(e.style.width=J+"px",e.style.height=ye+"px"),this.setViewport(0,0,J,ye)},this.getDrawingBufferSize=function(J){return J.set(P*k,I*k).floor()},this.setDrawingBufferSize=function(J,ye,Ee){P=J,I=ye,k=Ee,e.width=Math.floor(J*Ee),e.height=Math.floor(ye*Ee),this.setViewport(0,0,J,ye)},this.getCurrentViewport=function(J){return J.copy(T)},this.getViewport=function(J){return J.copy(W)},this.setViewport=function(J,ye,Ee,pe){J.isVector4?W.set(J.x,J.y,J.z,J.w):W.set(J,ye,Ee,pe),F.viewport(T.copy(W).multiplyScalar(k).floor())},this.getScissor=function(J){return J.copy($)},this.setScissor=function(J,ye,Ee,pe){J.isVector4?$.set(J.x,J.y,J.z,J.w):$.set(J,ye,Ee,pe),F.scissor(B.copy($).multiplyScalar(k).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(J){F.setScissorTest(ee=J)},this.setOpaqueSort=function(J){U=J},this.setTransparentSort=function(J){q=J},this.getClearColor=function(J){return J.copy(Ne.getClearColor())},this.setClearColor=function(){Ne.setClearColor.apply(Ne,arguments)},this.getClearAlpha=function(){return Ne.getClearAlpha()},this.setClearAlpha=function(){Ne.setClearAlpha.apply(Ne,arguments)},this.clear=function(J=!0,ye=!0,Ee=!0){let pe=0;J&&(pe|=16384),ye&&(pe|=256),Ee&&(pe|=1024),de.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",gt,!1),e.removeEventListener("webglcontextrestored",ct,!1),e.removeEventListener("webglcontextcreationerror",le,!1),ut.dispose(),Z.dispose(),ie.dispose(),he.dispose(),Le.dispose(),je.dispose(),Re.dispose(),ft.dispose(),We.dispose(),it.dispose(),it.removeEventListener("sessionstart",Ze),it.removeEventListener("sessionend",dt),j&&(j.dispose(),j=null),Ut.stop()};function gt(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const J=Y.autoReset,ye=we.enabled,Ee=we.autoUpdate,pe=we.needsUpdate,Be=we.type;xt(),Y.autoReset=J,we.enabled=ye,we.autoUpdate=Ee,we.needsUpdate=pe,we.type=Be}function le(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function Oe(J){const ye=J.target;ye.removeEventListener("dispose",Oe),et(ye)}function et(J){se(J),ie.remove(J)}function se(J){const ye=ie.get(J).programs;ye!==void 0&&(ye.forEach(function(Ee){We.releaseProgram(Ee)}),J.isShaderMaterial&&We.releaseShaderCache(J))}this.renderBufferDirect=function(J,ye,Ee,pe,Be,yt){ye===null&&(ye=Pe);const _t=Be.isMesh&&Be.matrixWorld.determinant()<0,Rt=Qd(J,ye,Ee,pe,Be);F.setMaterial(pe,_t);let Lt=Ee.index,zt=1;pe.wireframe===!0&&(Lt=He.getWireframeAttribute(Ee),zt=2);const Gt=Ee.drawRange,K=Ee.attributes.position;let E=Gt.start*zt,L=(Gt.start+Gt.count)*zt;yt!==null&&(E=Math.max(E,yt.start*zt),L=Math.min(L,(yt.start+yt.count)*zt)),Lt!==null?(E=Math.max(E,0),L=Math.min(L,Lt.count)):K!=null&&(E=Math.max(E,0),L=Math.min(L,K.count));const z=L-E;if(z<0||z===1/0)return;Re.setup(Be,pe,Rt,Ee,Lt);let ae,ne=Ce;if(Lt!==null&&(ae=ke.get(Lt),ne=vt,ne.setIndex(ae)),Be.isMesh)pe.wireframe===!0?(F.setLineWidth(pe.wireframeLinewidth*Me()),ne.setMode(1)):ne.setMode(4);else if(Be.isLine){let Ae=pe.linewidth;Ae===void 0&&(Ae=1),F.setLineWidth(Ae*Me()),Be.isLineSegments?ne.setMode(1):Be.isLineLoop?ne.setMode(2):ne.setMode(3)}else Be.isPoints?ne.setMode(0):Be.isSprite&&ne.setMode(4);if(Be.isInstancedMesh)ne.renderInstances(E,z,Be.count);else if(Ee.isInstancedBufferGeometry){const Ae=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,De=Math.min(Ee.instanceCount,Ae);ne.renderInstances(E,z,De)}else ne.render(E,z)},this.compile=function(J,ye){function Ee(pe,Be,yt){pe.transparent===!0&&pe.side===ws&&pe.forceSinglePass===!1?(pe.side=Zr,pe.needsUpdate=!0,Rn(pe,Be,yt),pe.side=io,pe.needsUpdate=!0,Rn(pe,Be,yt),pe.side=ws):Rn(pe,Be,yt)}h=Z.get(J),h.init(),g.push(h),J.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ye.layers)&&(h.pushLight(pe),pe.castShadow&&h.pushShadow(pe))}),h.setupLights(v.physicallyCorrectLights),J.traverse(function(pe){const Be=pe.material;if(Be)if(Array.isArray(Be))for(let yt=0;yt<Be.length;yt++){const _t=Be[yt];Ee(_t,J,pe)}else Ee(Be,J,pe)}),g.pop(),h=null};let be=null;function Fe(J){be&&be(J)}function Ze(){Ut.stop()}function dt(){Ut.start()}const Ut=new $I;Ut.setAnimationLoop(Fe),typeof self<"u"&&Ut.setContext(self),this.setAnimationLoop=function(J){be=J,it.setAnimationLoop(J),J===null?Ut.stop():Ut.start()},it.addEventListener("sessionstart",Ze),it.addEventListener("sessionend",dt),this.render=function(J,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),it.enabled===!0&&it.isPresenting===!0&&(it.cameraAutoUpdate===!0&&it.updateCamera(ye),ye=it.getCamera()),J.isScene===!0&&J.onBeforeRender(v,J,ye,b),h=Z.get(J,g.length),h.init(),g.push(h),oe.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),ce.setFromProjectionMatrix(oe),H=this.localClippingEnabled,N=G.init(this.clippingPlanes,H),f=ut.get(J,m.length),f.init(),m.push(f),qt(J,ye,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(U,q),N===!0&&G.beginShadows();const Ee=h.state.shadowsArray;if(we.render(Ee,J,ye),N===!0&&G.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ne.render(f,J),h.setupLights(v.physicallyCorrectLights),ye.isArrayCamera){const pe=ye.cameras;for(let Be=0,yt=pe.length;Be<yt;Be++){const _t=pe[Be];en(f,J,_t,_t.viewport)}}else en(f,J,ye);b!==null&&(re.updateMultisampleRenderTarget(b),re.updateRenderTargetMipmap(b)),J.isScene===!0&&J.onAfterRender(v,J,ye),Re.resetDefaultState(),S=-1,R=null,g.pop(),g.length>0?h=g[g.length-1]:h=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function qt(J,ye,Ee,pe){if(J.visible===!1)return;if(J.layers.test(ye.layers)){if(J.isGroup)Ee=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(ye);else if(J.isLight)h.pushLight(J),J.castShadow&&h.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||ce.intersectsSprite(J)){pe&&ge.setFromMatrixPosition(J.matrixWorld).applyMatrix4(oe);const _t=je.update(J),Rt=J.material;Rt.visible&&f.push(J,_t,Rt,Ee,ge.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==Y.render.frame&&(J.skeleton.update(),J.skeleton.frame=Y.render.frame),!J.frustumCulled||ce.intersectsObject(J))){pe&&ge.setFromMatrixPosition(J.matrixWorld).applyMatrix4(oe);const _t=je.update(J),Rt=J.material;if(Array.isArray(Rt)){const Lt=_t.groups;for(let zt=0,Gt=Lt.length;zt<Gt;zt++){const K=Lt[zt],E=Rt[K.materialIndex];E&&E.visible&&f.push(J,_t,E,Ee,ge.z,K)}}else Rt.visible&&f.push(J,_t,Rt,Ee,ge.z,null)}}const yt=J.children;for(let _t=0,Rt=yt.length;_t<Rt;_t++)qt(yt[_t],ye,Ee,pe)}function en(J,ye,Ee,pe){const Be=J.opaque,yt=J.transmissive,_t=J.transparent;h.setupLightsView(Ee),N===!0&&G.setGlobalState(v.clippingPlanes,Ee),yt.length>0&&dr(Be,ye,Ee),pe&&F.viewport(T.copy(pe)),Be.length>0&&Vt(Be,ye,Ee),yt.length>0&&Vt(yt,ye,Ee),_t.length>0&&Vt(_t,ye,Ee),F.buffers.depth.setTest(!0),F.buffers.depth.setMask(!0),F.buffers.color.setMask(!0),F.setPolygonOffset(!1)}function dr(J,ye,Ee){const pe=O.isWebGL2;j===null&&(j=new Cs(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?xd:Zo,minFilter:so,samples:pe&&s===!0?4:0})),v.getDrawingBufferSize(te),pe?j.setSize(te.x,te.y):j.setSize(Wg(te.x),Wg(te.y));const Be=v.getRenderTarget();v.setRenderTarget(j),v.clear();const yt=v.toneMapping;v.toneMapping=As,Vt(J,ye,Ee),v.toneMapping=yt,re.updateMultisampleRenderTarget(j),re.updateRenderTargetMipmap(j),v.setRenderTarget(Be)}function Vt(J,ye,Ee){const pe=ye.isScene===!0?ye.overrideMaterial:null;for(let Be=0,yt=J.length;Be<yt;Be++){const _t=J[Be],Rt=_t.object,Lt=_t.geometry,zt=pe===null?_t.material:pe,Gt=_t.group;Rt.layers.test(Ee.layers)&&On(Rt,ye,Ee,Lt,zt,Gt)}}function On(J,ye,Ee,pe,Be,yt){J.onBeforeRender(v,ye,Ee,pe,Be,yt),J.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Be.onBeforeRender(v,ye,Ee,pe,J,yt),Be.transparent===!0&&Be.side===ws&&Be.forceSinglePass===!1?(Be.side=Zr,Be.needsUpdate=!0,v.renderBufferDirect(Ee,ye,pe,Be,J,yt),Be.side=io,Be.needsUpdate=!0,v.renderBufferDirect(Ee,ye,pe,Be,J,yt),Be.side=ws):v.renderBufferDirect(Ee,ye,pe,Be,J,yt),J.onAfterRender(v,ye,Ee,pe,Be,yt)}function Rn(J,ye,Ee){ye.isScene!==!0&&(ye=Pe);const pe=ie.get(J),Be=h.state.lights,yt=h.state.shadowsArray,_t=Be.state.version,Rt=We.getParameters(J,Be.state,yt,ye,Ee),Lt=We.getProgramCacheKey(Rt);let zt=pe.programs;pe.environment=J.isMeshStandardMaterial?ye.environment:null,pe.fog=ye.fog,pe.envMap=(J.isMeshStandardMaterial?Le:he).get(J.envMap||pe.environment),zt===void 0&&(J.addEventListener("dispose",Oe),zt=new Map,pe.programs=zt);let Gt=zt.get(Lt);if(Gt!==void 0){if(pe.currentProgram===Gt&&pe.lightsStateVersion===_t)return Vu(J,Rt),Gt}else Rt.uniforms=We.getUniforms(J),J.onBuild(Ee,Rt,v),J.onBeforeCompile(Rt,v),Gt=We.acquireProgram(Rt,Lt),zt.set(Lt,Gt),pe.uniforms=Rt.uniforms;const K=pe.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(K.clippingPlanes=G.uniform),Vu(J,Rt),pe.needsLights=ml(J),pe.lightsStateVersion=_t,pe.needsLights&&(K.ambientLightColor.value=Be.state.ambient,K.lightProbe.value=Be.state.probe,K.directionalLights.value=Be.state.directional,K.directionalLightShadows.value=Be.state.directionalShadow,K.spotLights.value=Be.state.spot,K.spotLightShadows.value=Be.state.spotShadow,K.rectAreaLights.value=Be.state.rectArea,K.ltc_1.value=Be.state.rectAreaLTC1,K.ltc_2.value=Be.state.rectAreaLTC2,K.pointLights.value=Be.state.point,K.pointLightShadows.value=Be.state.pointShadow,K.hemisphereLights.value=Be.state.hemi,K.directionalShadowMap.value=Be.state.directionalShadowMap,K.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,K.spotShadowMap.value=Be.state.spotShadowMap,K.spotLightMatrix.value=Be.state.spotLightMatrix,K.spotLightMap.value=Be.state.spotLightMap,K.pointShadowMap.value=Be.state.pointShadowMap,K.pointShadowMatrix.value=Be.state.pointShadowMatrix);const E=Gt.getUniforms(),L=ig.seqWithValue(E.seq,K);return pe.currentProgram=Gt,pe.uniformsList=L,Gt}function Vu(J,ye){const Ee=ie.get(J);Ee.outputEncoding=ye.outputEncoding,Ee.instancing=ye.instancing,Ee.skinning=ye.skinning,Ee.morphTargets=ye.morphTargets,Ee.morphNormals=ye.morphNormals,Ee.morphColors=ye.morphColors,Ee.morphTargetsCount=ye.morphTargetsCount,Ee.numClippingPlanes=ye.numClippingPlanes,Ee.numIntersection=ye.numClipIntersection,Ee.vertexAlphas=ye.vertexAlphas,Ee.vertexTangents=ye.vertexTangents,Ee.toneMapping=ye.toneMapping}function Qd(J,ye,Ee,pe,Be){ye.isScene!==!0&&(ye=Pe),re.resetTextureUnits();const yt=ye.fog,_t=pe.isMeshStandardMaterial?ye.environment:null,Rt=b===null?v.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Ya,Lt=(pe.isMeshStandardMaterial?Le:he).get(pe.envMap||_t),zt=pe.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Gt=!!pe.normalMap&&!!Ee.attributes.tangent,K=!!Ee.morphAttributes.position,E=!!Ee.morphAttributes.normal,L=!!Ee.morphAttributes.color,z=pe.toneMapped?v.toneMapping:As,ae=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,ne=ae!==void 0?ae.length:0,Ae=ie.get(pe),De=h.state.lights;if(N===!0&&(H===!0||J!==R)){const tn=J===R&&pe.id===S;G.setState(pe,J,tn)}let Ke=!1;pe.version===Ae.__version?(Ae.needsLights&&Ae.lightsStateVersion!==De.state.version||Ae.outputEncoding!==Rt||Be.isInstancedMesh&&Ae.instancing===!1||!Be.isInstancedMesh&&Ae.instancing===!0||Be.isSkinnedMesh&&Ae.skinning===!1||!Be.isSkinnedMesh&&Ae.skinning===!0||Ae.envMap!==Lt||pe.fog===!0&&Ae.fog!==yt||Ae.numClippingPlanes!==void 0&&(Ae.numClippingPlanes!==G.numPlanes||Ae.numIntersection!==G.numIntersection)||Ae.vertexAlphas!==zt||Ae.vertexTangents!==Gt||Ae.morphTargets!==K||Ae.morphNormals!==E||Ae.morphColors!==L||Ae.toneMapping!==z||O.isWebGL2===!0&&Ae.morphTargetsCount!==ne)&&(Ke=!0):(Ke=!0,Ae.__version=pe.version);let tt=Ae.currentProgram;Ke===!0&&(tt=Rn(pe,ye,Be));let Bt=!1,cn=!1,hi=!1;const Tt=tt.getUniforms(),jt=Ae.uniforms;if(F.useProgram(tt.program)&&(Bt=!0,cn=!0,hi=!0),pe.id!==S&&(S=pe.id,cn=!0),Bt||R!==J){if(Tt.setValue(de,"projectionMatrix",J.projectionMatrix),O.logarithmicDepthBuffer&&Tt.setValue(de,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),R!==J&&(R=J,cn=!0,hi=!0),pe.isShaderMaterial||pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshStandardMaterial||pe.envMap){const tn=Tt.map.cameraPosition;tn!==void 0&&tn.setValue(de,ge.setFromMatrixPosition(J.matrixWorld))}(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&Tt.setValue(de,"isOrthographic",J.isOrthographicCamera===!0),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial||pe.isShadowMaterial||Be.isSkinnedMesh)&&Tt.setValue(de,"viewMatrix",J.matrixWorldInverse)}if(Be.isSkinnedMesh){Tt.setOptional(de,Be,"bindMatrix"),Tt.setOptional(de,Be,"bindMatrixInverse");const tn=Be.skeleton;tn&&(O.floatVertexTextures?(tn.boneTexture===null&&tn.computeBoneTexture(),Tt.setValue(de,"boneTexture",tn.boneTexture,re),Tt.setValue(de,"boneTextureSize",tn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Di=Ee.morphAttributes;if((Di.position!==void 0||Di.normal!==void 0||Di.color!==void 0&&O.isWebGL2===!0)&&Ge.update(Be,Ee,pe,tt),(cn||Ae.receiveShadow!==Be.receiveShadow)&&(Ae.receiveShadow=Be.receiveShadow,Tt.setValue(de,"receiveShadow",Be.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(jt.envMap.value=Lt,jt.flipEnvMap.value=Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1?-1:1),cn&&(Tt.setValue(de,"toneMappingExposure",v.toneMappingExposure),Ae.needsLights&&Wu(jt,hi),yt&&pe.fog===!0&&pt.refreshFogUniforms(jt,yt),pt.refreshMaterialUniforms(jt,pe,k,I,j),ig.upload(de,Ae.uniformsList,jt,re)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(ig.upload(de,Ae.uniformsList,jt,re),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&Tt.setValue(de,"center",Be.center),Tt.setValue(de,"modelViewMatrix",Be.modelViewMatrix),Tt.setValue(de,"normalMatrix",Be.normalMatrix),Tt.setValue(de,"modelMatrix",Be.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const tn=pe.uniformsGroups;for(let $n=0,lo=tn.length;$n<lo;$n++)if(O.isWebGL2){const uo=tn[$n];ft.update(uo,tt),ft.bind(uo,tt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return tt}function Wu(J,ye){J.ambientLightColor.needsUpdate=ye,J.lightProbe.needsUpdate=ye,J.directionalLights.needsUpdate=ye,J.directionalLightShadows.needsUpdate=ye,J.pointLights.needsUpdate=ye,J.pointLightShadows.needsUpdate=ye,J.spotLights.needsUpdate=ye,J.spotLightShadows.needsUpdate=ye,J.rectAreaLights.needsUpdate=ye,J.hemisphereLights.needsUpdate=ye}function ml(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(J,ye,Ee){ie.get(J.texture).__webglTexture=ye,ie.get(J.depthTexture).__webglTexture=Ee;const pe=ie.get(J);pe.__hasExternalTextures=!0,pe.__hasExternalTextures&&(pe.__autoAllocateDepthBuffer=Ee===void 0,pe.__autoAllocateDepthBuffer||ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,ye){const Ee=ie.get(J);Ee.__webglFramebuffer=ye,Ee.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(J,ye=0,Ee=0){b=J,x=ye,_=Ee;let pe=!0,Be=null,yt=!1,_t=!1;if(J){const Lt=ie.get(J);Lt.__useDefaultFramebuffer!==void 0?(F.bindFramebuffer(36160,null),pe=!1):Lt.__webglFramebuffer===void 0?re.setupRenderTarget(J):Lt.__hasExternalTextures&&re.rebindTextures(J,ie.get(J.texture).__webglTexture,ie.get(J.depthTexture).__webglTexture);const zt=J.texture;(zt.isData3DTexture||zt.isDataArrayTexture||zt.isCompressedArrayTexture)&&(_t=!0);const Gt=ie.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Be=Gt[ye],yt=!0):O.isWebGL2&&J.samples>0&&re.useMultisampledRTT(J)===!1?Be=ie.get(J).__webglMultisampledFramebuffer:Be=Gt,T.copy(J.viewport),B.copy(J.scissor),C=J.scissorTest}else T.copy(W).multiplyScalar(k).floor(),B.copy($).multiplyScalar(k).floor(),C=ee;if(F.bindFramebuffer(36160,Be)&&O.drawBuffers&&pe&&F.drawBuffers(J,Be),F.viewport(T),F.scissor(B),F.setScissorTest(C),yt){const Lt=ie.get(J.texture);de.framebufferTexture2D(36160,36064,34069+ye,Lt.__webglTexture,Ee)}else if(_t){const Lt=ie.get(J.texture),zt=ye||0;de.framebufferTextureLayer(36160,36064,Lt.__webglTexture,Ee||0,zt)}S=-1},this.readRenderTargetPixels=function(J,ye,Ee,pe,Be,yt,_t){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Rt=ie.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&_t!==void 0&&(Rt=Rt[_t]),Rt){F.bindFramebuffer(36160,Rt);try{const Lt=J.texture,zt=Lt.format,Gt=Lt.type;if(zt!==si&&qe.convert(zt)!==de.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const K=Gt===xd&&(ve.has("EXT_color_buffer_half_float")||O.isWebGL2&&ve.has("EXT_color_buffer_float"));if(Gt!==Zo&&qe.convert(Gt)!==de.getParameter(35738)&&!(Gt===Io&&(O.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!K){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=J.width-pe&&Ee>=0&&Ee<=J.height-Be&&de.readPixels(ye,Ee,pe,Be,qe.convert(zt),qe.convert(Gt),yt)}finally{const Lt=b!==null?ie.get(b).__webglFramebuffer:null;F.bindFramebuffer(36160,Lt)}}},this.copyFramebufferToTexture=function(J,ye,Ee=0){const pe=Math.pow(2,-Ee),Be=Math.floor(ye.image.width*pe),yt=Math.floor(ye.image.height*pe);re.setTexture2D(ye,0),de.copyTexSubImage2D(3553,Ee,0,0,J.x,J.y,Be,yt),F.unbindTexture()},this.copyTextureToTexture=function(J,ye,Ee,pe=0){const Be=ye.image.width,yt=ye.image.height,_t=qe.convert(Ee.format),Rt=qe.convert(Ee.type);re.setTexture2D(Ee,0),de.pixelStorei(37440,Ee.flipY),de.pixelStorei(37441,Ee.premultiplyAlpha),de.pixelStorei(3317,Ee.unpackAlignment),ye.isDataTexture?de.texSubImage2D(3553,pe,J.x,J.y,Be,yt,_t,Rt,ye.image.data):ye.isCompressedTexture?de.compressedTexSubImage2D(3553,pe,J.x,J.y,ye.mipmaps[0].width,ye.mipmaps[0].height,_t,ye.mipmaps[0].data):de.texSubImage2D(3553,pe,J.x,J.y,_t,Rt,ye.image),pe===0&&Ee.generateMipmaps&&de.generateMipmap(3553),F.unbindTexture()},this.copyTextureToTexture3D=function(J,ye,Ee,pe,Be=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const yt=J.max.x-J.min.x+1,_t=J.max.y-J.min.y+1,Rt=J.max.z-J.min.z+1,Lt=qe.convert(pe.format),zt=qe.convert(pe.type);let Gt;if(pe.isData3DTexture)re.setTexture3D(pe,0),Gt=32879;else if(pe.isDataArrayTexture)re.setTexture2DArray(pe,0),Gt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}de.pixelStorei(37440,pe.flipY),de.pixelStorei(37441,pe.premultiplyAlpha),de.pixelStorei(3317,pe.unpackAlignment);const K=de.getParameter(3314),E=de.getParameter(32878),L=de.getParameter(3316),z=de.getParameter(3315),ae=de.getParameter(32877),ne=Ee.isCompressedTexture?Ee.mipmaps[0]:Ee.image;de.pixelStorei(3314,ne.width),de.pixelStorei(32878,ne.height),de.pixelStorei(3316,J.min.x),de.pixelStorei(3315,J.min.y),de.pixelStorei(32877,J.min.z),Ee.isDataTexture||Ee.isData3DTexture?de.texSubImage3D(Gt,Be,ye.x,ye.y,ye.z,yt,_t,Rt,Lt,zt,ne.data):Ee.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(Gt,Be,ye.x,ye.y,ye.z,yt,_t,Rt,Lt,ne.data)):de.texSubImage3D(Gt,Be,ye.x,ye.y,ye.z,yt,_t,Rt,Lt,zt,ne),de.pixelStorei(3314,K),de.pixelStorei(32878,E),de.pixelStorei(3316,L),de.pixelStorei(3315,z),de.pixelStorei(32877,ae),Be===0&&pe.generateMipmaps&&de.generateMipmap(Gt),F.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?re.setTextureCube(J,0):J.isData3DTexture?re.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?re.setTexture2DArray(J,0):re.setTexture2D(J,0),F.unbindTexture()},this.resetState=function(){x=0,_=0,b=null,F.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class aR extends Q9{}aR.prototype.isWebGL1Renderer=!0;class u1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Qe(e),this.density=t}clone(){return new u1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class c1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Qe(e),this.near=t,this.far=r}clone(){return new c1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class jg extends Jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Op{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ip,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Si()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Si()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Si()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ur=new V;class Qa{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ur.fromBufferAttribute(this,t),Ur.applyMatrix4(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ur.fromBufferAttribute(this,t),Ur.applyNormalMatrix(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ur.fromBufferAttribute(this,t),Ur.transformDirection(e),this.setXYZ(t,Ur.x,Ur.y,Ur.z);return this}setX(e,t){return this.normalized&&(t=on(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=on(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=on(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=on(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ro(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ro(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ro(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ro(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=on(t,this.array),r=on(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=on(t,this.array),r=on(r,this.array),i=on(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=on(t,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new $t(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class $9 extends Wn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vc;const kf=new V,xc=new V,wc=new V,bc=new Ie,Lf=new Ie,lR=new St,Km=new V,Of=new V,Ym=new V,xA=new Ie,t5=new Ie,wA=new Ie;class uR extends Jt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vc===void 0){vc=new kt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Op(t,5);vc.setIndex([0,1,2,0,2,3]),vc.setAttribute("position",new Qa(r,3,0,!1)),vc.setAttribute("uv",new Qa(r,2,3,!1))}this.geometry=vc,this.material=e!==void 0?e:new $9,this.center=new Ie(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xc.setFromMatrixScale(this.matrixWorld),lR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),wc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xc.multiplyScalar(-wc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Qm(Km.set(-.5,-.5,0),wc,o,xc,i,s),Qm(Of.set(.5,-.5,0),wc,o,xc,i,s),Qm(Ym.set(.5,.5,0),wc,o,xc,i,s),xA.set(0,0),t5.set(1,0),wA.set(1,1);let a=e.ray.intersectTriangle(Km,Of,Ym,!1,kf);if(a===null&&(Qm(Of.set(-.5,.5,0),wc,o,xc,i,s),t5.set(0,1),a=e.ray.intersectTriangle(Km,Ym,Of,!1,kf),a===null))return;const l=e.ray.origin.distanceTo(kf);l<e.near||l>e.far||t.push({distance:l,point:kf.clone(),uv:Yi.getUV(kf,Km,Of,Ym,xA,t5,wA,new Ie),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Qm(n,e,t,r,i,s){bc.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Lf.x=s*bc.x-i*bc.y,Lf.y=i*bc.x+s*bc.y):Lf.copy(bc),n.copy(e),n.x+=Lf.x,n.y+=Lf.y,n.applyMatrix4(lR)}const $m=new V,bA=new V;class cR extends Jt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){$m.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo($m);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){$m.setFromMatrixPosition(e.matrixWorld),bA.setFromMatrixPosition(this.matrixWorld);const r=$m.distanceTo(bA)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const _A=new V,AA=new nn,SA=new nn,jj=new V,CA=new St;class e7 extends or{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new St,this.bindMatrixInverse=new St}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new nn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;AA.fromBufferAttribute(i.attributes.skinIndex,e),SA.fromBufferAttribute(i.attributes.skinWeight,e),_A.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=SA.getComponent(s);if(o!==0){const a=AA.getComponent(s);CA.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(jj.copy(_A).applyMatrix4(CA),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class d1 extends Jt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class od extends vn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=Pn,c=Pn,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TA=new St,Zj=new St;class Fp{constructor(e=[],t=[]){this.uuid=Si(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new St;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Zj;TA.multiplyMatrices(a,t[s]),TA.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Fp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=qI(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new od(t,e,e,si,Io);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new d1),this.bones.push(o),this.boneInverses.push(new St().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Ad extends $t{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const MA=new St,EA=new St,e3=[],Jj=new St,Ff=new or;class t7 extends or{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ad(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,Jj)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Ff.geometry=this.geometry,Ff.material=this.material,Ff.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,MA),EA.multiplyMatrices(r,MA),Ff.matrixWorld=EA,Ff.raycast(e,e3);for(let o=0,a=e3.length;o<a;o++){const l=e3[o];l.instanceId=s,l.object=this,t.push(l)}e3.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ad(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Or extends Wn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Qe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const PA=new V,IA=new V,RA=new St,n5=new Hd,t3=new cl;class Jo extends Jt{constructor(e=new kt,t=new Or){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)PA.fromBufferAttribute(t,i-1),IA.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=PA.distanceTo(IA);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),t3.copy(r.boundingSphere),t3.applyMatrix4(i),t3.radius+=s,e.ray.intersectsSphere(t3)===!1)return;RA.copy(i).invert(),n5.copy(e.ray).applyMatrix4(RA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new V,c=new V,f=new V,h=new V,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let b=x,S=_-1;b<S;b+=m){const R=g.getX(b),T=g.getX(b+1);if(u.fromBufferAttribute(y,R),c.fromBufferAttribute(y,T),n5.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(h);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let b=x,S=_-1;b<S;b+=m){if(u.fromBufferAttribute(y,b),c.fromBufferAttribute(y,b+1),n5.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(h);T<e.near||T>e.far||t.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const BA=new V,DA=new V;class Is extends Jo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)BA.fromBufferAttribute(t,i),DA.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+BA.distanceTo(DA);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class n7 extends Jo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Np extends Wn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const kA=new St,k8=new Hd,n3=new cl,r3=new V;let r7=class extends Jt{constructor(e=new kt,t=new Np){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),n3.copy(r.boundingSphere),n3.applyMatrix4(i),n3.radius+=s,e.ray.intersectsSphere(n3)===!1)return;kA.copy(i).invert(),k8.copy(e.ray).applyMatrix4(kA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=h,v=m;g<v;g++){const y=u.getX(g);r3.fromBufferAttribute(f,y),LA(r3,y,l,i,e,t,this)}}else{const h=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=h,v=m;g<v;g++)r3.fromBufferAttribute(f,g),LA(r3,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function LA(n,e,t,r,i,s,o){const a=k8.distanceSqToPoint(n);if(a<t){const l=new V;k8.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class qj extends vn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:bn,this.magFilter=s!==void 0?s:bn,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Xj extends vn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Pn,this.minFilter=Pn,this.generateMipmaps=!1,this.needsUpdate=!0}}class i7 extends vn{constructor(e,t,r,i,s,o,a,l,u,c,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Kj extends i7{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=mr}}class Yj extends vn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Rs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],h=r[i+1]-c,m=(o-c)/h;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Ie:new V);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new V,i=[],s=[],o=[],a=new V,l=new St;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new V)}s[0]=new V,o[0]=new V;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Ln(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Ln(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class f1 extends Rs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Ie,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,m=u-this.aY;l=h*c-m*f+this.aX,u=h*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class dR extends f1{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function s7(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let h=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;h*=c,m*=c,i(o,a,h,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const i3=new V,r5=new s7,i5=new s7,s5=new s7;class fR extends Rs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new V){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(i3.subVectors(i[0],i[1]).add(i[0]),u=i3);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(i3.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=i3),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(c),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),r5.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,v,y),i5.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,v,y),s5.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(r5.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),i5.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),s5.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(r5.calc(l),i5.calc(l),s5.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new V().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function OA(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Qj(n,e){const t=1-n;return t*t*e}function $j(n,e){return 2*(1-n)*n*e}function eZ(n,e){return n*n*e}function Th(n,e,t,r){return Qj(n,e)+$j(n,t)+eZ(n,r)}function tZ(n,e){const t=1-n;return t*t*t*e}function nZ(n,e){const t=1-n;return 3*t*t*n*e}function rZ(n,e){return 3*(1-n)*n*n*e}function iZ(n,e){return n*n*n*e}function Mh(n,e,t,r,i){return tZ(n,e)+nZ(n,t)+rZ(n,r)+iZ(n,i)}class o7 extends Rs{constructor(e=new Ie,t=new Ie,r=new Ie,i=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ie){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Mh(e,i.x,s.x,o.x,a.x),Mh(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hR extends Rs{constructor(e=new V,t=new V,r=new V,i=new V){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new V){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Mh(e,i.x,s.x,o.x,a.x),Mh(e,i.y,s.y,o.y,a.y),Mh(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h1 extends Rs{constructor(e=new Ie,t=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ie){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Ie;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pR extends Rs{constructor(e=new V,t=new V){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new V){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class a7 extends Rs{constructor(e=new Ie,t=new Ie,r=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ie){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Th(e,i.x,s.x,o.x),Th(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class l7 extends Rs{constructor(e=new V,t=new V,r=new V){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new V){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Th(e,i.x,s.x,o.x),Th(e,i.y,s.y,o.y),Th(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class u7 extends Rs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ie){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(OA(a,l.x,u.x,c.x,f.x),OA(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Ie().fromArray(i))}return this}}var c7=Object.freeze({__proto__:null,ArcCurve:dR,CatmullRomCurve3:fR,CubicBezierCurve:o7,CubicBezierCurve3:hR,EllipseCurve:f1,LineCurve:h1,LineCurve3:pR,QuadraticBezierCurve:a7,QuadraticBezierCurve3:l7,SplineCurve:u7});class mR extends Rs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new h1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new c7[i.type]().fromJSON(i))}return this}}let ap=class extends mR{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new h1(this.currentPoint.clone(),new Ie(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new a7(this.currentPoint.clone(),new Ie(e,t),new Ie(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new o7(this.currentPoint.clone(),new Ie(e,t),new Ie(r,i),new Ie(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new u7(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new f1(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class jd extends kt{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Ln(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/t,f=new V,h=new Ie,m=new V,g=new V,v=new V;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let _=0;_<=t;_++){const b=r+_*c*i,S=Math.sin(b),R=Math.cos(b);for(let T=0;T<=e.length-1;T++){f.x=e[T].x*S,f.y=e[T].y,f.z=e[T].x*R,o.push(f.x,f.y,f.z),h.x=_/t,h.y=T/(e.length-1),a.push(h.x,h.y);const B=l[3*T+0]*S,C=l[3*T+1],P=l[3*T+0]*R;u.push(B,C,P)}}for(let _=0;_<t;_++)for(let b=0;b<e.length-1;b++){const S=b+_*e.length,R=S,T=S+e.length,B=S+e.length+1,C=S+1;s.push(R,T,C),s.push(B,C,T)}this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("uv",new lt(a,2)),this.setAttribute("normal",new lt(u,3))}static fromJSON(e){return new jd(e.points,e.segments,e.phiStart,e.phiLength)}}class Up extends jd{constructor(e=1,t=1,r=4,i=8){const s=new ap;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Up(e.radius,e.length,e.capSegments,e.radialSegments)}}class Gp extends kt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new V,c=new Ie;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const m=r+f/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("normal",new lt(a,3)),this.setAttribute("uv",new lt(l,2))}static fromJSON(e){return new Gp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ou extends kt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],h=[],m=[];let g=0;const v=[],y=r/2;let x=0;_(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new lt(f,3)),this.setAttribute("normal",new lt(h,3)),this.setAttribute("uv",new lt(m,2));function _(){const S=new V,R=new V;let T=0;const B=(t-e)/r;for(let C=0;C<=s;C++){const P=[],I=C/s,k=I*(t-e)+e;for(let U=0;U<=i;U++){const q=U/i,W=q*l+a,$=Math.sin(W),ee=Math.cos(W);R.x=k*$,R.y=-I*r+y,R.z=k*ee,f.push(R.x,R.y,R.z),S.set($,B,ee).normalize(),h.push(S.x,S.y,S.z),m.push(q,1-I),P.push(g++)}v.push(P)}for(let C=0;C<i;C++)for(let P=0;P<s;P++){const I=v[P][C],k=v[P+1][C],U=v[P+1][C+1],q=v[P][C+1];c.push(I,k,q),c.push(k,U,q),T+=6}u.addGroup(x,T,0),x+=T}function b(S){const R=g,T=new Ie,B=new V;let C=0;const P=S===!0?e:t,I=S===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,y*I,0),h.push(0,I,0),m.push(.5,.5),g++;const k=g;for(let U=0;U<=i;U++){const W=U/i*l+a,$=Math.cos(W),ee=Math.sin(W);B.x=P*ee,B.y=y*I,B.z=P*$,f.push(B.x,B.y,B.z),h.push(0,I,0),T.x=$*.5+.5,T.y=ee*.5*I+.5,m.push(T.x,T.y),g++}for(let U=0;U<i;U++){const q=R+U,W=k+U;S===!0?c.push(W,W+1,q):c.push(W+1,W,q),C+=3}u.addGroup(x,C,S===!0?1:2),x+=C}}static fromJSON(e){return new Ou(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zp extends Ou{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new zp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Xo extends kt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new lt(s,3)),this.setAttribute("normal",new lt(s.slice(),3)),this.setAttribute("uv",new lt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const b=new V,S=new V,R=new V;for(let T=0;T<t.length;T+=3)m(t[T+0],b),m(t[T+1],S),m(t[T+2],R),l(b,S,R,_)}function l(_,b,S,R){const T=R+1,B=[];for(let C=0;C<=T;C++){B[C]=[];const P=_.clone().lerp(S,C/T),I=b.clone().lerp(S,C/T),k=T-C;for(let U=0;U<=k;U++)U===0&&C===T?B[C][U]=P:B[C][U]=P.clone().lerp(I,U/k)}for(let C=0;C<T;C++)for(let P=0;P<2*(T-C)-1;P++){const I=Math.floor(P/2);P%2===0?(h(B[C][I+1]),h(B[C+1][I]),h(B[C][I])):(h(B[C][I+1]),h(B[C+1][I+1]),h(B[C+1][I]))}}function u(_){const b=new V;for(let S=0;S<s.length;S+=3)b.x=s[S+0],b.y=s[S+1],b.z=s[S+2],b.normalize().multiplyScalar(_),s[S+0]=b.x,s[S+1]=b.y,s[S+2]=b.z}function c(){const _=new V;for(let b=0;b<s.length;b+=3){_.x=s[b+0],_.y=s[b+1],_.z=s[b+2];const S=y(_)/2/Math.PI+.5,R=x(_)/Math.PI+.5;o.push(S,1-R)}g(),f()}function f(){for(let _=0;_<o.length;_+=6){const b=o[_+0],S=o[_+2],R=o[_+4],T=Math.max(b,S,R),B=Math.min(b,S,R);T>.9&&B<.1&&(b<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),R<.2&&(o[_+4]+=1))}}function h(_){s.push(_.x,_.y,_.z)}function m(_,b){const S=_*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function g(){const _=new V,b=new V,S=new V,R=new V,T=new Ie,B=new Ie,C=new Ie;for(let P=0,I=0;P<s.length;P+=9,I+=6){_.set(s[P+0],s[P+1],s[P+2]),b.set(s[P+3],s[P+4],s[P+5]),S.set(s[P+6],s[P+7],s[P+8]),T.set(o[I+0],o[I+1]),B.set(o[I+2],o[I+3]),C.set(o[I+4],o[I+5]),R.copy(_).add(b).add(S).divideScalar(3);const k=y(R);v(T,I+0,_,k),v(B,I+2,b,k),v(C,I+4,S,k)}}function v(_,b,S,R){R<0&&_.x===1&&(o[b]=_.x-1),S.x===0&&S.z===0&&(o[b]=R/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Xo(e.vertices,e.indices,e.radius,e.details)}}class Hp extends Xo{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hp(e.radius,e.detail)}}const s3=new V,o3=new V,o5=new V,a3=new Yi;class gR extends kt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(mu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:x}=a3;if(v.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),a3.getNormal(o5),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,S=f[_],R=f[b],T=a3[c[_]],B=a3[c[b]],C=`${S}_${R}`,P=`${R}_${S}`;P in h&&h[P]?(o5.dot(h[P].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(B.x,B.y,B.z)),h[P]=null):C in h||(h[C]={index0:u[_],index1:u[b],normal:o5.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:y}=h[g];s3.fromBufferAttribute(a,v),o3.fromBufferAttribute(a,y),m.push(s3.x,s3.y,s3.z),m.push(o3.x,o3.y,o3.z)}this.setAttribute("position",new lt(m,3))}}}class vu extends ap{constructor(e){super(e),this.uuid=Si(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ap().fromJSON(i))}return this}}const sZ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=yR(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,h,m;if(r&&(s=cZ(n,e,s,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let g=t;g<i;g+=t)f=n[g],h=n[g+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return lp(s,o,t,a,l,m,0),o}};function yR(n,e,t,r,i){let s,o;if(i===bZ(n,e,t,r)>0)for(s=e;s<t;s+=r)o=FA(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=FA(s,n[s],n[s+1],o);return o&&p1(o,o.next)&&(cp(o),o=o.next),o}function Mu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(p1(t,t.next)||_n(t.prev,t,t.next)===0)){if(cp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function lp(n,e,t,r,i,s,o){if(!n)return;!o&&s&&mZ(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?aZ(n,r,i,s):oZ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),cp(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=lZ(Mu(n),e,t),lp(n,e,t,r,i,s,2)):o===2&&uZ(n,e,t,r,i,s):lp(Mu(n),e,t,r,i,s,1);break}}}function oZ(n){const e=n.prev,t=n,r=n.next;if(_n(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=m&&Wc(i,a,s,l,o,u,g.x,g.y)&&_n(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function aZ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(_n(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,h=o.y,m=a<l?a<u?a:u:l<u?l:u,g=c<f?c<h?c:h:f<h?f:h,v=a>l?a>u?a:u:l>u?l:u,y=c>f?c>h?c:h:f>h?f:h,x=L8(m,g,e,t,r),_=L8(v,y,e,t,r);let b=n.prevZ,S=n.nextZ;for(;b&&b.z>=x&&S&&S.z<=_;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&Wc(a,c,l,f,u,h,b.x,b.y)&&_n(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=m&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&Wc(a,c,l,f,u,h,S.x,S.y)&&_n(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=x;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&Wc(a,c,l,f,u,h,b.x,b.y)&&_n(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&Wc(a,c,l,f,u,h,S.x,S.y)&&_n(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function lZ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!p1(i,s)&&vR(i,r,r.next,s)&&up(i,s)&&up(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),cp(r),cp(r.next),r=n=s),r=r.next}while(r!==n);return Mu(r)}function uZ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&vZ(o,a)){let l=xR(o,a);o=Mu(o,o.next),l=Mu(l,l.next),lp(o,e,t,r,i,s,0),lp(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function cZ(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=yR(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(yZ(u));for(i.sort(dZ),s=0;s<i.length;s++)t=fZ(i[s],t);return t}function dZ(n,e){return n.x-e.x}function fZ(n,e){const t=hZ(n,e);if(!t)return e;const r=xR(t,n);return Mu(r,r.next),Mu(t,t.next)}function hZ(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Wc(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),up(t,n)&&(f<c||f===c&&(t.x>i.x||t.x===i.x&&pZ(i,t)))&&(i=t,c=f)),t=t.next;while(t!==a);return i}function pZ(n,e){return _n(n.prev,n,e.prev)<0&&_n(e.next,n,n.next)<0}function mZ(n,e,t,r){let i=n;do i.z===0&&(i.z=L8(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,gZ(i)}function gZ(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function L8(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yZ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Wc(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function vZ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xZ(n,e)&&(up(n,e)&&up(e,n)&&wZ(n,e)&&(_n(n.prev,n,e.prev)||_n(n,e.prev,e))||p1(n,e)&&_n(n.prev,n,n.next)>0&&_n(e.prev,e,e.next)>0)}function _n(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function p1(n,e){return n.x===e.x&&n.y===e.y}function vR(n,e,t,r){const i=u3(_n(n,e,t)),s=u3(_n(n,e,r)),o=u3(_n(t,r,n)),a=u3(_n(t,r,e));return!!(i!==s&&o!==a||i===0&&l3(n,t,e)||s===0&&l3(n,r,e)||o===0&&l3(t,n,r)||a===0&&l3(t,e,r))}function l3(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function u3(n){return n>0?1:n<0?-1:0}function xZ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&vR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function up(n,e){return _n(n.prev,n,n.next)<0?_n(n,e,n.next)>=0&&_n(n,n.prev,e)>=0:_n(n,e,n.prev)<0||_n(n,n.next,e)<0}function wZ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function xR(n,e){const t=new O8(n.i,n.x,n.y),r=new O8(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function FA(n,e,t,r){const i=new O8(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function cp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function O8(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bZ(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ys{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ys.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];NA(e),UA(r,e);let o=e.length;t.forEach(NA);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,UA(r,t[l]);const a=sZ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function NA(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function UA(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Vp extends kt{constructor(e=new vu([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new lt(i,3)),this.setAttribute("uv",new lt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:_Z;let b,S=!1,R,T,B,C;x&&(b=x.getSpacedPoints(c),S=!0,h=!1,R=x.computeFrenetFrames(c,!1),T=new V,B=new V,C=new V),h||(y=0,m=0,g=0,v=0);const P=a.extractPoints(u);let I=P.shape;const k=P.holes;if(!Ys.isClockWise(I)){I=I.reverse();for(let ie=0,re=k.length;ie<re;ie++){const he=k[ie];Ys.isClockWise(he)&&(k[ie]=he.reverse())}}const q=Ys.triangulateShape(I,k),W=I;for(let ie=0,re=k.length;ie<re;ie++){const he=k[ie];I=I.concat(he)}function $(ie,re,he){return re||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().multiplyScalar(he).add(ie)}const ee=I.length,ce=q.length;function N(ie,re,he){let Le,ke,He;const je=ie.x-re.x,We=ie.y-re.y,pt=he.x-ie.x,ut=he.y-ie.y,Z=je*je+We*We,G=je*ut-We*pt;if(Math.abs(G)>Number.EPSILON){const we=Math.sqrt(Z),Ne=Math.sqrt(pt*pt+ut*ut),Ge=re.x-We/we,Ce=re.y+je/we,vt=he.x-ut/Ne,qe=he.y+pt/Ne,Re=((vt-Ge)*ut-(qe-Ce)*pt)/(je*ut-We*pt);Le=Ge+je*Re-ie.x,ke=Ce+We*Re-ie.y;const ft=Le*Le+ke*ke;if(ft<=2)return new Ie(Le,ke);He=Math.sqrt(ft/2)}else{let we=!1;je>Number.EPSILON?pt>Number.EPSILON&&(we=!0):je<-Number.EPSILON?pt<-Number.EPSILON&&(we=!0):Math.sign(We)===Math.sign(ut)&&(we=!0),we?(Le=-We,ke=je,He=Math.sqrt(Z)):(Le=je,ke=We,He=Math.sqrt(Z/2))}return new Ie(Le/He,ke/He)}const H=[];for(let ie=0,re=W.length,he=re-1,Le=ie+1;ie<re;ie++,he++,Le++)he===re&&(he=0),Le===re&&(Le=0),H[ie]=N(W[ie],W[he],W[Le]);const j=[];let oe,te=H.concat();for(let ie=0,re=k.length;ie<re;ie++){const he=k[ie];oe=[];for(let Le=0,ke=he.length,He=ke-1,je=Le+1;Le<ke;Le++,He++,je++)He===ke&&(He=0),je===ke&&(je=0),oe[Le]=N(he[Le],he[He],he[je]);j.push(oe),te=te.concat(oe)}for(let ie=0;ie<y;ie++){const re=ie/y,he=m*Math.cos(re*Math.PI/2),Le=g*Math.sin(re*Math.PI/2)+v;for(let ke=0,He=W.length;ke<He;ke++){const je=$(W[ke],H[ke],Le);Ve(je.x,je.y,-he)}for(let ke=0,He=k.length;ke<He;ke++){const je=k[ke];oe=j[ke];for(let We=0,pt=je.length;We<pt;We++){const ut=$(je[We],oe[We],Le);Ve(ut.x,ut.y,-he)}}}const ge=g+v;for(let ie=0;ie<ee;ie++){const re=h?$(I[ie],te[ie],ge):I[ie];S?(B.copy(R.normals[0]).multiplyScalar(re.x),T.copy(R.binormals[0]).multiplyScalar(re.y),C.copy(b[0]).add(B).add(T),Ve(C.x,C.y,C.z)):Ve(re.x,re.y,0)}for(let ie=1;ie<=c;ie++)for(let re=0;re<ee;re++){const he=h?$(I[re],te[re],ge):I[re];S?(B.copy(R.normals[ie]).multiplyScalar(he.x),T.copy(R.binormals[ie]).multiplyScalar(he.y),C.copy(b[ie]).add(B).add(T),Ve(C.x,C.y,C.z)):Ve(he.x,he.y,f/c*ie)}for(let ie=y-1;ie>=0;ie--){const re=ie/y,he=m*Math.cos(re*Math.PI/2),Le=g*Math.sin(re*Math.PI/2)+v;for(let ke=0,He=W.length;ke<He;ke++){const je=$(W[ke],H[ke],Le);Ve(je.x,je.y,f+he)}for(let ke=0,He=k.length;ke<He;ke++){const je=k[ke];oe=j[ke];for(let We=0,pt=je.length;We<pt;We++){const ut=$(je[We],oe[We],Le);S?Ve(ut.x,ut.y+b[c-1].y,b[c-1].x+he):Ve(ut.x,ut.y,f+he)}}}Pe(),Me();function Pe(){const ie=i.length/3;if(h){let re=0,he=ee*re;for(let Le=0;Le<ce;Le++){const ke=q[Le];ve(ke[2]+he,ke[1]+he,ke[0]+he)}re=c+y*2,he=ee*re;for(let Le=0;Le<ce;Le++){const ke=q[Le];ve(ke[0]+he,ke[1]+he,ke[2]+he)}}else{for(let re=0;re<ce;re++){const he=q[re];ve(he[2],he[1],he[0])}for(let re=0;re<ce;re++){const he=q[re];ve(he[0]+ee*c,he[1]+ee*c,he[2]+ee*c)}}r.addGroup(ie,i.length/3-ie,0)}function Me(){const ie=i.length/3;let re=0;de(W,re),re+=W.length;for(let he=0,Le=k.length;he<Le;he++){const ke=k[he];de(ke,re),re+=ke.length}r.addGroup(ie,i.length/3-ie,1)}function de(ie,re){let he=ie.length;for(;--he>=0;){const Le=he;let ke=he-1;ke<0&&(ke=ie.length-1);for(let He=0,je=c+y*2;He<je;He++){const We=ee*He,pt=ee*(He+1),ut=re+Le+We,Z=re+ke+We,G=re+ke+pt,we=re+Le+pt;O(ut,Z,G,we)}}}function Ve(ie,re,he){l.push(ie),l.push(re),l.push(he)}function ve(ie,re,he){F(ie),F(re),F(he);const Le=i.length/3,ke=_.generateTopUV(r,i,Le-3,Le-2,Le-1);Y(ke[0]),Y(ke[1]),Y(ke[2])}function O(ie,re,he,Le){F(ie),F(re),F(Le),F(re),F(he),F(Le);const ke=i.length/3,He=_.generateSideWallUV(r,i,ke-6,ke-3,ke-2,ke-1);Y(He[0]),Y(He[1]),Y(He[3]),Y(He[1]),Y(He[2]),Y(He[3])}function F(ie){i.push(l[ie*3+0]),i.push(l[ie*3+1]),i.push(l[ie*3+2])}function Y(ie){s.push(ie.x),s.push(ie.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return AZ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new c7[i.type]().fromJSON(i)),new Vp(r,e.options)}}const _Z={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Ie(s,o),new Ie(a,l),new Ie(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Ie(o,1-l),new Ie(u,1-f),new Ie(h,1-g),new Ie(v,1-x)]:[new Ie(a,1-l),new Ie(c,1-f),new Ie(m,1-g),new Ie(y,1-x)]}};function AZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Wp extends Xo{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wp(e.radius,e.detail)}}class Zd extends Xo{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zd(e.radius,e.detail)}}class jp extends kt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const h=(t-e)/i,m=new V,g=new Ie;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;m.x=f*Math.cos(x),m.y=f*Math.sin(x),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,c.push(g.x,g.y)}f+=h}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const _=x+y,b=_,S=_+r+1,R=_+r+2,T=_+1;a.push(b,S,T),a.push(S,R,T)}}this.setIndex(a),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(u,3)),this.setAttribute("uv",new lt(c,2))}static fromJSON(e){return new jp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Zp extends kt{constructor(e=new vu([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new lt(i,3)),this.setAttribute("normal",new lt(s,3)),this.setAttribute("uv",new lt(o,2));function u(c){const f=i.length/3,h=c.extractPoints(t);let m=h.shape;const g=h.holes;Ys.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,x=g.length;y<x;y++){const _=g[y];Ys.isClockWise(_)===!0&&(g[y]=_.reverse())}const v=Ys.triangulateShape(m,g);for(let y=0,x=g.length;y<x;y++){const _=g[y];m=m.concat(_)}for(let y=0,x=m.length;y<x;y++){const _=m[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=v.length;y<x;y++){const _=v[y],b=_[0]+f,S=_[1]+f,R=_[2]+f;r.push(b,S,R),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return SZ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Zp(r,e.curveSegments)}}function SZ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Jd extends kt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new V,h=new V,m=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const _=[],b=x/r;let S=0;x==0&&o==0?S=.5/t:x==r&&l==Math.PI&&(S=-.5/t);for(let R=0;R<=t;R++){const T=R/t;f.x=-e*Math.cos(i+T*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+T*s)*Math.sin(o+b*a),g.push(f.x,f.y,f.z),h.copy(f).normalize(),v.push(h.x,h.y,h.z),y.push(T+S,1-b),_.push(u++)}c.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const b=c[x][_+1],S=c[x][_],R=c[x+1][_],T=c[x+1][_+1];(x!==0||o>0)&&m.push(b,S,T),(x!==r-1||l<Math.PI)&&m.push(S,R,T)}this.setIndex(m),this.setAttribute("position",new lt(g,3)),this.setAttribute("normal",new lt(v,3)),this.setAttribute("uv",new lt(y,2))}static fromJSON(e){return new Jd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Jp extends Xo{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jp(e.radius,e.detail)}}class qp extends kt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new V,f=new V,h=new V;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(v),f.y=(e+t*Math.cos(y))*Math.sin(v),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,_=(i+1)*m+g;o.push(v,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new lt(a,3)),this.setAttribute("normal",new lt(l,3)),this.setAttribute("uv",new lt(u,2))}static fromJSON(e){return new qp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Xp extends kt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new V,h=new V,m=new V,g=new V,v=new V,y=new V,x=new V;for(let b=0;b<=r;++b){const S=b/r*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,g),y.subVectors(g,m),x.addVectors(g,m),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let R=0;R<=i;++R){const T=R/i*Math.PI*2,B=-t*Math.cos(T),C=t*Math.sin(T);f.x=m.x+(B*x.x+C*v.x),f.y=m.y+(B*x.y+C*v.y),f.z=m.z+(B*x.z+C*v.z),l.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),u.push(h.x,h.y,h.z),c.push(b/r),c.push(R/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const R=(i+1)*(b-1)+(S-1),T=(i+1)*b+(S-1),B=(i+1)*b+S,C=(i+1)*(b-1)+S;a.push(R,T,C),a.push(T,B,C)}this.setIndex(a),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(u,3)),this.setAttribute("uv",new lt(c,2));function _(b,S,R,T,B){const C=Math.cos(b),P=Math.sin(b),I=R/S*b,k=Math.cos(I);B.x=T*(2+k)*.5*C,B.y=T*(2+k)*P*.5,B.z=T*Math.sin(I)*.5}}static fromJSON(e){return new Xp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kp extends kt{constructor(e=new l7(new V(-1,-1,0),new V(-1,1,0),new V(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new V,l=new V,u=new Ie;let c=new V;const f=[],h=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new lt(f,3)),this.setAttribute("normal",new lt(h,3)),this.setAttribute("uv",new lt(m,2));function v(){for(let b=0;b<t;b++)y(b);y(s===!1?t:0),_(),x()}function y(b){c=e.getPointAt(b/t,c);const S=o.normals[b],R=o.binormals[b];for(let T=0;T<=i;T++){const B=T/i*Math.PI*2,C=Math.sin(B),P=-Math.cos(B);l.x=P*S.x+C*R.x,l.y=P*S.y+C*R.y,l.z=P*S.z+C*R.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let S=1;S<=i;S++){const R=(i+1)*(b-1)+(S-1),T=(i+1)*b+(S-1),B=(i+1)*b+S,C=(i+1)*(b-1)+S;g.push(R,T,C),g.push(T,B,C)}}function _(){for(let b=0;b<=t;b++)for(let S=0;S<=i;S++)u.x=b/t,u.y=S/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kp(new c7[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wR extends kt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new V,s=new V;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,m=f.count;for(let g=h,v=h+m;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),_=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),GA(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),GA(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new lt(t,3))}}}function GA(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var zA=Object.freeze({__proto__:null,BoxGeometry:dl,CapsuleGeometry:Up,CircleGeometry:Gp,ConeGeometry:zp,CylinderGeometry:Ou,DodecahedronGeometry:Hp,EdgesGeometry:gR,ExtrudeGeometry:Vp,IcosahedronGeometry:Wp,LatheGeometry:jd,OctahedronGeometry:Zd,PlaneGeometry:Vd,PolyhedronGeometry:Xo,RingGeometry:jp,ShapeGeometry:Zp,SphereGeometry:Jd,TetrahedronGeometry:Jp,TorusGeometry:qp,TorusKnotGeometry:Xp,TubeGeometry:Kp,WireframeGeometry:wR});class bR extends Wn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Qe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class _R extends Ts{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Yp extends Wn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ll,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ao extends Yp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Qe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Qe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class AR extends Wn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Qe(16777215),this.specular=new Qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ll,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SR extends Wn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ll,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class CR extends Wn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ll,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class TR extends Wn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ll,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MR extends Wn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ll,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ER extends Or{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ji(n,e,t){return d7(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function su(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function d7(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function PR(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function F8(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function f7(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function CZ(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],h=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<t||g>=r)){f.push(u.times[m]);for(let v=0;v<c;++v)h.push(u.values[m*c+v])}}f.length!==0&&(u.times=su(f,u.times.constructor),u.values=su(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function TZ(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=c,_=f-c;v=Ji(a.values,x,_)}else if(s>=a.times[g]){const x=g*f+c,_=x+f-c;v=Ji(a.values,x,_)}else{const x=a.createInterpolant(),_=c,b=f-c;x.evaluate(s),v=Ji(x.resultBuffer,_,b)}l==="quaternion"&&new cr().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let x=0;x<y;++x){const _=x*m+h;if(l==="quaternion")cr.multiplyQuaternionsFlat(u.values,_,v,0,u.values,_);else{const b=m-h*2;for(let S=0;S<b;++S)u.values[_+S]-=v[S]}}}return n.blendMode=U9,n}var MZ=Object.freeze({__proto__:null,arraySlice:Ji,convertArray:su,flattenJSON:f7,getKeyframeOrder:PR,isTypedArray:d7,makeClipAdditive:TZ,sortedArray:F8,subclip:CZ});class qd{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class IR extends qd{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nu,endingEnd:nu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case ru:s=e,a=2*t-r;break;case rp:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ru:o=e,l=2*r-t;break;case rp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,x=-h*y+2*h*v-h*g,_=(1+h)*y+(-1.5-2*h)*v+(-.5+h)*g+1,b=(-1-m)*y+(1.5+m)*v+.5*g,S=m*y-m*v;for(let R=0;R!==a;++R)s[R]=x*o[c+R]+_*o[u+R]+b*o[l+R]+S*o[f+R];return s}}class h7 extends qd{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-t)/(i-t),f=1-c;for(let h=0;h!==a;++h)s[h]=o[u+h]*f+o[l+h]*c;return s}}class RR extends qd{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=su(t,this.TimeBufferType),this.values=su(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:su(e.times,Array),values:su(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new RR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new h7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new IR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case wd:t=this.InterpolantFactoryMethodDiscrete;break;case Tu:t=this.InterpolantFactoryMethodLinear;break;case tg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return wd;case this.InterpolantFactoryMethodLinear:return Tu;case this.InterpolantFactoryMethodSmooth:return tg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ji(r,s,o),this.values=Ji(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&d7(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Ji(this.times),t=Ji(this.values),r=this.getValueSize(),i=this.getInterpolation()===tg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,m=f+r;for(let g=0;g!==r;++g){const v=t[f+g];if(v!==t[h+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let m=0;m!==r;++m)t[h+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Ji(e,0,o),this.values=Ji(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Ji(this.times,0),t=Ji(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Bs.prototype.TimeBufferType=Float32Array;Bs.prototype.ValueBufferType=Float32Array;Bs.prototype.DefaultInterpolation=Tu;class Fu extends Bs{}Fu.prototype.ValueTypeName="bool";Fu.prototype.ValueBufferType=Array;Fu.prototype.DefaultInterpolation=wd;Fu.prototype.InterpolantFactoryMethodLinear=void 0;Fu.prototype.InterpolantFactoryMethodSmooth=void 0;class p7 extends Bs{}p7.prototype.ValueTypeName="color";class Sd extends Bs{}Sd.prototype.ValueTypeName="number";class BR extends qd{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let c=u+a;u!==c;u+=4)cr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class $a extends Bs{InterpolantFactoryMethodLinear(e){return new BR(this.times,this.values,this.getValueSize(),e)}}$a.prototype.ValueTypeName="quaternion";$a.prototype.DefaultInterpolation=Tu;$a.prototype.InterpolantFactoryMethodSmooth=void 0;class Nu extends Bs{}Nu.prototype.ValueTypeName="string";Nu.prototype.ValueBufferType=Array;Nu.prototype.DefaultInterpolation=wd;Nu.prototype.InterpolantFactoryMethodLinear=void 0;Nu.prototype.InterpolantFactoryMethodSmooth=void 0;class Cd extends Bs{}Cd.prototype.ValueTypeName="vector";class Td{constructor(e,t=-1,r,i=s1){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Si(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(PZ(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Bs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=PR(l);l=F8(l,1,c),u=F8(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Sd(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,g,v){if(m.length!==0){const y=[],x=[];f7(m,y,x,g),y.length!==0&&v.push(new f(h,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)m[h[g].morphTargets[v]]=-1;for(const v in m){const y=[],x=[];for(let _=0;_!==h[g].morphTargets.length;++_){const b=h[g];y.push(b.time),x.push(b.morphTarget===v?1:0)}i.push(new Sd(".morphTargetInfluence["+v+"]",y,x))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(Cd,m+".position",h,"pos",i),r($a,m+".quaternion",h,"rot",i),r(Cd,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function EZ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sd;case"vector":case"vector2":case"vector3":case"vector4":return Cd;case"color":return p7;case"quaternion":return $a;case"bool":case"boolean":return Fu;case"string":return Nu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function PZ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=EZ(n.type);if(n.times===void 0){const t=[],r=[];f7(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Eu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class m7{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const jc=new m7;let Yr=class{constructor(e){this.manager=e!==void 0?e:jc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const _o={};class IZ extends Error{constructor(e,t){super(e),this.response=t}}class Ti extends Yr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Eu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(_o[e]!==void 0){_o[e].push({onLoad:t,onProgress:r,onError:i});return}_o[e]=[],_o[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=_o[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=h?parseInt(h):0,g=m!==0;let v=0;const y=new ReadableStream({start(x){_();function _(){f.read().then(({done:b,value:S})=>{if(b)x.close();else{v+=S.byteLength;const R=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let T=0,B=c.length;T<B;T++){const C=c[T];C.onProgress&&C.onProgress(R)}x.enqueue(S),_()}})}}});return new Response(y)}else throw new IZ(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{Eu.add(e,u);const c=_o[e];delete _o[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=_o[e];if(c===void 0)throw this.manager.itemError(e),u;delete _o[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class RZ extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ti(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Td.parse(e[r]);t.push(i)}return t}}class BZ extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new i7,l=new Ti(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const m=s.parse(h,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=bn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+v]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=bn),a.format=h.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class dp extends Yr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=op("img");function l(){c(),Eu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class DZ extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=new Lp,o=new dp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class kZ extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new od,a=new Ti(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:mr,o.wrapT=u.wrapT!==void 0?u.wrapT:mr,o.magFilter=u.magFilter!==void 0?u.magFilter:bn,o.minFilter=u.minFilter!==void 0?u.minFilter:bn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=so),u.mipmapCount===1&&(o.minFilter=bn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class DR extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=new vn,o=new dp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class fl extends Jt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Qe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class kR extends fl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Jt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Qe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const a5=new St,HA=new V,VA=new V;class g7{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new a1,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;HA.setFromMatrixPosition(e.matrixWorld),t.position.copy(HA),VA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(VA),t.updateMatrixWorld(),a5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a5),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(a5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class LZ extends g7{constructor(){super(new hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=sp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class y7 extends fl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Jt.DEFAULT_UP),this.updateMatrix(),this.target=new Jt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new LZ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const WA=new St,Nf=new V,l5=new V;class OZ extends g7{constructor(){super(new hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new nn(2,1,1,1),new nn(0,1,1,1),new nn(3,1,1,1),new nn(1,1,1,1),new nn(3,0,1,1),new nn(1,0,1,1)],this._cubeDirections=[new V(1,0,0),new V(-1,0,0),new V(0,0,1),new V(0,0,-1),new V(0,1,0),new V(0,-1,0)],this._cubeUps=[new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,1,0),new V(0,0,1),new V(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Nf.setFromMatrixPosition(e.matrixWorld),r.position.copy(Nf),l5.copy(r.position),l5.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(l5),r.updateMatrixWorld(),i.makeTranslation(-Nf.x,-Nf.y,-Nf.z),WA.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WA)}}class v7 extends fl{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new OZ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class FZ extends g7{constructor(){super(new $i(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class x7 extends fl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Jt.DEFAULT_UP),this.updateMatrix(),this.target=new Jt,this.shadow=new FZ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class LR extends fl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class OR extends fl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class FR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new V)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class m1 extends fl{constructor(e=new FR,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class g1 extends Yr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ti(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=g1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Qe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Qe().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ie().fromArray(o.value);break;case"v3":i.uniforms[s].value=new V().fromArray(o.value);break;case"v4":i.uniforms[s].value=new nn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Wr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new St().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ie().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:bR,SpriteMaterial:$9,RawShaderMaterial:_R,ShaderMaterial:Ts,PointsMaterial:Np,MeshPhysicalMaterial:ao,MeshStandardMaterial:Yp,MeshPhongMaterial:AR,MeshToonMaterial:SR,MeshNormalMaterial:CR,MeshLambertMaterial:TR,MeshDepthMaterial:K9,MeshDistanceMaterial:Y9,MeshBasicMaterial:_i,MeshMatcapMaterial:MR,LineDashedMaterial:ER,LineBasicMaterial:Or,Material:Wn};return new t[e]}}class Qs{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class NR extends kt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class UR extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ti(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const y=m.interleavedBuffers[g],x=s(m,y.buffer),_=Hc(y.type,x),b=new Op(_,y.stride);return b.uuid=y.uuid,t[g]=b,b}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new NR:new kt,a=e.data.index;if(a!==void 0){const m=Hc(a.type,a.array);o.setIndex(new $t(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Qa(y,g.itemSize,g.offset,g.normalized)}else{const y=Hc(g.type,g.array),x=g.isInstancedBufferAttribute?Ad:$t;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let y=0,x=g.length;y<x;y++){const _=g[y];let b;if(_.isInterleavedBufferAttribute){const S=i(e.data,_.data);b=new Qa(S,_.itemSize,_.offset,_.normalized)}else{const S=Hc(_.type,_.array);b=new $t(S,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),v.push(b)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const v=f[m];o.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new V;h.center!==void 0&&m.fromArray(h.center),o.boundingSphere=new cl(m,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class NZ extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Qs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ti(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Qs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ti(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new vu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Fp().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new UR;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in zA?a=zA[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new g1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Td.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Hc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new m7(t);s=new dp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new od(x.data,x.width,x.height)))}i[f.uuid]=new iu(m)}else{const m=a(f.url);i[f.uuid]=new iu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Hc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new dp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new od(g.data,g.width,g.height)))}r[l.uuid]=new iu(c)}else{const c=await s(l.url);r[l.uuid]=new iu(c)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new Lp,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new od:c=new vn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,UZ)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],jA),c.wrapT=r(a.wrap[1],jA)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,ZA)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,ZA)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new jg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Qe(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new c1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new u1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new $i(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new LR(e.color,e.intensity);break;case"DirectionalLight":o=new x7(e.color,e.intensity);break;case"PointLight":o=new v7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new OR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new y7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new kR(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new m1().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new e7(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new or(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new t7(c,f,h),o.instanceMatrix=new Ad(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new Ad(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new cR;break;case"Line":o=new Jo(a(e.geometry),l(e.material));break;case"LineLoop":o=new n7(a(e.geometry),l(e.material));break;case"LineSegments":o=new Is(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new r7(a(e.geometry),l(e.material));break;case"Sprite":o=new uR(l(e.material));break;case"Group":o=new Bo;break;case"Bone":o=new d1;break;default:o=new Jt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],t,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const UZ={UVMapping:r1,CubeReflectionMapping:qa,CubeRefractionMapping:Xa,EquirectangularReflectionMapping:ep,EquirectangularRefractionMapping:tp,CubeUVReflectionMapping:zd},jA={RepeatWrapping:Ka,ClampToEdgeWrapping:mr,MirroredRepeatWrapping:vd},ZA={NearestFilter:Pn,NearestMipmapNearestFilter:np,NearestMipmapLinearFilter:sd,LinearFilter:bn,LinearMipmapNearestFilter:i1,LinearMipmapLinearFilter:so};class GR extends Yr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Eu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Eu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let c3;class w7{static getContext(){return c3===void 0&&(c3=new(window.AudioContext||window.webkitAudioContext)),c3}static setContext(e){c3=e}}class GZ extends Yr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ti(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);w7.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class zZ extends m1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Qe().set(e),s=new Qe().set(t),o=new V(i.r,i.g,i.b),a=new V(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class HZ extends m1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Qe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const JA=new St,qA=new St,El=new St;class VZ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,El.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(mu*t.fov*.5)/t.zoom;let a,l;qA.elements[12]=-i,JA.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,El.elements[0]=2*t.near/(l-a),El.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(El),a=-o*t.aspect-s,l=o*t.aspect-s,El.elements[0]=2*t.near/(l-a),El.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(El)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(JA)}}class b7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=XA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=XA();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function XA(){return(typeof performance>"u"?Date:performance).now()}const Pl=new V,KA=new cr,WZ=new V,Il=new V;class jZ extends Jt{constructor(){super(),this.type="AudioListener",this.context=w7.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new b7}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pl,KA,WZ),Il.set(0,0,-1).applyQuaternion(KA),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Pl.x,i),t.positionY.linearRampToValueAtTime(Pl.y,i),t.positionZ.linearRampToValueAtTime(Pl.z,i),t.forwardX.linearRampToValueAtTime(Il.x,i),t.forwardY.linearRampToValueAtTime(Il.y,i),t.forwardZ.linearRampToValueAtTime(Il.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Pl.x,Pl.y,Pl.z),t.setOrientation(Il.x,Il.y,Il.z,r.x,r.y,r.z)}}let zR=class extends Jt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Rl=new V,YA=new cr,ZZ=new V,Bl=new V;class JZ extends zR{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rl,YA,ZZ),Bl.set(0,0,1).applyQuaternion(YA);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rl.x,r),t.positionY.linearRampToValueAtTime(Rl.y,r),t.positionZ.linearRampToValueAtTime(Rl.z,r),t.orientationX.linearRampToValueAtTime(Bl.x,r),t.orientationY.linearRampToValueAtTime(Bl.y,r),t.orientationZ.linearRampToValueAtTime(Bl.z,r)}else t.setPosition(Rl.x,Rl.y,Rl.z),t.setOrientation(Bl.x,Bl.y,Bl.z)}}class qZ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class HR{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){cr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;cr.multiplyQuaternionsFlat(e,o,e,t,e,r),cr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const _7="\\[\\]\\.:\\/",XZ=new RegExp("["+_7+"]","g"),A7="[^"+_7+"]",KZ="[^"+_7.replace("\\.","")+"]",YZ=/((?:WC+[\/:])*)/.source.replace("WC",A7),QZ=/(WCOD+)?/.source.replace("WCOD",KZ),$Z=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",A7),eJ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",A7),tJ=new RegExp("^"+YZ+QZ+$Z+eJ+"$"),nJ=["material","materials","bones","map"];class rJ{constructor(e,t,r){const i=r||Zt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Zt{constructor(e,t,r){this.path=t,this.parsedPath=r||Zt.parseTrackName(t),this.node=Zt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Zt.Composite(e,t,r):new Zt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(XZ,"")}static parseTrackName(e){const t=tJ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);nJ.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Zt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Zt.Composite=rJ;Zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Zt.prototype.GetterByBindingType=[Zt.prototype._getValue_direct,Zt.prototype._getValue_array,Zt.prototype._getValue_arrayElement,Zt.prototype._getValue_toArray];Zt.prototype.SetterByBindingTypeAndVersioning=[[Zt.prototype._setValue_direct,Zt.prototype._setValue_direct_setNeedsUpdate,Zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_array,Zt.prototype._setValue_array_setNeedsUpdate,Zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_arrayElement,Zt.prototype._setValue_arrayElement_setNeedsUpdate,Zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zt.prototype._setValue_fromArray,Zt.prototype._setValue_fromArray_setNeedsUpdate,Zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class iJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Si(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],m=h.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(h);for(let v=0,y=o;v!==y;++v)s[v].push(new Zt(h,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,y=e[v];t[y.uuid]=g,e[g]=y,t[m]=v,e[v]=h;for(let x=0,_=o;x!==_;++x){const b=s[x],S=b[v];let R=b[g];b[g]=S,R===void 0&&(R=new Zt(h,r[x],i[x])),b[v]=R}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const f=s++,h=e[f];t[h.uuid]=c,e[c]=h,t[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[f],x=v[c];v[c]=y,v[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<s){const h=--s,m=e[h],g=--o,v=e[g];t[m.uuid]=f,e[f]=m,t[v.uuid]=h,e[h]=v,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],b=_[h],S=_[g];_[f]=b,_[h]=S,_.pop()}}else{const h=--o,m=e[h];h>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let h=c,m=l.length;h!==m;++h){const g=l[h];f[h]=new Zt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class sJ{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:nu,endingEnd:nu};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=zI,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case U9:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case s1:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===HI;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===GI){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=ru,i.endingEnd=ru):(e?i.endingStart=this.zeroSlopeAtStart?ru:nu:i.endingStart=rp,t?i.endingEnd=this.zeroSlopeAtEnd?ru:nu:i.endingEnd=rp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const oJ=new Float32Array(1);class aJ extends oo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const h=i[f],m=h.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;g=new HR(Zt.create(r,m,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new h7(new Float32Array(2),new Float32Array(2),1,oJ),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Td.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=s1),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new sJ(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Td.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class S7{constructor(e){this.value=e}clone(){return new S7(this.value.clone===void 0?this.value:this.value.clone())}}let lJ=0;class uJ extends oo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:lJ++}),this.name="",this.usage=ip,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class cJ extends Op{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class dJ{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class VR{constructor(e,t,r=0,i=1/0){this.ray=new Hd(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new yu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return N8(e,this,r,t),r.sort(QA),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)N8(e[i],this,r,t);return r.sort(QA),r}}function QA(n,e){return n.distance-e.distance}function N8(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)N8(i[s],e,t,!0)}}class U8{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ln(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class fJ{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const $A=new Ie;class hJ{constructor(e=new Ie(1/0,1/0),t=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=$A.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return $A.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const eS=new V,d3=new V;class pJ{constructor(e=new V,t=new V){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){eS.subVectors(e,this.start),d3.subVectors(this.end,this.start);const r=d3.dot(d3);let s=d3.dot(eS)/r;return t&&(s=Ln(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const tS=new V;class mJ extends Jt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new kt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new lt(i,3));const s=new Or({fog:!1,toneMapped:!1});this.cone=new Is(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),tS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(tS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const da=new V,f3=new St,u5=new St;class gJ extends Is{constructor(e){const t=WR(e),r=new kt,i=[],s=[],o=new Qe(0,0,1),a=new Qe(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new lt(i,3)),r.setAttribute("color",new lt(s,3));const l=new Or({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");u5.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(f3.multiplyMatrices(u5,a.matrixWorld),da.setFromMatrixPosition(f3),i.setXYZ(o,da.x,da.y,da.z),f3.multiplyMatrices(u5,a.parent.matrixWorld),da.setFromMatrixPosition(f3),i.setXYZ(o+1,da.x,da.y,da.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function WR(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,WR(n.children[t]));return e}class yJ extends or{constructor(e,t,r){const i=new Jd(t,4,2),s=new _i({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const vJ=new V,nS=new Qe,rS=new Qe;class xJ extends Jt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Zd(t);i.rotateY(Math.PI*.5),this.material=new _i({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new $t(o,3)),this.add(new or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");nS.copy(this.light.color),rS.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?nS:rS;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(vJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wJ extends Is{constructor(e=10,t=10,r=4473924,i=8947848){r=new Qe(r),i=new Qe(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let h=0,m=0,g=-a;h<=t;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=h===s?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const c=new kt;c.setAttribute("position",new lt(l,3)),c.setAttribute("color",new lt(u,3));const f=new Or({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class bJ extends Is{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Qe(s),o=new Qe(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const h=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m;a.push(y,0,x),l.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m,a.push(y,0,x),l.push(h.r,h.g,h.b)}}const u=new kt;u.setAttribute("position",new lt(a,3)),u.setAttribute("color",new lt(l,3));const c=new Or({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const iS=new V,h3=new V,sS=new V;class _J extends Jt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new kt;i.setAttribute("position",new lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Or({fog:!1,toneMapped:!1});this.lightPlane=new Jo(i,s),this.add(this.lightPlane),i=new kt,i.setAttribute("position",new lt([0,0,0,0,0,1],3)),this.targetLine=new Jo(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),iS.setFromMatrixPosition(this.light.matrixWorld),h3.setFromMatrixPosition(this.light.target.matrixWorld),sS.subVectors(h3,iS),this.lightPlane.lookAt(h3),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(h3),this.targetLine.scale.z=sS.length()}}const p3=new V,Mn=new kp;class AJ extends Is{constructor(e){const t=new kt,r=new Or({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new lt(i,3)),t.setAttribute("color",new lt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Qe(16755200),c=new Qe(16711680),f=new Qe(43775),h=new Qe(16777215),m=new Qe(3355443);this.setColors(u,c,f,h,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;Mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Dn("c",t,e,Mn,0,0,-1),Dn("t",t,e,Mn,0,0,1),Dn("n1",t,e,Mn,-r,-i,-1),Dn("n2",t,e,Mn,r,-i,-1),Dn("n3",t,e,Mn,-r,i,-1),Dn("n4",t,e,Mn,r,i,-1),Dn("f1",t,e,Mn,-r,-i,1),Dn("f2",t,e,Mn,r,-i,1),Dn("f3",t,e,Mn,-r,i,1),Dn("f4",t,e,Mn,r,i,1),Dn("u1",t,e,Mn,r*.7,i*1.1,-1),Dn("u2",t,e,Mn,-r*.7,i*1.1,-1),Dn("u3",t,e,Mn,0,i*2,-1),Dn("cf1",t,e,Mn,-r,0,1),Dn("cf2",t,e,Mn,r,0,1),Dn("cf3",t,e,Mn,0,-i,1),Dn("cf4",t,e,Mn,0,i,1),Dn("cn1",t,e,Mn,-r,0,-1),Dn("cn2",t,e,Mn,r,0,-1),Dn("cn3",t,e,Mn,0,-i,-1),Dn("cn4",t,e,Mn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Dn(n,e,t,r,i,s,o){p3.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],p3.x,p3.y,p3.z)}}const m3=new ul;class SJ extends Is{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new kt;s.setIndex(new $t(r,1)),s.setAttribute("position",new $t(i,3)),super(s,new Or({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&m3.setFromObject(this.object),m3.isEmpty())return;const t=m3.min,r=m3.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class CJ extends Is{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new kt;s.setIndex(new $t(r,1)),s.setAttribute("position",new lt(i,3)),super(s,new Or({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class TJ extends Jo{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new kt;o.setAttribute("position",new lt(s,3)),o.computeBoundingSphere(),super(o,new Or({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new kt;l.setAttribute("position",new lt(a,3)),l.computeBoundingSphere(),this.add(new or(l,new _i({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const oS=new V;let g3,c5;class MJ extends Jt{constructor(e=new V(0,0,1),t=new V(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",g3===void 0&&(g3=new kt,g3.setAttribute("position",new lt([0,0,0,0,1,0],3)),c5=new Ou(0,.5,1,5,1),c5.translate(0,-.5,0)),this.position.copy(t),this.line=new Jo(g3,new Or({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new or(c5,new _i({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{oS.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(oS,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class EJ extends Is{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new kt;i.setAttribute("position",new lt(t,3)),i.setAttribute("color",new lt(r,3));const s=new Or({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Qe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PJ{constructor(){this.type="ShapePath",this.color=new Qe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ap,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let b=0,S=x.length;b<S;b++){const R=x[b],T=new vu;T.curves=R.curves,_.push(T)}return _}function r(x,_){const b=_.length;let S=!1;for(let R=b-1,T=0;T<b;R=T++){let B=_[R],C=_[T],P=C.x-B.x,I=C.y-B.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(B=_[T],P=-P,C=_[R],I=-I),x.y<B.y||x.y>C.y)continue;if(x.y===B.y){if(x.x===B.x)return!0}else{const k=I*(x.x-B.x)-P*(x.y-B.y);if(k===0)return!0;if(k<0)continue;S=!S}}else{if(x.y!==B.y)continue;if(C.x<=x.x&&x.x<=B.x||B.x<=x.x&&x.x<=C.x)return!0}}return S}const i=Ys.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new vu,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],h=[];let m=[],g=0,v;h[g]=void 0,m[g]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new vu,p:v},h[g].s.curves=a.curves,c&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!h[0])return t(s);if(h.length>1){let x=!1,_=0;for(let b=0,S=h.length;b<S;b++)f[b]=[];for(let b=0,S=h.length;b<S;b++){const R=m[b];for(let T=0;T<R.length;T++){const B=R[T];let C=!0;for(let P=0;P<h.length;P++)r(B.p,h[P].p)&&(b!==P&&_++,C?(C=!1,f[P].push(B)):x=!0);C&&f[b].push(B)}}_>0&&x===!1&&(m=f)}let y;for(let x=0,_=h.length;x<_;x++){l=h[x].s,u.push(l),y=m[x];for(let b=0,S=y.length;b<S;b++)l.holes.push(y[b].h)}return u}}const Mo=IJ();function IJ(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function RJ(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ln(n,-65504,65504),Mo.floatView[0]=n;const e=Mo.uint32View[0],t=e>>23&511;return Mo.baseTable[t]+((e&8388607)>>Mo.shiftTable[t])}function BJ(n){const e=n>>10;return Mo.uint32View[0]=Mo.mantissaTable[Mo.offsetTable[e]+(n&1023)]+Mo.exponentTable[e],Mo.floatView[0]}var DJ=Object.freeze({__proto__:null,fromHalfFloat:BJ,toHalfFloat:RJ});class kJ extends dl{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class LJ extends Up{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class OJ extends Gp{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class FJ extends zp{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class NJ extends Ou{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class UJ extends Hp{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class GJ extends Vp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class zJ extends Wp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class HJ extends jd{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class VJ extends Zd{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class WJ extends Vd{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class jJ extends Xo{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class ZJ extends jp{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class JJ extends Zp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class qJ extends Jd{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class XJ extends Jp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class KJ extends qp{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class YJ extends Xp{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class QJ extends Kp{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Lu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Lu);const $J=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:F9,AddEquation:Jl,AddOperation:wI,AdditiveAnimationBlendMode:U9,AdditiveBlending:n8,AlphaFormat:II,AlwaysDepth:hI,AlwaysStencilFunc:JI,AmbientLight:LR,AmbientLightProbe:HZ,AnimationClip:Td,AnimationLoader:RZ,AnimationMixer:aJ,AnimationObjectGroup:iJ,AnimationUtils:MZ,ArcCurve:dR,ArrayCamera:sR,ArrowHelper:MJ,Audio:zR,AudioAnalyser:qZ,AudioContext:w7,AudioListener:jZ,AudioLoader:GZ,AxesHelper:EJ,BackSide:Zr,BasicDepthPacking:WI,BasicShadowMap:$P,Bone:d1,BooleanKeyframeTrack:Fu,Box2:hJ,Box3:ul,Box3Helper:CJ,BoxBufferGeometry:kJ,BoxGeometry:dl,BoxHelper:SJ,BufferAttribute:$t,BufferGeometry:kt,BufferGeometryLoader:UR,ByteType:CI,Cache:Eu,Camera:kp,CameraHelper:AJ,CanvasTexture:Yj,CapsuleBufferGeometry:LJ,CapsuleGeometry:Up,CatmullRomCurve3:fR,CineonToneMapping:AI,CircleBufferGeometry:OJ,CircleGeometry:Gp,ClampToEdgeWrapping:mr,Clock:b7,Color:Qe,ColorKeyframeTrack:p7,ColorManagement:Pr,CompressedArrayTexture:Kj,CompressedTexture:i7,CompressedTextureLoader:BZ,ConeBufferGeometry:FJ,ConeGeometry:zp,CubeCamera:J9,CubeReflectionMapping:qa,CubeRefractionMapping:Xa,CubeTexture:Lp,CubeTextureLoader:DZ,CubeUVReflectionMapping:zd,CubicBezierCurve:o7,CubicBezierCurve3:hR,CubicInterpolant:IR,CullFaceBack:t8,CullFaceFront:QP,CullFaceFrontBack:rG,CullFaceNone:YP,Curve:Rs,CurvePath:mR,CustomBlending:eI,CustomToneMapping:SI,CylinderBufferGeometry:NJ,CylinderGeometry:Ou,Cylindrical:fJ,Data3DTexture:V9,DataArrayTexture:o1,DataTexture:od,DataTextureLoader:kZ,DataUtils:DJ,DecrementStencilOp:hG,DecrementWrapStencilOp:mG,DefaultLoadingManager:jc,DepthFormat:Va,DepthStencilFormat:Cu,DepthTexture:oR,DirectionalLight:x7,DirectionalLightHelper:_J,DiscreteInterpolant:RR,DodecahedronBufferGeometry:UJ,DodecahedronGeometry:Hp,DoubleSide:ws,DstAlphaFactor:aI,DstColorFactor:uI,DynamicCopyUsage:PG,DynamicDrawUsage:pu,DynamicReadUsage:TG,EdgesGeometry:gR,EllipseCurve:f1,EqualDepth:mI,EqualStencilFunc:xG,EquirectangularReflectionMapping:ep,EquirectangularRefractionMapping:tp,Euler:Dp,EventDispatcher:oo,ExtrudeBufferGeometry:GJ,ExtrudeGeometry:Vp,FileLoader:Ti,Float16BufferAttribute:uz,Float32BufferAttribute:lt,Float64BufferAttribute:cz,FloatType:Io,Fog:c1,FogExp2:u1,FramebufferTexture:Xj,FrontSide:io,Frustum:a1,GLBufferAttribute:dJ,GLSL1:RG,GLSL3:I8,GreaterDepth:yI,GreaterEqualDepth:gI,GreaterEqualStencilFunc:AG,GreaterStencilFunc:bG,GridHelper:wJ,Group:Bo,HalfFloatType:xd,HemisphereLight:kR,HemisphereLightHelper:xJ,HemisphereLightProbe:zZ,IcosahedronBufferGeometry:zJ,IcosahedronGeometry:Wp,ImageBitmapLoader:GR,ImageLoader:dp,ImageUtils:H9,IncrementStencilOp:fG,IncrementWrapStencilOp:pG,InstancedBufferAttribute:Ad,InstancedBufferGeometry:NR,InstancedInterleavedBuffer:cJ,InstancedMesh:t7,Int16BufferAttribute:az,Int32BufferAttribute:lz,Int8BufferAttribute:iz,IntType:MI,InterleavedBuffer:Op,InterleavedBufferAttribute:Qa,Interpolant:qd,InterpolateDiscrete:wd,InterpolateLinear:Tu,InterpolateSmooth:tg,InvertStencilOp:gG,KeepStencilOp:ng,KeyframeTrack:Bs,LOD:cR,LatheBufferGeometry:HJ,LatheGeometry:jd,Layers:yu,LessDepth:pI,LessEqualDepth:zg,LessEqualStencilFunc:wG,LessStencilFunc:vG,Light:fl,LightProbe:m1,Line:Jo,Line3:pJ,LineBasicMaterial:Or,LineCurve:h1,LineCurve3:pR,LineDashedMaterial:ER,LineLoop:n7,LineSegments:Is,LinearEncoding:Ya,LinearFilter:bn,LinearInterpolant:h7,LinearMipMapLinearFilter:lG,LinearMipMapNearestFilter:aG,LinearMipmapLinearFilter:so,LinearMipmapNearestFilter:i1,LinearSRGBColorSpace:bd,LinearToneMapping:bI,Loader:Yr,LoaderUtils:Qs,LoadingManager:m7,LoopOnce:GI,LoopPingPong:HI,LoopRepeat:zI,LuminanceAlphaFormat:BI,LuminanceFormat:RI,MOUSE:Hl,Material:Wn,MaterialLoader:g1,MathUtils:XI,Matrix3:Wr,Matrix4:St,MaxEquation:o8,Mesh:or,MeshBasicMaterial:_i,MeshDepthMaterial:K9,MeshDistanceMaterial:Y9,MeshLambertMaterial:TR,MeshMatcapMaterial:MR,MeshNormalMaterial:CR,MeshPhongMaterial:AR,MeshPhysicalMaterial:ao,MeshStandardMaterial:Yp,MeshToonMaterial:SR,MinEquation:s8,MirroredRepeatWrapping:vd,MixOperation:xI,MultiplyBlending:i8,MultiplyOperation:Bp,NearestFilter:Pn,NearestMipMapLinearFilter:oG,NearestMipMapNearestFilter:sG,NearestMipmapLinearFilter:sd,NearestMipmapNearestFilter:np,NeverDepth:fI,NeverStencilFunc:yG,NoBlending:Fo,NoColorSpace:uG,NoToneMapping:As,NormalAnimationBlendMode:s1,NormalBlending:fu,NotEqualDepth:vI,NotEqualStencilFunc:_G,NumberKeyframeTrack:Sd,Object3D:Jt,ObjectLoader:NZ,ObjectSpaceNormalMap:ZI,OctahedronBufferGeometry:VJ,OctahedronGeometry:Zd,OneFactor:iI,OneMinusDstAlphaFactor:lI,OneMinusDstColorFactor:cI,OneMinusSrcAlphaFactor:O9,OneMinusSrcColorFactor:oI,OrthographicCamera:$i,PCFShadowMap:n1,PCFSoftShadowMap:Sh,PMREMGenerator:B8,Path:ap,PerspectiveCamera:hn,Plane:Co,PlaneBufferGeometry:WJ,PlaneGeometry:Vd,PlaneHelper:TJ,PointLight:v7,PointLightHelper:yJ,Points:r7,PointsMaterial:Np,PolarGridHelper:bJ,PolyhedronBufferGeometry:jJ,PolyhedronGeometry:Xo,PositionalAudio:JZ,PropertyBinding:Zt,PropertyMixer:HR,QuadraticBezierCurve:a7,QuadraticBezierCurve3:l7,Quaternion:cr,QuaternionKeyframeTrack:$a,QuaternionLinearInterpolant:BR,RED_GREEN_RGTC2_Format:E8,RED_RGTC1_Format:UI,REVISION:Lu,RGBADepthPacking:jI,RGBAFormat:si,RGBAIntegerFormat:FI,RGBA_ASTC_10x10_Format:S8,RGBA_ASTC_10x5_Format:b8,RGBA_ASTC_10x6_Format:_8,RGBA_ASTC_10x8_Format:A8,RGBA_ASTC_12x10_Format:C8,RGBA_ASTC_12x12_Format:T8,RGBA_ASTC_4x4_Format:h8,RGBA_ASTC_5x4_Format:p8,RGBA_ASTC_5x5_Format:m8,RGBA_ASTC_6x5_Format:g8,RGBA_ASTC_6x6_Format:y8,RGBA_ASTC_8x5_Format:v8,RGBA_ASTC_8x6_Format:x8,RGBA_ASTC_8x8_Format:w8,RGBA_BPTC_Format:eg,RGBA_ETC2_EAC_Format:f8,RGBA_PVRTC_2BPPV1_Format:c8,RGBA_PVRTC_4BPPV1_Format:u8,RGBA_S3TC_DXT1_Format:Y3,RGBA_S3TC_DXT3_Format:Q3,RGBA_S3TC_DXT5_Format:$3,RGB_ETC1_Format:NI,RGB_ETC2_Format:d8,RGB_PVRTC_2BPPV1_Format:l8,RGB_PVRTC_4BPPV1_Format:a8,RGB_S3TC_DXT1_Format:K3,RGFormat:LI,RGIntegerFormat:OI,RawShaderMaterial:_R,Ray:Hd,Raycaster:VR,RectAreaLight:OR,RedFormat:DI,RedIntegerFormat:kI,ReinhardToneMapping:_I,RepeatWrapping:Ka,ReplaceStencilOp:dG,ReverseSubtractEquation:nI,RingBufferGeometry:ZJ,RingGeometry:jp,SIGNED_RED_GREEN_RGTC2_Format:P8,SIGNED_RED_RGTC1_Format:M8,SRGBColorSpace:ys,Scene:jg,ShaderChunk:Ft,ShaderLib:xs,ShaderMaterial:Ts,ShadowMaterial:bR,Shape:vu,ShapeBufferGeometry:JJ,ShapeGeometry:Zp,ShapePath:PJ,ShapeUtils:Ys,ShortType:TI,Skeleton:Fp,SkeletonHelper:gJ,SkinnedMesh:e7,Source:iu,Sphere:cl,SphereBufferGeometry:qJ,SphereGeometry:Jd,Spherical:U8,SphericalHarmonics3:FR,SplineCurve:u7,SpotLight:y7,SpotLightHelper:mJ,Sprite:uR,SpriteMaterial:$9,SrcAlphaFactor:L9,SrcAlphaSaturateFactor:dI,SrcColorFactor:sI,StaticCopyUsage:EG,StaticDrawUsage:ip,StaticReadUsage:CG,StereoCamera:VZ,StreamCopyUsage:IG,StreamDrawUsage:SG,StreamReadUsage:MG,StringKeyframeTrack:Nu,SubtractEquation:tI,SubtractiveBlending:r8,TOUCH:Vl,TangentSpaceNormalMap:ll,TetrahedronBufferGeometry:XJ,TetrahedronGeometry:Jp,Texture:vn,TextureLoader:DR,TorusBufferGeometry:KJ,TorusGeometry:qp,TorusKnotBufferGeometry:YJ,TorusKnotGeometry:Xp,Triangle:Yi,TriangleFanDrawMode:Hg,TriangleStripDrawMode:G9,TrianglesDrawMode:VI,TubeBufferGeometry:QJ,TubeGeometry:Kp,TwoPassDoubleSide:iG,UVMapping:r1,Uint16BufferAttribute:W9,Uint32BufferAttribute:j9,Uint8BufferAttribute:sz,Uint8ClampedBufferAttribute:oz,Uniform:S7,UniformsGroup:uJ,UniformsLib:Je,UniformsUtils:Z9,UnsignedByteType:Zo,UnsignedInt248Type:hu,UnsignedIntType:Ra,UnsignedShort4444Type:EI,UnsignedShort5551Type:PI,UnsignedShortType:N9,VSMShadowMap:tu,Vector2:Ie,Vector3:V,Vector4:nn,VectorKeyframeTrack:Cd,VideoTexture:qj,WebGL1Renderer:aR,WebGL3DRenderTarget:qG,WebGLArrayRenderTarget:JG,WebGLCubeRenderTarget:q9,WebGLMultipleRenderTargets:XG,WebGLRenderTarget:Cs,WebGLRenderer:Q9,WebGLUtils:iR,WireframeGeometry:wR,WrapAroundEnding:rp,ZeroCurvatureEnding:nu,ZeroFactor:rI,ZeroSlopeEnding:ru,ZeroStencilOp:cG,_SRGBAFormat:Vg,sRGBEncoding:an},Symbol.toStringTag,{value:"Module"}));var jR={exports:{}},Uu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Uu.ConcurrentRoot=1;Uu.ContinuousEventPriority=4;Uu.DefaultEventPriority=16;Uu.DiscreteEventPriority=1;Uu.IdleEventPriority=536870912;Uu.LegacyRoot=0;jR.exports=Uu;var Zc=jR.exports;function eq(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),t.forEach(m=>m(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function m(){const g=c(e);if(!f(h,g)){const v=h;u(h=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const tq=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),aS=tq?Q.useEffect:Q.useLayoutEffect;function ZR(n){const e=typeof n=="function"?eq(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Q.useReducer(y=>y+1,0),o=e.getState(),a=Q.useRef(o),l=Q.useRef(r),u=Q.useRef(i),c=Q.useRef(!1),f=Q.useRef();f.current===void 0&&(f.current=r(o));let h,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),m=!i(f.current,h)),aS(()=>{m&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=Q.useRef(o);aS(()=>{const y=()=>{try{const _=e.getState(),b=l.current(_);u.current(f.current,b)||(a.current=_,f.current=b,s())}catch{c.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=m?h:f.current;return Q.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var JR={exports:{}},qR={exports:{}},XR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,H){var j=N.length;N.push(H);e:for(;0<j;){var oe=j-1>>>1,te=N[oe];if(0<i(te,H))N[oe]=H,N[j]=te,j=oe;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var H=N[0],j=N.pop();if(j!==H){N[0]=j;e:for(var oe=0,te=N.length,ge=te>>>1;oe<ge;){var Pe=2*(oe+1)-1,Me=N[Pe],de=Pe+1,Ve=N[de];if(0>i(Me,j))de<te&&0>i(Ve,Me)?(N[oe]=Ve,N[de]=j,oe=de):(N[oe]=Me,N[Pe]=j,oe=Pe);else if(de<te&&0>i(Ve,j))N[oe]=Ve,N[de]=j,oe=de;else break e}}return H}function i(N,H){var j=N.sortIndex-H.sortIndex;return j!==0?j:N.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var H=t(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=N)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function S(N){if(v=!1,b(N),!g)if(t(l)!==null)g=!0,ee(R);else{var H=t(u);H!==null&&ce(S,H.startTime-N)}}function R(N,H){g=!1,v&&(v=!1,x(C),C=-1),m=!0;var j=h;try{for(b(H),f=t(l);f!==null&&(!(f.expirationTime>H)||N&&!k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,h=f.priorityLevel;var te=oe(f.expirationTime<=H);H=n.unstable_now(),typeof te=="function"?f.callback=te:f===t(l)&&r(l),b(H)}else r(l);f=t(l)}if(f!==null)var ge=!0;else{var Pe=t(u);Pe!==null&&ce(S,Pe.startTime-H),ge=!1}return ge}finally{f=null,h=j,m=!1}}var T=!1,B=null,C=-1,P=5,I=-1;function k(){return!(n.unstable_now()-I<P)}function U(){if(B!==null){var N=n.unstable_now();I=N;var H=!0;try{H=B(!0,N)}finally{H?q():(T=!1,B=null)}}else T=!1}var q;if(typeof _=="function")q=function(){_(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=U,q=function(){$.postMessage(null)}}else q=function(){y(U,0)};function ee(N){B=N,T||(T=!0,q())}function ce(N,H){C=y(function(){N(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(R))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var j=h;h=H;try{return N()}finally{h=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=h;h=N;try{return H()}finally{h=j}},n.unstable_scheduleCallback=function(N,H,j){var oe=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?oe+j:oe):j=oe,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=j+te,N={id:c++,callback:H,priorityLevel:N,startTime:j,expirationTime:te,sortIndex:-1},j>oe?(N.sortIndex=j,e(u,N),t(l)===null&&N===t(u)&&(v?(x(C),C=-1):v=!0,ce(S,j-oe))):(N.sortIndex=te,e(l,N),g||m||(g=!0,ee(R))),N},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(N){var H=h;return function(){var j=h;h=H;try{return N.apply(this,arguments)}finally{h=j}}}})(XR);qR.exports=XR;var G8=qR.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nq=function(e){var t={},r=Q,i=G8,s=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),R=Symbol.iterator;function T(d){return d===null||typeof d!="object"?null:(d=R&&d[R]||d["@@iterator"],typeof d=="function"?d:null)}function B(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case v:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case _:return p=d.displayName||null,p!==null?p:B(d.type)||"Memo";case b:p=d._payload,d=d._init;try{return B(d(p))}catch{}}return null}function C(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function P(d){var p=d,w=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(w=p.return),d=p.return;while(d)}return p.tag===3?w:null}function I(d){if(P(d)!==d)throw Error(o(188))}function k(d){var p=d.alternate;if(!p){if(p=P(d),p===null)throw Error(o(188));return p!==d?null:d}for(var w=d,A=p;;){var M=w.return;if(M===null)break;var D=M.alternate;if(D===null){if(A=M.return,A!==null){w=A;continue}break}if(M.child===D.child){for(D=M.child;D;){if(D===w)return I(M),d;if(D===A)return I(M),p;D=D.sibling}throw Error(o(188))}if(w.return!==A.return)w=M,A=D;else{for(var X=!1,ue=M.child;ue;){if(ue===w){X=!0,w=M,A=D;break}if(ue===A){X=!0,A=M,w=D;break}ue=ue.sibling}if(!X){for(ue=D.child;ue;){if(ue===w){X=!0,w=D,A=M;break}if(ue===A){X=!0,A=D,w=M;break}ue=ue.sibling}if(!X)throw Error(o(189))}}if(w.alternate!==A)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?d:p}function U(d){return d=k(d),d!==null?q(d):null}function q(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=q(d);if(p!==null)return p;d=d.sibling}return null}function W(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=W(d);if(p!==null)return p}d=d.sibling}return null}var $=Array.isArray,ee=e.getPublicInstance,ce=e.getRootHostContext,N=e.getChildHostContext,H=e.prepareForCommit,j=e.resetAfterCommit,oe=e.createInstance,te=e.appendInitialChild,ge=e.finalizeInitialChildren,Pe=e.prepareUpdate,Me=e.shouldSetTextContent,de=e.createTextInstance,Ve=e.scheduleTimeout,ve=e.cancelTimeout,O=e.noTimeout,F=e.isPrimaryRenderer,Y=e.supportsMutation,ie=e.supportsPersistence,re=e.supportsHydration,he=e.getInstanceFromNode,Le=e.preparePortalMount,ke=e.getCurrentEventPriority,He=e.detachDeletedInstance,je=e.supportsMicrotasks,We=e.scheduleMicrotask,pt=e.supportsTestSelectors,ut=e.findFiberRoot,Z=e.getBoundingRect,G=e.getTextContent,we=e.isHiddenSubtree,Ne=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,Ce=e.setupIntersectionObserver,vt=e.appendChild,qe=e.appendChildToContainer,Re=e.commitTextUpdate,ft=e.commitMount,xt=e.commitUpdate,it=e.insertBefore,gt=e.insertInContainerBefore,ct=e.removeChild,le=e.removeChildFromContainer,Oe=e.resetTextContent,et=e.hideInstance,se=e.hideTextInstance,be=e.unhideInstance,Fe=e.unhideTextInstance,Ze=e.clearContainer,dt=e.cloneInstance,Ut=e.createContainerChildSet,qt=e.appendChildToContainerChildSet,en=e.finalizeContainerChildren,dr=e.replaceContainerChildren,Vt=e.cloneHiddenInstance,On=e.cloneHiddenTextInstance,Rn=e.canHydrateInstance,Vu=e.canHydrateTextInstance,Qd=e.canHydrateSuspenseInstance,Wu=e.isSuspenseInstancePending,ml=e.isSuspenseInstanceFallback,J=e.registerSuspenseInstanceRetry,ye=e.getNextHydratableSibling,Ee=e.getFirstHydratableChild,pe=e.getFirstHydratableChildWithinContainer,Be=e.getFirstHydratableChildWithinSuspenseInstance,yt=e.hydrateInstance,_t=e.hydrateTextInstance,Rt=e.hydrateSuspenseInstance,Lt=e.getNextHydratableInstanceAfterSuspenseInstance,zt=e.commitHydratedContainer,Gt=e.commitHydratedSuspenseInstance,K=e.clearSuspenseBoundary,E=e.clearSuspenseBoundaryFromContainer,L=e.shouldDeleteUnhydratedTailInstances,z=e.didNotMatchHydratedContainerTextInstance,ae=e.didNotMatchHydratedTextInstance,ne;function Ae(d){if(ne===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);ne=p&&p[1]||""}return`
`+ne+d}var De=!1;function Ke(d,p){if(!d||De)return"";De=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ze){var A=ze}Reflect.construct(d,[],p)}else{try{p.call()}catch(ze){A=ze}d.call(p.prototype)}else{try{throw Error()}catch(ze){A=ze}d()}}catch(ze){if(ze&&A&&typeof ze.stack=="string"){for(var M=ze.stack.split(`
`),D=A.stack.split(`
`),X=M.length-1,ue=D.length-1;1<=X&&0<=ue&&M[X]!==D[ue];)ue--;for(;1<=X&&0<=ue;X--,ue--)if(M[X]!==D[ue]){if(X!==1||ue!==1)do if(X--,ue--,0>ue||M[X]!==D[ue]){var Te=`
`+M[X].replace(" at new "," at ");return d.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",d.displayName)),Te}while(1<=X&&0<=ue);break}}}finally{De=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?Ae(d):""}var tt=Object.prototype.hasOwnProperty,Bt=[],cn=-1;function hi(d){return{current:d}}function Tt(d){0>cn||(d.current=Bt[cn],Bt[cn]=null,cn--)}function jt(d,p){cn++,Bt[cn]=d.current,d.current=p}var Di={},tn=hi(Di),$n=hi(!1),lo=Di;function uo(d,p){var w=d.type.contextTypes;if(!w)return Di;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var M={},D;for(D in w)M[D]=p[D];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=M),M}function $r(d){return d=d.childContextTypes,d!=null}function b0(){Tt($n),Tt(tn)}function Wx(d,p,w){if(tn.current!==Di)throw Error(o(168));jt(tn,p),jt($n,w)}function jx(d,p,w){var A=d.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var M in A)if(!(M in p))throw Error(o(108,C(d)||"Unknown",M));return s({},w,A)}function _0(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Di,lo=tn.current,jt(tn,d),jt($n,$n.current),!0}function Zx(d,p,w){var A=d.stateNode;if(!A)throw Error(o(169));w?(d=jx(d,p,lo),A.__reactInternalMemoizedMergedChildContext=d,Tt($n),Tt(tn),jt(tn,d)):Tt($n),jt($n,w)}var as=Math.clz32?Math.clz32:GL,NL=Math.log,UL=Math.LN2;function GL(d){return d>>>=0,d===0?32:31-(NL(d)/UL|0)|0}var A0=64,S0=4194304;function $d(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function C0(d,p){var w=d.pendingLanes;if(w===0)return 0;var A=0,M=d.suspendedLanes,D=d.pingedLanes,X=w&268435455;if(X!==0){var ue=X&~M;ue!==0?A=$d(ue):(D&=X,D!==0&&(A=$d(D)))}else X=w&~M,X!==0?A=$d(X):D!==0&&(A=$d(D));if(A===0)return 0;if(p!==0&&p!==A&&!(p&M)&&(M=A&-A,D=p&-p,M>=D||M===16&&(D&4194240)!==0))return p;if(A&4&&(A|=w&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=A;0<p;)w=31-as(p),M=1<<w,A|=d[w],p&=~M;return A}function zL(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HL(d,p){for(var w=d.suspendedLanes,A=d.pingedLanes,M=d.expirationTimes,D=d.pendingLanes;0<D;){var X=31-as(D),ue=1<<X,Te=M[X];Te===-1?(!(ue&w)||ue&A)&&(M[X]=zL(ue,p)):Te<=p&&(d.expiredLanes|=ue),D&=~ue}}function ey(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function ty(d){for(var p=[],w=0;31>w;w++)p.push(d);return p}function ef(d,p,w){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-as(p),d[p]=w}function VL(d,p){var w=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<w;){var M=31-as(w),D=1<<M;p[M]=0,A[M]=-1,d[M]=-1,w&=~D}}function ny(d,p){var w=d.entangledLanes|=p;for(d=d.entanglements;w;){var A=31-as(w),M=1<<A;M&p|d[A]&p&&(d[A]|=p),w&=~M}}var Kt=0;function Jx(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var ry=i.unstable_scheduleCallback,qx=i.unstable_cancelCallback,WL=i.unstable_shouldYield,jL=i.unstable_requestPaint,er=i.unstable_now,iy=i.unstable_ImmediatePriority,ZL=i.unstable_UserBlockingPriority,sy=i.unstable_NormalPriority,JL=i.unstable_IdlePriority,T0=null,Ls=null;function qL(d){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(T0,d,void 0,(d.current.flags&128)===128)}catch{}}function XL(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Os=typeof Object.is=="function"?Object.is:XL,co=null,M0=!1,oy=!1;function Xx(d){co===null?co=[d]:co.push(d)}function KL(d){M0=!0,Xx(d)}function Fs(){if(!oy&&co!==null){oy=!0;var d=0,p=Kt;try{var w=co;for(Kt=1;d<w.length;d++){var A=w[d];do A=A(!0);while(A!==null)}co=null,M0=!1}catch(M){throw co!==null&&(co=co.slice(d+1)),ry(iy,Fs),M}finally{Kt=p,oy=!1}}return null}var YL=a.ReactCurrentBatchConfig;function E0(d,p){if(Os(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var w=Object.keys(d),A=Object.keys(p);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var M=w[A];if(!tt.call(p,M)||!Os(d[M],p[M]))return!1}return!0}function QL(d){switch(d.tag){case 5:return Ae(d.type);case 16:return Ae("Lazy");case 13:return Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 2:case 15:return d=Ke(d.type,!1),d;case 11:return d=Ke(d.type.render,!1),d;case 1:return d=Ke(d.type,!0),d;default:return""}}function ls(d,p){if(d&&d.defaultProps){p=s({},p),d=d.defaultProps;for(var w in d)p[w]===void 0&&(p[w]=d[w]);return p}return p}var P0=hi(null),I0=null,ju=null,ay=null;function ly(){ay=ju=I0=null}function Kx(d,p,w){F?(jt(P0,p._currentValue),p._currentValue=w):(jt(P0,p._currentValue2),p._currentValue2=w)}function uy(d){var p=P0.current;Tt(P0),F?d._currentValue=p:d._currentValue2=p}function cy(d,p,w){for(;d!==null;){var A=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),d===w)break;d=d.return}}function Zu(d,p){I0=d,ay=ju=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(gi=!0),d.firstContext=null)}function ki(d){var p=F?d._currentValue:d._currentValue2;if(ay!==d)if(d={context:d,memoizedValue:p,next:null},ju===null){if(I0===null)throw Error(o(308));ju=d,I0.dependencies={lanes:0,firstContext:d}}else ju=ju.next=d;return p}var Ns=null,Yo=!1;function dy(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yx(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function fo(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Qo(d,p){var w=d.updateQueue;w!==null&&(w=w.shared,Fn!==null&&d.mode&1&&!(Nt&2)?(d=w.interleaved,d===null?(p.next=p,Ns===null?Ns=[w]:Ns.push(w)):(p.next=d.next,d.next=p),w.interleaved=p):(d=w.pending,d===null?p.next=p:(p.next=d.next,d.next=p),w.pending=p))}function R0(d,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var A=p.lanes;A&=d.pendingLanes,w|=A,p.lanes=w,ny(d,w)}}function Qx(d,p){var w=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var M=null,D=null;if(w=w.firstBaseUpdate,w!==null){do{var X={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};D===null?M=D=X:D=D.next=X,w=w.next}while(w!==null);D===null?M=D=p:D=D.next=p}else M=D=p;w={baseState:A.baseState,firstBaseUpdate:M,lastBaseUpdate:D,shared:A.shared,effects:A.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=p:d.next=p,w.lastBaseUpdate=p}function B0(d,p,w,A){var M=d.updateQueue;Yo=!1;var D=M.firstBaseUpdate,X=M.lastBaseUpdate,ue=M.shared.pending;if(ue!==null){M.shared.pending=null;var Te=ue,ze=Te.next;Te.next=null,X===null?D=ze:X.next=ze,X=Te;var st=d.alternate;st!==null&&(st=st.updateQueue,ue=st.lastBaseUpdate,ue!==X&&(ue===null?st.firstBaseUpdate=ze:ue.next=ze,st.lastBaseUpdate=Te))}if(D!==null){var Pt=M.baseState;X=0,st=ze=Te=null,ue=D;do{var wt=ue.lane,sn=ue.eventTime;if((A&wt)===wt){st!==null&&(st=st.next={eventTime:sn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var mt=d,Sr=ue;switch(wt=p,sn=w,Sr.tag){case 1:if(mt=Sr.payload,typeof mt=="function"){Pt=mt.call(sn,Pt,wt);break e}Pt=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Sr.payload,wt=typeof mt=="function"?mt.call(sn,Pt,wt):mt,wt==null)break e;Pt=s({},Pt,wt);break e;case 2:Yo=!0}}ue.callback!==null&&ue.lane!==0&&(d.flags|=64,wt=M.effects,wt===null?M.effects=[ue]:wt.push(ue))}else sn={eventTime:sn,lane:wt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},st===null?(ze=st=sn,Te=Pt):st=st.next=sn,X|=wt;if(ue=ue.next,ue===null){if(ue=M.shared.pending,ue===null)break;wt=ue,ue=wt.next,wt.next=null,M.lastBaseUpdate=wt,M.shared.pending=null}}while(1);if(st===null&&(Te=Pt),M.baseState=Te,M.firstBaseUpdate=ze,M.lastBaseUpdate=st,p=M.shared.interleaved,p!==null){M=p;do X|=M.lane,M=M.next;while(M!==p)}else D===null&&(M.shared.lanes=0);tc|=X,d.lanes=X,d.memoizedState=Pt}}function $x(d,p,w){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var A=d[p],M=A.callback;if(M!==null){if(A.callback=null,A=w,typeof M!="function")throw Error(o(191,M));M.call(A)}}}var ew=new r.Component().refs;function fy(d,p,w,A){p=d.memoizedState,w=w(A,p),w=w==null?p:s({},p,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var D0={isMounted:function(d){return(d=d._reactInternals)?P(d)===d:!1},enqueueSetState:function(d,p,w){d=d._reactInternals;var A=Nr(),M=ta(d),D=fo(A,M);D.payload=p,w!=null&&(D.callback=w),Qo(d,D),p=Ui(d,M,A),p!==null&&R0(p,d,M)},enqueueReplaceState:function(d,p,w){d=d._reactInternals;var A=Nr(),M=ta(d),D=fo(A,M);D.tag=1,D.payload=p,w!=null&&(D.callback=w),Qo(d,D),p=Ui(d,M,A),p!==null&&R0(p,d,M)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var w=Nr(),A=ta(d),M=fo(w,A);M.tag=2,p!=null&&(M.callback=p),Qo(d,M),p=Ui(d,A,w),p!==null&&R0(p,d,A)}};function tw(d,p,w,A,M,D,X){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,D,X):p.prototype&&p.prototype.isPureReactComponent?!E0(w,A)||!E0(M,D):!0}function nw(d,p,w){var A=!1,M=Di,D=p.contextType;return typeof D=="object"&&D!==null?D=ki(D):(M=$r(p)?lo:tn.current,A=p.contextTypes,D=(A=A!=null)?uo(d,M):Di),p=new p(w,D),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=D0,d.stateNode=p,p._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=M,d.__reactInternalMemoizedMaskedChildContext=D),p}function rw(d,p,w,A){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,A),p.state!==d&&D0.enqueueReplaceState(p,p.state,null)}function hy(d,p,w,A){var M=d.stateNode;M.props=w,M.state=d.memoizedState,M.refs=ew,dy(d);var D=p.contextType;typeof D=="object"&&D!==null?M.context=ki(D):(D=$r(p)?lo:tn.current,M.context=uo(d,D)),M.state=d.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(fy(d,p,D,w),M.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(p=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),p!==M.state&&D0.enqueueReplaceState(M,M.state,null),B0(d,w,M,A),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308)}var Ju=[],qu=0,k0=null,L0=0,Li=[],Oi=0,gl=null,ho=1,po="";function yl(d,p){Ju[qu++]=L0,Ju[qu++]=k0,k0=d,L0=p}function iw(d,p,w){Li[Oi++]=ho,Li[Oi++]=po,Li[Oi++]=gl,gl=d;var A=ho;d=po;var M=32-as(A)-1;A&=~(1<<M),w+=1;var D=32-as(p)+M;if(30<D){var X=M-M%5;D=(A&(1<<X)-1).toString(32),A>>=X,M-=X,ho=1<<32-as(p)+M|w<<M|A,po=D+d}else ho=1<<D|w<<M|A,po=d}function py(d){d.return!==null&&(yl(d,1),iw(d,1,0))}function my(d){for(;d===k0;)k0=Ju[--qu],Ju[qu]=null,L0=Ju[--qu],Ju[qu]=null;for(;d===gl;)gl=Li[--Oi],Li[Oi]=null,po=Li[--Oi],Li[Oi]=null,ho=Li[--Oi],Li[Oi]=null}var pi=null,mi=null,mn=!1,tf=!1,us=null;function sw(d,p){var w=Gi(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=d,p=d.deletions,p===null?(d.deletions=[w],d.flags|=16):p.push(w)}function ow(d,p){switch(d.tag){case 5:return p=Rn(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,pi=d,mi=Ee(p),!0):!1;case 6:return p=Vu(p,d.pendingProps),p!==null?(d.stateNode=p,pi=d,mi=null,!0):!1;case 13:if(p=Qd(p),p!==null){var w=gl!==null?{id:ho,overflow:po}:null;return d.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Gi(18,null,null,0),w.stateNode=p,w.return=d,d.child=w,pi=d,mi=null,!0}return!1;default:return!1}}function gy(d){return(d.mode&1)!==0&&(d.flags&128)===0}function yy(d){if(mn){var p=mi;if(p){var w=p;if(!ow(d,p)){if(gy(d))throw Error(o(418));p=ye(w);var A=pi;p&&ow(d,p)?sw(A,w):(d.flags=d.flags&-4097|2,mn=!1,pi=d)}}else{if(gy(d))throw Error(o(418));d.flags=d.flags&-4097|2,mn=!1,pi=d}}}function aw(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;pi=d}function nf(d){if(!re||d!==pi)return!1;if(!mn)return aw(d),mn=!0,!1;if(d.tag!==3&&(d.tag!==5||L(d.type)&&!Me(d.type,d.memoizedProps))){var p=mi;if(p){if(gy(d)){for(d=mi;d;)d=ye(d);throw Error(o(418))}for(;p;)sw(d,p),p=ye(p)}}if(aw(d),d.tag===13){if(!re)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));mi=Lt(d)}else mi=pi?ye(d.stateNode):null;return!0}function Xu(){re&&(mi=pi=null,tf=mn=!1)}function vy(d){us===null?us=[d]:us.push(d)}function rf(d,p,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var A=w.stateNode}if(!A)throw Error(o(147,d));var M=A,D=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===D?p.ref:(p=function(X){var ue=M.refs;ue===ew&&(ue=M.refs={}),X===null?delete ue[D]:ue[D]=X},p._stringRef=D,p)}if(typeof d!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,d))}return d}function O0(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function lw(d){var p=d._init;return p(d._payload)}function uw(d){function p(xe,fe){if(d){var _e=xe.deletions;_e===null?(xe.deletions=[fe],xe.flags|=16):_e.push(fe)}}function w(xe,fe){if(!d)return null;for(;fe!==null;)p(xe,fe),fe=fe.sibling;return null}function A(xe,fe){for(xe=new Map;fe!==null;)fe.key!==null?xe.set(fe.key,fe):xe.set(fe.index,fe),fe=fe.sibling;return xe}function M(xe,fe){return xe=ra(xe,fe),xe.index=0,xe.sibling=null,xe}function D(xe,fe,_e){return xe.index=_e,d?(_e=xe.alternate,_e!==null?(_e=_e.index,_e<fe?(xe.flags|=2,fe):_e):(xe.flags|=2,fe)):(xe.flags|=1048576,fe)}function X(xe){return d&&xe.alternate===null&&(xe.flags|=2),xe}function ue(xe,fe,_e,$e){return fe===null||fe.tag!==6?(fe=tv(_e,xe.mode,$e),fe.return=xe,fe):(fe=M(fe,_e),fe.return=xe,fe)}function Te(xe,fe,_e,$e){var ht=_e.type;return ht===c?st(xe,fe,_e.props.children,$e,_e.key):fe!==null&&(fe.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&lw(ht)===fe.type)?($e=M(fe,_e.props),$e.ref=rf(xe,fe,_e),$e.return=xe,$e):($e=hm(_e.type,_e.key,_e.props,null,xe.mode,$e),$e.ref=rf(xe,fe,_e),$e.return=xe,$e)}function ze(xe,fe,_e,$e){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==_e.containerInfo||fe.stateNode.implementation!==_e.implementation?(fe=nv(_e,xe.mode,$e),fe.return=xe,fe):(fe=M(fe,_e.children||[]),fe.return=xe,fe)}function st(xe,fe,_e,$e,ht){return fe===null||fe.tag!==7?(fe=Sl(_e,xe.mode,$e,ht),fe.return=xe,fe):(fe=M(fe,_e),fe.return=xe,fe)}function Pt(xe,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=tv(""+fe,xe.mode,_e),fe.return=xe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return _e=hm(fe.type,fe.key,fe.props,null,xe.mode,_e),_e.ref=rf(xe,null,fe),_e.return=xe,_e;case u:return fe=nv(fe,xe.mode,_e),fe.return=xe,fe;case b:var $e=fe._init;return Pt(xe,$e(fe._payload),_e)}if($(fe)||T(fe))return fe=Sl(fe,xe.mode,_e,null),fe.return=xe,fe;O0(xe,fe)}return null}function wt(xe,fe,_e,$e){var ht=fe!==null?fe.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return ht!==null?null:ue(xe,fe,""+_e,$e);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===ht?Te(xe,fe,_e,$e):null;case u:return _e.key===ht?ze(xe,fe,_e,$e):null;case b:return ht=_e._init,wt(xe,fe,ht(_e._payload),$e)}if($(_e)||T(_e))return ht!==null?null:st(xe,fe,_e,$e,null);O0(xe,_e)}return null}function sn(xe,fe,_e,$e,ht){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return xe=xe.get(_e)||null,ue(fe,xe,""+$e,ht);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return xe=xe.get($e.key===null?_e:$e.key)||null,Te(fe,xe,$e,ht);case u:return xe=xe.get($e.key===null?_e:$e.key)||null,ze(fe,xe,$e,ht);case b:var Ot=$e._init;return sn(xe,fe,_e,Ot($e._payload),ht)}if($($e)||T($e))return xe=xe.get(_e)||null,st(fe,xe,$e,ht,null);O0(fe,$e)}return null}function mt(xe,fe,_e,$e){for(var ht=null,Ot=null,It=fe,Yt=fe=0,nr=null;It!==null&&Yt<_e.length;Yt++){It.index>Yt?(nr=It,It=null):nr=It.sibling;var Qt=wt(xe,It,_e[Yt],$e);if(Qt===null){It===null&&(It=nr);break}d&&It&&Qt.alternate===null&&p(xe,It),fe=D(Qt,fe,Yt),Ot===null?ht=Qt:Ot.sibling=Qt,Ot=Qt,It=nr}if(Yt===_e.length)return w(xe,It),mn&&yl(xe,Yt),ht;if(It===null){for(;Yt<_e.length;Yt++)It=Pt(xe,_e[Yt],$e),It!==null&&(fe=D(It,fe,Yt),Ot===null?ht=It:Ot.sibling=It,Ot=It);return mn&&yl(xe,Yt),ht}for(It=A(xe,It);Yt<_e.length;Yt++)nr=sn(It,xe,Yt,_e[Yt],$e),nr!==null&&(d&&nr.alternate!==null&&It.delete(nr.key===null?Yt:nr.key),fe=D(nr,fe,Yt),Ot===null?ht=nr:Ot.sibling=nr,Ot=nr);return d&&It.forEach(function(ia){return p(xe,ia)}),mn&&yl(xe,Yt),ht}function Sr(xe,fe,_e,$e){var ht=T(_e);if(typeof ht!="function")throw Error(o(150));if(_e=ht.call(_e),_e==null)throw Error(o(151));for(var Ot=ht=null,It=fe,Yt=fe=0,nr=null,Qt=_e.next();It!==null&&!Qt.done;Yt++,Qt=_e.next()){It.index>Yt?(nr=It,It=null):nr=It.sibling;var ia=wt(xe,It,Qt.value,$e);if(ia===null){It===null&&(It=nr);break}d&&It&&ia.alternate===null&&p(xe,It),fe=D(ia,fe,Yt),Ot===null?ht=ia:Ot.sibling=ia,Ot=ia,It=nr}if(Qt.done)return w(xe,It),mn&&yl(xe,Yt),ht;if(It===null){for(;!Qt.done;Yt++,Qt=_e.next())Qt=Pt(xe,Qt.value,$e),Qt!==null&&(fe=D(Qt,fe,Yt),Ot===null?ht=Qt:Ot.sibling=Qt,Ot=Qt);return mn&&yl(xe,Yt),ht}for(It=A(xe,It);!Qt.done;Yt++,Qt=_e.next())Qt=sn(It,xe,Yt,Qt.value,$e),Qt!==null&&(d&&Qt.alternate!==null&&It.delete(Qt.key===null?Yt:Qt.key),fe=D(Qt,fe,Yt),Ot===null?ht=Qt:Ot.sibling=Qt,Ot=Qt);return d&&It.forEach(function(EO){return p(xe,EO)}),mn&&yl(xe,Yt),ht}function zi(xe,fe,_e,$e){if(typeof _e=="object"&&_e!==null&&_e.type===c&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var ht=_e.key,Ot=fe;Ot!==null;){if(Ot.key===ht){if(ht=_e.type,ht===c){if(Ot.tag===7){w(xe,Ot.sibling),fe=M(Ot,_e.props.children),fe.return=xe,xe=fe;break e}}else if(Ot.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&lw(ht)===Ot.type){w(xe,Ot.sibling),fe=M(Ot,_e.props),fe.ref=rf(xe,Ot,_e),fe.return=xe,xe=fe;break e}w(xe,Ot);break}else p(xe,Ot);Ot=Ot.sibling}_e.type===c?(fe=Sl(_e.props.children,xe.mode,$e,_e.key),fe.return=xe,xe=fe):($e=hm(_e.type,_e.key,_e.props,null,xe.mode,$e),$e.ref=rf(xe,fe,_e),$e.return=xe,xe=$e)}return X(xe);case u:e:{for(Ot=_e.key;fe!==null;){if(fe.key===Ot)if(fe.tag===4&&fe.stateNode.containerInfo===_e.containerInfo&&fe.stateNode.implementation===_e.implementation){w(xe,fe.sibling),fe=M(fe,_e.children||[]),fe.return=xe,xe=fe;break e}else{w(xe,fe);break}else p(xe,fe);fe=fe.sibling}fe=nv(_e,xe.mode,$e),fe.return=xe,xe=fe}return X(xe);case b:return Ot=_e._init,zi(xe,fe,Ot(_e._payload),$e)}if($(_e))return mt(xe,fe,_e,$e);if(T(_e))return Sr(xe,fe,_e,$e);O0(xe,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,fe!==null&&fe.tag===6?(w(xe,fe.sibling),fe=M(fe,_e),fe.return=xe,xe=fe):(w(xe,fe),fe=tv(_e,xe.mode,$e),fe.return=xe,xe=fe),X(xe)):w(xe,fe)}return zi}var Ku=uw(!0),cw=uw(!1),sf={},Fi=hi(sf),of=hi(sf),Yu=hi(sf);function Us(d){if(d===sf)throw Error(o(174));return d}function xy(d,p){jt(Yu,p),jt(of,d),jt(Fi,sf),d=ce(p),Tt(Fi),jt(Fi,d)}function Qu(){Tt(Fi),Tt(of),Tt(Yu)}function dw(d){var p=Us(Yu.current),w=Us(Fi.current);p=N(w,d.type,p),w!==p&&(jt(of,d),jt(Fi,p))}function wy(d){of.current===d&&(Tt(Fi),Tt(of))}var xn=hi(0);function F0(d){for(var p=d;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Wu(w)||ml(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var by=[];function _y(){for(var d=0;d<by.length;d++){var p=by[d];F?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}by.length=0}var N0=a.ReactCurrentDispatcher,Ni=a.ReactCurrentBatchConfig,$u=0,Tn=null,br=null,tr=null,U0=!1,af=!1,lf=0,$L=0;function _r(){throw Error(o(321))}function Ay(d,p){if(p===null)return!1;for(var w=0;w<p.length&&w<d.length;w++)if(!Os(d[w],p[w]))return!1;return!0}function Sy(d,p,w,A,M,D){if($u=D,Tn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,N0.current=d===null||d.memoizedState===null?rO:iO,d=w(A,M),af){D=0;do{if(af=!1,lf=0,25<=D)throw Error(o(301));D+=1,tr=br=null,p.updateQueue=null,N0.current=sO,d=w(A,M)}while(af)}if(N0.current=W0,p=br!==null&&br.next!==null,$u=0,tr=br=Tn=null,U0=!1,p)throw Error(o(300));return d}function Cy(){var d=lf!==0;return lf=0,d}function mo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Tn.memoizedState=tr=d:tr=tr.next=d,tr}function Gs(){if(br===null){var d=Tn.alternate;d=d!==null?d.memoizedState:null}else d=br.next;var p=tr===null?Tn.memoizedState:tr.next;if(p!==null)tr=p,br=d;else{if(d===null)throw Error(o(310));br=d,d={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},tr===null?Tn.memoizedState=tr=d:tr=tr.next=d}return tr}function vl(d,p){return typeof p=="function"?p(d):p}function G0(d){var p=Gs(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=br,M=A.baseQueue,D=w.pending;if(D!==null){if(M!==null){var X=M.next;M.next=D.next,D.next=X}A.baseQueue=M=D,w.pending=null}if(M!==null){D=M.next,A=A.baseState;var ue=X=null,Te=null,ze=D;do{var st=ze.lane;if(($u&st)===st)Te!==null&&(Te=Te.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),A=ze.hasEagerState?ze.eagerState:d(A,ze.action);else{var Pt={lane:st,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};Te===null?(ue=Te=Pt,X=A):Te=Te.next=Pt,Tn.lanes|=st,tc|=st}ze=ze.next}while(ze!==null&&ze!==D);Te===null?X=A:Te.next=ue,Os(A,p.memoizedState)||(gi=!0),p.memoizedState=A,p.baseState=X,p.baseQueue=Te,w.lastRenderedState=A}if(d=w.interleaved,d!==null){M=d;do D=M.lane,Tn.lanes|=D,tc|=D,M=M.next;while(M!==d)}else M===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function z0(d){var p=Gs(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=w.dispatch,M=w.pending,D=p.memoizedState;if(M!==null){w.pending=null;var X=M=M.next;do D=d(D,X.action),X=X.next;while(X!==M);Os(D,p.memoizedState)||(gi=!0),p.memoizedState=D,p.baseQueue===null&&(p.baseState=D),w.lastRenderedState=D}return[D,A]}function fw(){}function hw(d,p){var w=Tn,A=Gs(),M=p(),D=!Os(A.memoizedState,M);if(D&&(A.memoizedState=M,gi=!0),A=A.queue,cf(gw.bind(null,w,A,d),[d]),A.getSnapshot!==p||D||tr!==null&&tr.memoizedState.tag&1){if(w.flags|=2048,uf(9,mw.bind(null,w,A,M,p),void 0,null),Fn===null)throw Error(o(349));$u&30||pw(w,p,M)}return M}function pw(d,p,w){d.flags|=16384,d={getSnapshot:p,value:w},p=Tn.updateQueue,p===null?(p={lastEffect:null,stores:null},Tn.updateQueue=p,p.stores=[d]):(w=p.stores,w===null?p.stores=[d]:w.push(d))}function mw(d,p,w,A){p.value=w,p.getSnapshot=A,yw(p)&&Ui(d,1,-1)}function gw(d,p,w){return w(function(){yw(p)&&Ui(d,1,-1)})}function yw(d){var p=d.getSnapshot;d=d.value;try{var w=p();return!Os(d,w)}catch{return!0}}function Ty(d){var p=mo();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:d},p.queue=d,d=d.dispatch=nO.bind(null,Tn,d),[p.memoizedState,d]}function uf(d,p,w,A){return d={tag:d,create:p,destroy:w,deps:A,next:null},p=Tn.updateQueue,p===null?(p={lastEffect:null,stores:null},Tn.updateQueue=p,p.lastEffect=d.next=d):(w=p.lastEffect,w===null?p.lastEffect=d.next=d:(A=w.next,w.next=d,d.next=A,p.lastEffect=d)),d}function vw(){return Gs().memoizedState}function H0(d,p,w,A){var M=mo();Tn.flags|=d,M.memoizedState=uf(1|p,w,void 0,A===void 0?null:A)}function V0(d,p,w,A){var M=Gs();A=A===void 0?null:A;var D=void 0;if(br!==null){var X=br.memoizedState;if(D=X.destroy,A!==null&&Ay(A,X.deps)){M.memoizedState=uf(p,w,D,A);return}}Tn.flags|=d,M.memoizedState=uf(1|p,w,D,A)}function My(d,p){return H0(8390656,8,d,p)}function cf(d,p){return V0(2048,8,d,p)}function xw(d,p){return V0(4,2,d,p)}function ww(d,p){return V0(4,4,d,p)}function bw(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function _w(d,p,w){return w=w!=null?w.concat([d]):null,V0(4,4,bw.bind(null,p,d),w)}function Ey(){}function Aw(d,p){var w=Gs();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&Ay(p,A[1])?A[0]:(w.memoizedState=[d,p],d)}function Sw(d,p){var w=Gs();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&Ay(p,A[1])?A[0]:(d=d(),w.memoizedState=[d,p],d)}function eO(d,p){var w=Kt;Kt=w!==0&&4>w?w:4,d(!0);var A=Ni.transition;Ni.transition={};try{d(!1),p()}finally{Kt=w,Ni.transition=A}}function Cw(){return Gs().memoizedState}function tO(d,p,w){var A=ta(d);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},Tw(d)?Mw(p,w):(Ew(d,p,w),w=Nr(),d=Ui(d,A,w),d!==null&&Pw(d,p,A))}function nO(d,p,w){var A=ta(d),M={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(Tw(d))Mw(p,M);else{Ew(d,p,M);var D=d.alternate;if(d.lanes===0&&(D===null||D.lanes===0)&&(D=p.lastRenderedReducer,D!==null))try{var X=p.lastRenderedState,ue=D(X,w);if(M.hasEagerState=!0,M.eagerState=ue,Os(ue,X))return}catch{}finally{}w=Nr(),d=Ui(d,A,w),d!==null&&Pw(d,p,A)}}function Tw(d){var p=d.alternate;return d===Tn||p!==null&&p===Tn}function Mw(d,p){af=U0=!0;var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}function Ew(d,p,w){Fn!==null&&d.mode&1&&!(Nt&2)?(d=p.interleaved,d===null?(w.next=w,Ns===null?Ns=[p]:Ns.push(p)):(w.next=d.next,d.next=w),p.interleaved=w):(d=p.pending,d===null?w.next=w:(w.next=d.next,d.next=w),p.pending=w)}function Pw(d,p,w){if(w&4194240){var A=p.lanes;A&=d.pendingLanes,w|=A,p.lanes=w,ny(d,w)}}var W0={readContext:ki,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},rO={readContext:ki,useCallback:function(d,p){return mo().memoizedState=[d,p===void 0?null:p],d},useContext:ki,useEffect:My,useImperativeHandle:function(d,p,w){return w=w!=null?w.concat([d]):null,H0(4194308,4,bw.bind(null,p,d),w)},useLayoutEffect:function(d,p){return H0(4194308,4,d,p)},useInsertionEffect:function(d,p){return H0(4,2,d,p)},useMemo:function(d,p){var w=mo();return p=p===void 0?null:p,d=d(),w.memoizedState=[d,p],d},useReducer:function(d,p,w){var A=mo();return p=w!==void 0?w(p):p,A.memoizedState=A.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},A.queue=d,d=d.dispatch=tO.bind(null,Tn,d),[A.memoizedState,d]},useRef:function(d){var p=mo();return d={current:d},p.memoizedState=d},useState:Ty,useDebugValue:Ey,useDeferredValue:function(d){var p=Ty(d),w=p[0],A=p[1];return My(function(){var M=Ni.transition;Ni.transition={};try{A(d)}finally{Ni.transition=M}},[d]),w},useTransition:function(){var d=Ty(!1),p=d[0];return d=eO.bind(null,d[1]),mo().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,w){var A=Tn,M=mo();if(mn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=p(),Fn===null)throw Error(o(349));$u&30||pw(A,p,w)}M.memoizedState=w;var D={value:w,getSnapshot:p};return M.queue=D,My(gw.bind(null,A,D,d),[d]),A.flags|=2048,uf(9,mw.bind(null,A,D,w,p),void 0,null),w},useId:function(){var d=mo(),p=Fn.identifierPrefix;if(mn){var w=po,A=ho;w=(A&~(1<<32-as(A)-1)).toString(32)+w,p=":"+p+"R"+w,w=lf++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=$L++,p=":"+p+"r"+w.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},iO={readContext:ki,useCallback:Aw,useContext:ki,useEffect:cf,useImperativeHandle:_w,useInsertionEffect:xw,useLayoutEffect:ww,useMemo:Sw,useReducer:G0,useRef:vw,useState:function(){return G0(vl)},useDebugValue:Ey,useDeferredValue:function(d){var p=G0(vl),w=p[0],A=p[1];return cf(function(){var M=Ni.transition;Ni.transition={};try{A(d)}finally{Ni.transition=M}},[d]),w},useTransition:function(){var d=G0(vl)[0],p=Gs().memoizedState;return[d,p]},useMutableSource:fw,useSyncExternalStore:hw,useId:Cw,unstable_isNewReconciler:!1},sO={readContext:ki,useCallback:Aw,useContext:ki,useEffect:cf,useImperativeHandle:_w,useInsertionEffect:xw,useLayoutEffect:ww,useMemo:Sw,useReducer:z0,useRef:vw,useState:function(){return z0(vl)},useDebugValue:Ey,useDeferredValue:function(d){var p=z0(vl),w=p[0],A=p[1];return cf(function(){var M=Ni.transition;Ni.transition={};try{A(d)}finally{Ni.transition=M}},[d]),w},useTransition:function(){var d=z0(vl)[0],p=Gs().memoizedState;return[d,p]},useMutableSource:fw,useSyncExternalStore:hw,useId:Cw,unstable_isNewReconciler:!1};function Py(d,p){try{var w="",A=p;do w+=QL(A),A=A.return;while(A);var M=w}catch(D){M=`
Error generating stack: `+D.message+`
`+D.stack}return{value:d,source:p,stack:M}}function Iy(d,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var oO=typeof WeakMap=="function"?WeakMap:Map;function Iw(d,p,w){w=fo(-1,w),w.tag=3,w.payload={element:null};var A=p.value;return w.callback=function(){om||(om=!0,qy=A),Iy(d,p)},w}function Rw(d,p,w){w=fo(-1,w),w.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var M=p.value;w.payload=function(){return A(M)},w.callback=function(){Iy(d,p)}}var D=d.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(w.callback=function(){Iy(d,p),typeof A!="function"&&($o===null?$o=new Set([this]):$o.add(this));var X=p.stack;this.componentDidCatch(p.value,{componentStack:X!==null?X:""})}),w}function Bw(d,p,w){var A=d.pingCache;if(A===null){A=d.pingCache=new oO;var M=new Set;A.set(p,M)}else M=A.get(p),M===void 0&&(M=new Set,A.set(p,M));M.has(w)||(M.add(w),d=wO.bind(null,d,p,w),p.then(d,d))}function Dw(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function kw(d,p,w,A,M){return d.mode&1?(d.flags|=65536,d.lanes=M,d):(d===p?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=fo(-1,1),p.tag=2,Qo(w,p))),w.lanes|=1),d)}function zs(d){d.flags|=4}function Lw(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var df,ff,j0,Z0;if(Y)df=function(d,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)te(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},ff=function(){},j0=function(d,p,w,A,M){if(d=d.memoizedProps,d!==A){var D=p.stateNode,X=Us(Fi.current);w=Pe(D,w,d,A,M,X),(p.updateQueue=w)&&zs(p)}},Z0=function(d,p,w,A){w!==A&&zs(p)};else if(ie){df=function(d,p,w,A){for(var M=p.child;M!==null;){if(M.tag===5){var D=M.stateNode;w&&A&&(D=Vt(D,M.type,M.memoizedProps,M)),te(d,D)}else if(M.tag===6)D=M.stateNode,w&&A&&(D=On(D,M.memoizedProps,M)),te(d,D);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)D=M.child,D!==null&&(D.return=M),df(d,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var Ow=function(d,p,w,A){for(var M=p.child;M!==null;){if(M.tag===5){var D=M.stateNode;w&&A&&(D=Vt(D,M.type,M.memoizedProps,M)),qt(d,D)}else if(M.tag===6)D=M.stateNode,w&&A&&(D=On(D,M.memoizedProps,M)),qt(d,D);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)D=M.child,D!==null&&(D.return=M),Ow(d,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};ff=function(d,p){var w=p.stateNode;if(!Lw(d,p)){d=w.containerInfo;var A=Ut(d);Ow(A,p,!1,!1),w.pendingChildren=A,zs(p),en(d,A)}},j0=function(d,p,w,A,M){var D=d.stateNode,X=d.memoizedProps;if((d=Lw(d,p))&&X===A)p.stateNode=D;else{var ue=p.stateNode,Te=Us(Fi.current),ze=null;X!==A&&(ze=Pe(ue,w,X,A,M,Te)),d&&ze===null?p.stateNode=D:(D=dt(D,ze,w,X,A,p,d,ue),ge(D,w,A,M,Te)&&zs(p),p.stateNode=D,d?zs(p):df(D,p,!1,!1))}},Z0=function(d,p,w,A){w!==A?(d=Us(Yu.current),w=Us(Fi.current),p.stateNode=de(A,d,w,p),zs(p)):p.stateNode=d.stateNode}}else ff=function(){},j0=function(){},Z0=function(){};function hf(d,p){if(!mn)switch(d.tailMode){case"hidden":p=d.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Ar(d){var p=d.alternate!==null&&d.alternate.child===d.child,w=0,A=0;if(p)for(var M=d.child;M!==null;)w|=M.lanes|M.childLanes,A|=M.subtreeFlags&14680064,A|=M.flags&14680064,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)w|=M.lanes|M.childLanes,A|=M.subtreeFlags,A|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=A,d.childLanes=w,p}function aO(d,p,w){var A=p.pendingProps;switch(my(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(p),null;case 1:return $r(p.type)&&b0(),Ar(p),null;case 3:return A=p.stateNode,Qu(),Tt($n),Tt(tn),_y(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(nf(p)?zs(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,us!==null&&(Yy(us),us=null))),ff(d,p),Ar(p),null;case 5:wy(p),w=Us(Yu.current);var M=p.type;if(d!==null&&p.stateNode!=null)j0(d,p,M,A,w),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(o(166));return Ar(p),null}if(d=Us(Fi.current),nf(p)){if(!re)throw Error(o(175));d=yt(p.stateNode,p.type,p.memoizedProps,w,d,p,!tf),p.updateQueue=d,d!==null&&zs(p)}else{var D=oe(M,A,w,d,p);df(D,p,!1,!1),p.stateNode=D,ge(D,M,A,w,d)&&zs(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ar(p),null;case 6:if(d&&p.stateNode!=null)Z0(d,p,d.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(o(166));if(d=Us(Yu.current),w=Us(Fi.current),nf(p)){if(!re)throw Error(o(176));if(d=p.stateNode,A=p.memoizedProps,(w=_t(d,A,p,!tf))&&(M=pi,M!==null))switch(D=(M.mode&1)!==0,M.tag){case 3:z(M.stateNode.containerInfo,d,A,D);break;case 5:ae(M.type,M.memoizedProps,M.stateNode,d,A,D)}w&&zs(p)}else p.stateNode=de(A,d,w,p)}return Ar(p),null;case 13:if(Tt(xn),A=p.memoizedState,mn&&mi!==null&&p.mode&1&&!(p.flags&128)){for(d=mi;d;)d=ye(d);return Xu(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=nf(p),d===null){if(!A)throw Error(o(318));if(!re)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Rt(d,p)}else Xu(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Ar(p),null}return us!==null&&(Yy(us),us=null),p.flags&128?(p.lanes=w,p):(A=A!==null,w=!1,d===null?nf(p):w=d.memoizedState!==null,A&&!w&&(p.child.flags|=8192,p.mode&1&&(d===null||xn.current&1?jn===0&&(jn=3):$y())),p.updateQueue!==null&&(p.flags|=4),Ar(p),null);case 4:return Qu(),ff(d,p),d===null&&Le(p.stateNode.containerInfo),Ar(p),null;case 10:return uy(p.type._context),Ar(p),null;case 17:return $r(p.type)&&b0(),Ar(p),null;case 19:if(Tt(xn),M=p.memoizedState,M===null)return Ar(p),null;if(A=(p.flags&128)!==0,D=M.rendering,D===null)if(A)hf(M,!1);else{if(jn!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(D=F0(d),D!==null){for(p.flags|=128,hf(M,!1),d=D.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=w,A=p.child;A!==null;)w=A,M=d,w.flags&=14680066,D=w.alternate,D===null?(w.childLanes=0,w.lanes=M,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=D.childLanes,w.lanes=D.lanes,w.child=D.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=D.memoizedProps,w.memoizedState=D.memoizedState,w.updateQueue=D.updateQueue,w.type=D.type,M=D.dependencies,w.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),A=A.sibling;return jt(xn,xn.current&1|2),p.child}d=d.sibling}M.tail!==null&&er()>Jy&&(p.flags|=128,A=!0,hf(M,!1),p.lanes=4194304)}else{if(!A)if(d=F0(D),d!==null){if(p.flags|=128,A=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),hf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!D.alternate&&!mn)return Ar(p),null}else 2*er()-M.renderingStartTime>Jy&&w!==1073741824&&(p.flags|=128,A=!0,hf(M,!1),p.lanes=4194304);M.isBackwards?(D.sibling=p.child,p.child=D):(d=M.last,d!==null?d.sibling=D:p.child=D,M.last=D)}return M.tail!==null?(p=M.tail,M.rendering=p,M.tail=p.sibling,M.renderingStartTime=er(),p.sibling=null,d=xn.current,jt(xn,A?d&1|2:d&1),p):(Ar(p),null);case 22:case 23:return Qy(),A=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?yi&1073741824&&(Ar(p),Y&&p.subtreeFlags&6&&(p.flags|=8192)):Ar(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var lO=a.ReactCurrentOwner,gi=!1;function Fr(d,p,w,A){p.child=d===null?cw(p,null,w,A):Ku(p,d.child,w,A)}function Fw(d,p,w,A,M){w=w.render;var D=p.ref;return Zu(p,M),A=Sy(d,p,w,A,D,M),w=Cy(),d!==null&&!gi?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~M,go(d,p,M)):(mn&&w&&py(p),p.flags|=1,Fr(d,p,A,M),p.child)}function Nw(d,p,w,A,M){if(d===null){var D=w.type;return typeof D=="function"&&!ev(D)&&D.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=D,Uw(d,p,D,A,M)):(d=hm(w.type,null,A,p,p.mode,M),d.ref=p.ref,d.return=p,p.child=d)}if(D=d.child,!(d.lanes&M)){var X=D.memoizedProps;if(w=w.compare,w=w!==null?w:E0,w(X,A)&&d.ref===p.ref)return go(d,p,M)}return p.flags|=1,d=ra(D,A),d.ref=p.ref,d.return=p,p.child=d}function Uw(d,p,w,A,M){if(d!==null&&E0(d.memoizedProps,A)&&d.ref===p.ref)if(gi=!1,(d.lanes&M)!==0)d.flags&131072&&(gi=!0);else return p.lanes=d.lanes,go(d,p,M);return Ry(d,p,w,A,M)}function Gw(d,p,w){var A=p.pendingProps,M=A.children,D=d!==null?d.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},jt(ec,yi),yi|=w;else if(w&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=D!==null?D.baseLanes:w,jt(ec,yi),yi|=A;else return d=D!==null?D.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,jt(ec,yi),yi|=d,null;else D!==null?(A=D.baseLanes|w,p.memoizedState=null):A=w,jt(ec,yi),yi|=A;return Fr(d,p,M,w),p.child}function zw(d,p){var w=p.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function Ry(d,p,w,A,M){var D=$r(w)?lo:tn.current;return D=uo(p,D),Zu(p,M),w=Sy(d,p,w,A,D,M),A=Cy(),d!==null&&!gi?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~M,go(d,p,M)):(mn&&A&&py(p),p.flags|=1,Fr(d,p,w,M),p.child)}function Hw(d,p,w,A,M){if($r(w)){var D=!0;_0(p)}else D=!1;if(Zu(p,M),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),nw(p,w,A),hy(p,w,A,M),A=!0;else if(d===null){var X=p.stateNode,ue=p.memoizedProps;X.props=ue;var Te=X.context,ze=w.contextType;typeof ze=="object"&&ze!==null?ze=ki(ze):(ze=$r(w)?lo:tn.current,ze=uo(p,ze));var st=w.getDerivedStateFromProps,Pt=typeof st=="function"||typeof X.getSnapshotBeforeUpdate=="function";Pt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ue!==A||Te!==ze)&&rw(p,X,A,ze),Yo=!1;var wt=p.memoizedState;X.state=wt,B0(p,A,X,M),Te=p.memoizedState,ue!==A||wt!==Te||$n.current||Yo?(typeof st=="function"&&(fy(p,w,st,A),Te=p.memoizedState),(ue=Yo||tw(p,w,ue,A,wt,Te,ze))?(Pt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(p.flags|=4194308)):(typeof X.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=Te),X.props=A,X.state=Te,X.context=ze,A=ue):(typeof X.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{X=p.stateNode,Yx(d,p),ue=p.memoizedProps,ze=p.type===p.elementType?ue:ls(p.type,ue),X.props=ze,Pt=p.pendingProps,wt=X.context,Te=w.contextType,typeof Te=="object"&&Te!==null?Te=ki(Te):(Te=$r(w)?lo:tn.current,Te=uo(p,Te));var sn=w.getDerivedStateFromProps;(st=typeof sn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ue!==Pt||wt!==Te)&&rw(p,X,A,Te),Yo=!1,wt=p.memoizedState,X.state=wt,B0(p,A,X,M);var mt=p.memoizedState;ue!==Pt||wt!==mt||$n.current||Yo?(typeof sn=="function"&&(fy(p,w,sn,A),mt=p.memoizedState),(ze=Yo||tw(p,w,ze,A,wt,mt,Te)||!1)?(st||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(A,mt,Te),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(A,mt,Te)),typeof X.componentDidUpdate=="function"&&(p.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof X.componentDidUpdate!="function"||ue===d.memoizedProps&&wt===d.memoizedState||(p.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ue===d.memoizedProps&&wt===d.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=mt),X.props=A,X.state=mt,X.context=Te,A=ze):(typeof X.componentDidUpdate!="function"||ue===d.memoizedProps&&wt===d.memoizedState||(p.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ue===d.memoizedProps&&wt===d.memoizedState||(p.flags|=1024),A=!1)}return By(d,p,w,A,D,M)}function By(d,p,w,A,M,D){zw(d,p);var X=(p.flags&128)!==0;if(!A&&!X)return M&&Zx(p,w,!1),go(d,p,D);A=p.stateNode,lO.current=p;var ue=X&&typeof w.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,d!==null&&X?(p.child=Ku(p,d.child,null,D),p.child=Ku(p,null,ue,D)):Fr(d,p,ue,D),p.memoizedState=A.state,M&&Zx(p,w,!0),p.child}function Vw(d){var p=d.stateNode;p.pendingContext?Wx(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Wx(d,p.context,!1),xy(d,p.containerInfo)}function Ww(d,p,w,A,M){return Xu(),vy(M),p.flags|=256,Fr(d,p,w,A),p.child}var J0={dehydrated:null,treeContext:null,retryLane:0};function q0(d){return{baseLanes:d,cachePool:null}}function jw(d,p,w){var A=p.pendingProps,M=xn.current,D=!1,X=(p.flags&128)!==0,ue;if((ue=X)||(ue=d!==null&&d.memoizedState===null?!1:(M&2)!==0),ue?(D=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(M|=1),jt(xn,M&1),d===null)return yy(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?ml(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(M=A.children,d=A.fallback,D?(A=p.mode,D=p.child,M={mode:"hidden",children:M},!(A&1)&&D!==null?(D.childLanes=0,D.pendingProps=M):D=pm(M,A,0,null),d=Sl(d,A,w,null),D.return=p,d.return=p,D.sibling=d,p.child=D,p.child.memoizedState=q0(w),p.memoizedState=J0,d):Dy(p,M));if(M=d.memoizedState,M!==null){if(ue=M.dehydrated,ue!==null){if(X)return p.flags&256?(p.flags&=-257,X0(d,p,w,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(D=A.fallback,M=p.mode,A=pm({mode:"visible",children:A.children},M,0,null),D=Sl(D,M,w,null),D.flags|=2,A.return=p,D.return=p,A.sibling=D,p.child=A,p.mode&1&&Ku(p,d.child,null,w),p.child.memoizedState=q0(w),p.memoizedState=J0,D);if(!(p.mode&1))p=X0(d,p,w,null);else if(ml(ue))p=X0(d,p,w,Error(o(419)));else if(A=(w&d.childLanes)!==0,gi||A){if(A=Fn,A!==null){switch(w&-w){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}A=D&(A.suspendedLanes|w)?0:D,A!==0&&A!==M.retryLane&&(M.retryLane=A,Ui(d,A,-1))}$y(),p=X0(d,p,w,Error(o(421)))}else Wu(ue)?(p.flags|=128,p.child=d.child,p=bO.bind(null,d),J(ue,p),p=null):(w=M.treeContext,re&&(mi=Be(ue),pi=p,mn=!0,us=null,tf=!1,w!==null&&(Li[Oi++]=ho,Li[Oi++]=po,Li[Oi++]=gl,ho=w.id,po=w.overflow,gl=p)),p=Dy(p,p.pendingProps.children),p.flags|=4096);return p}return D?(A=Jw(d,p,A.children,A.fallback,w),D=p.child,M=d.child.memoizedState,D.memoizedState=M===null?q0(w):{baseLanes:M.baseLanes|w,cachePool:null},D.childLanes=d.childLanes&~w,p.memoizedState=J0,A):(w=Zw(d,p,A.children,w),p.memoizedState=null,w)}return D?(A=Jw(d,p,A.children,A.fallback,w),D=p.child,M=d.child.memoizedState,D.memoizedState=M===null?q0(w):{baseLanes:M.baseLanes|w,cachePool:null},D.childLanes=d.childLanes&~w,p.memoizedState=J0,A):(w=Zw(d,p,A.children,w),p.memoizedState=null,w)}function Dy(d,p){return p=pm({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function Zw(d,p,w,A){var M=d.child;return d=M.sibling,w=ra(M,{mode:"visible",children:w}),!(p.mode&1)&&(w.lanes=A),w.return=p,w.sibling=null,d!==null&&(A=p.deletions,A===null?(p.deletions=[d],p.flags|=16):A.push(d)),p.child=w}function Jw(d,p,w,A,M){var D=p.mode;d=d.child;var X=d.sibling,ue={mode:"hidden",children:w};return!(D&1)&&p.child!==d?(w=p.child,w.childLanes=0,w.pendingProps=ue,p.deletions=null):(w=ra(d,ue),w.subtreeFlags=d.subtreeFlags&14680064),X!==null?A=ra(X,A):(A=Sl(A,D,M,null),A.flags|=2),A.return=p,w.return=p,w.sibling=A,p.child=w,A}function X0(d,p,w,A){return A!==null&&vy(A),Ku(p,d.child,null,w),d=Dy(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function qw(d,p,w){d.lanes|=p;var A=d.alternate;A!==null&&(A.lanes|=p),cy(d.return,p,w)}function ky(d,p,w,A,M){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:M}:(D.isBackwards=p,D.rendering=null,D.renderingStartTime=0,D.last=A,D.tail=w,D.tailMode=M)}function Xw(d,p,w){var A=p.pendingProps,M=A.revealOrder,D=A.tail;if(Fr(d,p,A.children,w),A=xn.current,A&2)A=A&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&qw(d,w,p);else if(d.tag===19)qw(d,w,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(jt(xn,A),!(p.mode&1))p.memoizedState=null;else switch(M){case"forwards":for(w=p.child,M=null;w!==null;)d=w.alternate,d!==null&&F0(d)===null&&(M=w),w=w.sibling;w=M,w===null?(M=p.child,p.child=null):(M=w.sibling,w.sibling=null),ky(p,!1,M,w,D);break;case"backwards":for(w=null,M=p.child,p.child=null;M!==null;){if(d=M.alternate,d!==null&&F0(d)===null){p.child=M;break}d=M.sibling,M.sibling=w,w=M,M=d}ky(p,!0,w,null,D);break;case"together":ky(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function go(d,p,w){if(d!==null&&(p.dependencies=d.dependencies),tc|=p.lanes,!(w&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,w=ra(d,d.pendingProps),p.child=w,w.return=p;d.sibling!==null;)d=d.sibling,w=w.sibling=ra(d,d.pendingProps),w.return=p;w.sibling=null}return p.child}function uO(d,p,w){switch(p.tag){case 3:Vw(p),Xu();break;case 5:dw(p);break;case 1:$r(p.type)&&_0(p);break;case 4:xy(p,p.stateNode.containerInfo);break;case 10:Kx(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(jt(xn,xn.current&1),p.flags|=128,null):w&p.child.childLanes?jw(d,p,w):(jt(xn,xn.current&1),d=go(d,p,w),d!==null?d.sibling:null);jt(xn,xn.current&1);break;case 19:if(A=(w&p.childLanes)!==0,d.flags&128){if(A)return Xw(d,p,w);p.flags|=128}var M=p.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),jt(xn,xn.current),A)break;return null;case 22:case 23:return p.lanes=0,Gw(d,p,w)}return go(d,p,w)}function cO(d,p){switch(my(p),p.tag){case 1:return $r(p.type)&&b0(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Qu(),Tt($n),Tt(tn),_y(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return wy(p),null;case 13:if(Tt(xn),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Xu()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Tt(xn),null;case 4:return Qu(),null;case 10:return uy(p.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var K0=!1,xl=!1,dO=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Y0(d,p){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){ni(d,p,A)}else w.current=null}function Ly(d,p,w){try{w()}catch(A){ni(d,p,A)}}var Kw=!1;function fO(d,p){for(H(d.containerInfo),Ye=p;Ye!==null;)if(d=Ye,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,Ye=p;else for(;Ye!==null;){d=Ye;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,M=w.memoizedState,D=d.stateNode,X=D.getSnapshotBeforeUpdate(d.elementType===d.type?A:ls(d.type,A),M);D.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Y&&Ze(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ue){ni(d,d.return,ue)}if(p=d.sibling,p!==null){p.return=d.return,Ye=p;break}Ye=d.return}return w=Kw,Kw=!1,w}function wl(d,p,w){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var M=A=A.next;do{if((M.tag&d)===d){var D=M.destroy;M.destroy=void 0,D!==void 0&&Ly(p,w,D)}M=M.next}while(M!==A)}}function pf(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&d)===d){var A=w.create;w.destroy=A()}w=w.next}while(w!==p)}}function Oy(d){var p=d.ref;if(p!==null){var w=d.stateNode;switch(d.tag){case 5:d=ee(w);break;default:d=w}typeof p=="function"?p(d):p.current=d}}function Yw(d,p,w){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(T0,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var A=d=d.next;do{var M=A,D=M.destroy;M=M.tag,D!==void 0&&(M&2||M&4)&&Ly(p,w,D),A=A.next}while(A!==d)}break;case 1:if(Y0(p,w),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(X){ni(p,w,X)}break;case 5:Y0(p,w);break;case 4:Y?rb(d,p,w):ie&&ie&&(p=p.stateNode.containerInfo,w=Ut(p),dr(p,w))}}function Qw(d,p,w){for(var A=p;;)if(Yw(d,A,w),A.child===null||Y&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function $w(d){var p=d.alternate;p!==null&&(d.alternate=null,$w(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&He(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function eb(d){return d.tag===5||d.tag===3||d.tag===4}function tb(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||eb(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function nb(d){if(Y){e:{for(var p=d.return;p!==null;){if(eb(p))break e;p=p.return}throw Error(o(160))}var w=p;switch(w.tag){case 5:p=w.stateNode,w.flags&32&&(Oe(p),w.flags&=-33),w=tb(d),Ny(d,w,p);break;case 3:case 4:p=w.stateNode.containerInfo,w=tb(d),Fy(d,w,p);break;default:throw Error(o(161))}}}function Fy(d,p,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,p?gt(w,d,p):qe(w,d);else if(A!==4&&(d=d.child,d!==null))for(Fy(d,p,w),d=d.sibling;d!==null;)Fy(d,p,w),d=d.sibling}function Ny(d,p,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,p?it(w,d,p):vt(w,d);else if(A!==4&&(d=d.child,d!==null))for(Ny(d,p,w),d=d.sibling;d!==null;)Ny(d,p,w),d=d.sibling}function rb(d,p,w){for(var A=p,M=!1,D,X;;){if(!M){M=A.return;e:for(;;){if(M===null)throw Error(o(160));switch(D=M.stateNode,M.tag){case 5:X=!1;break e;case 3:D=D.containerInfo,X=!0;break e;case 4:D=D.containerInfo,X=!0;break e}M=M.return}M=!0}if(A.tag===5||A.tag===6)Qw(d,A,w),X?le(D,A.stateNode):ct(D,A.stateNode);else if(A.tag===18)X?E(D,A.stateNode):K(D,A.stateNode);else if(A.tag===4){if(A.child!==null){D=A.stateNode.containerInfo,X=!0,A.child.return=A,A=A.child;continue}}else if(Yw(d,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(M=!1)}A.sibling.return=A.return,A=A.sibling}}function Uy(d,p){if(Y){switch(p.tag){case 0:case 11:case 14:case 15:wl(3,p,p.return),pf(3,p),wl(5,p,p.return);return;case 1:return;case 5:var w=p.stateNode;if(w!=null){var A=p.memoizedProps;d=d!==null?d.memoizedProps:A;var M=p.type,D=p.updateQueue;p.updateQueue=null,D!==null&&xt(w,D,M,d,A,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));w=p.memoizedProps,Re(p.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:re&&d!==null&&d.memoizedState.isDehydrated&&zt(p.stateNode.containerInfo);return;case 12:return;case 13:Q0(p);return;case 19:Q0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:wl(3,p,p.return),pf(3,p),wl(5,p,p.return);return;case 12:return;case 13:Q0(p);return;case 19:Q0(p);return;case 3:re&&d!==null&&d.memoizedState.isDehydrated&&zt(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ie){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,dr(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function Q0(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new dO),p.forEach(function(A){var M=_O.bind(null,d,A);w.has(A)||(w.add(A),A.then(M,M))})}}function hO(d,p){for(Ye=p;Ye!==null;){p=Ye;var w=p.deletions;if(w!==null)for(var A=0;A<w.length;A++){var M=w[A];try{var D=d;Y?rb(D,M,p):Qw(D,M,p);var X=M.alternate;X!==null&&(X.return=null),M.return=null}catch(ht){ni(M,p,ht)}}if(w=p.child,p.subtreeFlags&12854&&w!==null)w.return=p,Ye=w;else for(;Ye!==null;){p=Ye;try{var ue=p.flags;if(ue&32&&Y&&Oe(p.stateNode),ue&512){var Te=p.alternate;if(Te!==null){var ze=Te.ref;ze!==null&&(typeof ze=="function"?ze(null):ze.current=null)}}if(ue&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var st=p.alternate;(st===null||st.memoizedState===null)&&(Zy=er())}break;case 22:var Pt=p.memoizedState!==null,wt=p.alternate,sn=wt!==null&&wt.memoizedState!==null;if(w=p,Y){e:if(A=w,M=Pt,D=null,Y)for(var mt=A;;){if(mt.tag===5){if(D===null){D=mt;var Sr=mt.stateNode;M?et(Sr):be(mt.stateNode,mt.memoizedProps)}}else if(mt.tag===6){if(D===null){var zi=mt.stateNode;M?se(zi):Fe(zi,mt.memoizedProps)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===A)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===A)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===A)break e;D===mt&&(D=null),mt=mt.return}D===mt&&(D=null),mt.sibling.return=mt.return,mt=mt.sibling}}if(Pt&&!sn&&w.mode&1){Ye=w;for(var xe=w.child;xe!==null;){for(w=Ye=xe;Ye!==null;){A=Ye;var fe=A.child;switch(A.tag){case 0:case 11:case 14:case 15:wl(4,A,A.return);break;case 1:Y0(A,A.return);var _e=A.stateNode;if(typeof _e.componentWillUnmount=="function"){var $e=A.return;try{_e.props=A.memoizedProps,_e.state=A.memoizedState,_e.componentWillUnmount()}catch(ht){ni(A,$e,ht)}}break;case 5:Y0(A,A.return);break;case 22:if(A.memoizedState!==null){ob(w);continue}}fe!==null?(fe.return=A,Ye=fe):ob(w)}xe=xe.sibling}}}switch(ue&4102){case 2:nb(p),p.flags&=-3;break;case 6:nb(p),p.flags&=-3,Uy(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Uy(p.alternate,p);break;case 4:Uy(p.alternate,p)}}catch(ht){ni(p,p.return,ht)}if(w=p.sibling,w!==null){w.return=p.return,Ye=w;break}Ye=p.return}}}function pO(d,p,w){Ye=d,ib(d)}function ib(d,p,w){for(var A=(d.mode&1)!==0;Ye!==null;){var M=Ye,D=M.child;if(M.tag===22&&A){var X=M.memoizedState!==null||K0;if(!X){var ue=M.alternate,Te=ue!==null&&ue.memoizedState!==null||xl;ue=K0;var ze=xl;if(K0=X,(xl=Te)&&!ze)for(Ye=M;Ye!==null;)X=Ye,Te=X.child,X.tag===22&&X.memoizedState!==null?ab(M):Te!==null?(Te.return=X,Ye=Te):ab(M);for(;D!==null;)Ye=D,ib(D),D=D.sibling;Ye=M,K0=ue,xl=ze}sb(d)}else M.subtreeFlags&8772&&D!==null?(D.return=M,Ye=D):sb(d)}}function sb(d){for(;Ye!==null;){var p=Ye;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:xl||pf(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!xl)if(w===null)A.componentDidMount();else{var M=p.elementType===p.type?w.memoizedProps:ls(p.type,w.memoizedProps);A.componentDidUpdate(M,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var D=p.updateQueue;D!==null&&$x(p,D,A);break;case 3:var X=p.updateQueue;if(X!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=ee(p.child.stateNode);break;case 1:w=p.child.stateNode}$x(p,X,w)}break;case 5:var ue=p.stateNode;w===null&&p.flags&4&&ft(ue,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(re&&p.memoizedState===null){var Te=p.alternate;if(Te!==null){var ze=Te.memoizedState;if(ze!==null){var st=ze.dehydrated;st!==null&&Gt(st)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}xl||p.flags&512&&Oy(p)}catch(Pt){ni(p,p.return,Pt)}}if(p===d){Ye=null;break}if(w=p.sibling,w!==null){w.return=p.return,Ye=w;break}Ye=p.return}}function ob(d){for(;Ye!==null;){var p=Ye;if(p===d){Ye=null;break}var w=p.sibling;if(w!==null){w.return=p.return,Ye=w;break}Ye=p.return}}function ab(d){for(;Ye!==null;){var p=Ye;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{pf(4,p)}catch(Te){ni(p,w,Te)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var M=p.return;try{A.componentDidMount()}catch(Te){ni(p,M,Te)}}var D=p.return;try{Oy(p)}catch(Te){ni(p,D,Te)}break;case 5:var X=p.return;try{Oy(p)}catch(Te){ni(p,X,Te)}}}catch(Te){ni(p,p.return,Te)}if(p===d){Ye=null;break}var ue=p.sibling;if(ue!==null){ue.return=p.return,Ye=ue;break}Ye=p.return}}var $0=0,em=1,tm=2,nm=3,rm=4;if(typeof Symbol=="function"&&Symbol.for){var mf=Symbol.for;$0=mf("selector.component"),em=mf("selector.has_pseudo_class"),tm=mf("selector.role"),nm=mf("selector.test_id"),rm=mf("selector.text")}function Gy(d){var p=he(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=ut(d),d===null)throw Error(o(362));return d.stateNode.current}function zy(d,p){switch(p.$$typeof){case $0:if(d.type===p.value)return!0;break;case em:e:{p=p.value,d=[d,0];for(var w=0;w<d.length;){var A=d[w++],M=d[w++],D=p[M];if(A.tag!==5||!we(A)){for(;D!=null&&zy(A,D);)M++,D=p[M];if(M===p.length){p=!0;break e}else for(A=A.child;A!==null;)d.push(A,M),A=A.sibling}}p=!1}return p;case tm:if(d.tag===5&&Ne(d.stateNode,p.value))return!0;break;case rm:if((d.tag===5||d.tag===6)&&(d=G(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case nm:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Hy(d){switch(d.$$typeof){case $0:return"<"+(B(d.value)||"Unknown")+">";case em:return":has("+(Hy(d)||"")+")";case tm:return'[role="'+d.value+'"]';case rm:return'"'+d.value+'"';case nm:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function lb(d,p){var w=[];d=[d,0];for(var A=0;A<d.length;){var M=d[A++],D=d[A++],X=p[D];if(M.tag!==5||!we(M)){for(;X!=null&&zy(M,X);)D++,X=p[D];if(D===p.length)w.push(M);else for(M=M.child;M!==null;)d.push(M,D),M=M.sibling}}return w}function Vy(d,p){if(!pt)throw Error(o(363));d=Gy(d),d=lb(d,p),p=[],d=Array.from(d);for(var w=0;w<d.length;){var A=d[w++];if(A.tag===5)we(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)d.push(A),A=A.sibling}return p}var mO=Math.ceil,im=a.ReactCurrentDispatcher,Wy=a.ReactCurrentOwner,Bn=a.ReactCurrentBatchConfig,Nt=0,Fn=null,Nn=null,fr=0,yi=0,ec=hi(0),jn=0,gf=null,tc=0,sm=0,jy=0,yf=null,ei=null,Zy=0,Jy=1/0;function nc(){Jy=er()+500}var om=!1,qy=null,$o=null,am=!1,ea=null,lm=0,vf=0,Xy=null,um=-1,cm=0;function Nr(){return Nt&6?er():um!==-1?um:um=er()}function ta(d){return d.mode&1?Nt&2&&fr!==0?fr&-fr:YL.transition!==null?(cm===0&&(d=A0,A0<<=1,!(A0&4194240)&&(A0=64),cm=d),cm):(d=Kt,d!==0?d:ke()):1}function Ui(d,p,w){if(50<vf)throw vf=0,Xy=null,Error(o(185));var A=dm(d,p);return A===null?null:(ef(A,p,w),(!(Nt&2)||A!==Fn)&&(A===Fn&&(!(Nt&2)&&(sm|=p),jn===4&&na(A,fr)),ti(A,w),p===1&&Nt===0&&!(d.mode&1)&&(nc(),M0&&Fs())),A)}function dm(d,p){d.lanes|=p;var w=d.alternate;for(w!==null&&(w.lanes|=p),w=d,d=d.return;d!==null;)d.childLanes|=p,w=d.alternate,w!==null&&(w.childLanes|=p),w=d,d=d.return;return w.tag===3?w.stateNode:null}function ti(d,p){var w=d.callbackNode;HL(d,p);var A=C0(d,d===Fn?fr:0);if(A===0)w!==null&&qx(w),d.callbackNode=null,d.callbackPriority=0;else if(p=A&-A,d.callbackPriority!==p){if(w!=null&&qx(w),p===1)d.tag===0?KL(cb.bind(null,d)):Xx(cb.bind(null,d)),je?We(function(){Nt===0&&Fs()}):ry(iy,Fs),w=null;else{switch(Jx(A)){case 1:w=iy;break;case 4:w=ZL;break;case 16:w=sy;break;case 536870912:w=JL;break;default:w=sy}w=xb(w,ub.bind(null,d))}d.callbackPriority=p,d.callbackNode=w}}function ub(d,p){if(um=-1,cm=0,Nt&6)throw Error(o(327));var w=d.callbackNode;if(Al()&&d.callbackNode!==w)return null;var A=C0(d,d===Fn?fr:0);if(A===0)return null;if(A&30||A&d.expiredLanes||p)p=fm(d,A);else{p=A;var M=Nt;Nt|=2;var D=hb();(Fn!==d||fr!==p)&&(nc(),bl(d,p));do try{vO();break}catch(ue){fb(d,ue)}while(1);ly(),im.current=D,Nt=M,Nn!==null?p=0:(Fn=null,fr=0,p=jn)}if(p!==0){if(p===2&&(M=ey(d),M!==0&&(A=M,p=Ky(d,M))),p===1)throw w=gf,bl(d,0),na(d,A),ti(d,er()),w;if(p===6)na(d,A);else{if(M=d.current.alternate,!(A&30)&&!gO(M)&&(p=fm(d,A),p===2&&(D=ey(d),D!==0&&(A=D,p=Ky(d,D))),p===1))throw w=gf,bl(d,0),na(d,A),ti(d,er()),w;switch(d.finishedWork=M,d.finishedLanes=A,p){case 0:case 1:throw Error(o(345));case 2:_l(d,ei);break;case 3:if(na(d,A),(A&130023424)===A&&(p=Zy+500-er(),10<p)){if(C0(d,0)!==0)break;if(M=d.suspendedLanes,(M&A)!==A){Nr(),d.pingedLanes|=d.suspendedLanes&M;break}d.timeoutHandle=Ve(_l.bind(null,d,ei),p);break}_l(d,ei);break;case 4:if(na(d,A),(A&4194240)===A)break;for(p=d.eventTimes,M=-1;0<A;){var X=31-as(A);D=1<<X,X=p[X],X>M&&(M=X),A&=~D}if(A=M,A=er()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*mO(A/1960))-A,10<A){d.timeoutHandle=Ve(_l.bind(null,d,ei),A);break}_l(d,ei);break;case 5:_l(d,ei);break;default:throw Error(o(329))}}}return ti(d,er()),d.callbackNode===w?ub.bind(null,d):null}function Ky(d,p){var w=yf;return d.current.memoizedState.isDehydrated&&(bl(d,p).flags|=256),d=fm(d,p),d!==2&&(p=ei,ei=w,p!==null&&Yy(p)),d}function Yy(d){ei===null?ei=d:ei.push.apply(ei,d)}function gO(d){for(var p=d;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var M=w[A],D=M.getSnapshot;M=M.value;try{if(!Os(D(),M))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function na(d,p){for(p&=~jy,p&=~sm,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var w=31-as(p),A=1<<w;d[w]=-1,p&=~A}}function cb(d){if(Nt&6)throw Error(o(327));Al();var p=C0(d,0);if(!(p&1))return ti(d,er()),null;var w=fm(d,p);if(d.tag!==0&&w===2){var A=ey(d);A!==0&&(p=A,w=Ky(d,A))}if(w===1)throw w=gf,bl(d,0),na(d,p),ti(d,er()),w;if(w===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,_l(d,ei),ti(d,er()),null}function db(d){ea!==null&&ea.tag===0&&!(Nt&6)&&Al();var p=Nt;Nt|=1;var w=Bn.transition,A=Kt;try{if(Bn.transition=null,Kt=1,d)return d()}finally{Kt=A,Bn.transition=w,Nt=p,!(Nt&6)&&Fs()}}function Qy(){yi=ec.current,Tt(ec)}function bl(d,p){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==O&&(d.timeoutHandle=O,ve(w)),Nn!==null)for(w=Nn.return;w!==null;){var A=w;switch(my(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&b0();break;case 3:Qu(),Tt($n),Tt(tn),_y();break;case 5:wy(A);break;case 4:Qu();break;case 13:Tt(xn);break;case 19:Tt(xn);break;case 10:uy(A.type._context);break;case 22:case 23:Qy()}w=w.return}if(Fn=d,Nn=d=ra(d.current,null),fr=yi=p,jn=0,gf=null,jy=sm=tc=0,ei=yf=null,Ns!==null){for(p=0;p<Ns.length;p++)if(w=Ns[p],A=w.interleaved,A!==null){w.interleaved=null;var M=A.next,D=w.pending;if(D!==null){var X=D.next;D.next=M,A.next=X}w.pending=A}Ns=null}return d}function fb(d,p){do{var w=Nn;try{if(ly(),N0.current=W0,U0){for(var A=Tn.memoizedState;A!==null;){var M=A.queue;M!==null&&(M.pending=null),A=A.next}U0=!1}if($u=0,tr=br=Tn=null,af=!1,lf=0,Wy.current=null,w===null||w.return===null){jn=1,gf=p,Nn=null;break}e:{var D=d,X=w.return,ue=w,Te=p;if(p=fr,ue.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ze=Te,st=ue,Pt=st.tag;if(!(st.mode&1)&&(Pt===0||Pt===11||Pt===15)){var wt=st.alternate;wt?(st.updateQueue=wt.updateQueue,st.memoizedState=wt.memoizedState,st.lanes=wt.lanes):(st.updateQueue=null,st.memoizedState=null)}var sn=Dw(X);if(sn!==null){sn.flags&=-257,kw(sn,X,ue,D,p),sn.mode&1&&Bw(D,ze,p),p=sn,Te=ze;var mt=p.updateQueue;if(mt===null){var Sr=new Set;Sr.add(Te),p.updateQueue=Sr}else mt.add(Te);break e}else{if(!(p&1)){Bw(D,ze,p),$y();break e}Te=Error(o(426))}}else if(mn&&ue.mode&1){var zi=Dw(X);if(zi!==null){!(zi.flags&65536)&&(zi.flags|=256),kw(zi,X,ue,D,p),vy(Te);break e}}D=Te,jn!==4&&(jn=2),yf===null?yf=[D]:yf.push(D),Te=Py(Te,ue),ue=X;do{switch(ue.tag){case 3:ue.flags|=65536,p&=-p,ue.lanes|=p;var xe=Iw(ue,Te,p);Qx(ue,xe);break e;case 1:D=Te;var fe=ue.type,_e=ue.stateNode;if(!(ue.flags&128)&&(typeof fe.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&($o===null||!$o.has(_e)))){ue.flags|=65536,p&=-p,ue.lanes|=p;var $e=Rw(ue,D,p);Qx(ue,$e);break e}}ue=ue.return}while(ue!==null)}mb(w)}catch(ht){p=ht,Nn===w&&w!==null&&(Nn=w=w.return);continue}break}while(1)}function hb(){var d=im.current;return im.current=W0,d===null?W0:d}function $y(){(jn===0||jn===3||jn===2)&&(jn=4),Fn===null||!(tc&268435455)&&!(sm&268435455)||na(Fn,fr)}function fm(d,p){var w=Nt;Nt|=2;var A=hb();Fn===d&&fr===p||bl(d,p);do try{yO();break}catch(M){fb(d,M)}while(1);if(ly(),Nt=w,im.current=A,Nn!==null)throw Error(o(261));return Fn=null,fr=0,jn}function yO(){for(;Nn!==null;)pb(Nn)}function vO(){for(;Nn!==null&&!WL();)pb(Nn)}function pb(d){var p=vb(d.alternate,d,yi);d.memoizedProps=d.pendingProps,p===null?mb(d):Nn=p,Wy.current=null}function mb(d){var p=d;do{var w=p.alternate;if(d=p.return,p.flags&32768){if(w=cO(w,p),w!==null){w.flags&=32767,Nn=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{jn=6,Nn=null;return}}else if(w=aO(w,p,yi),w!==null){Nn=w;return}if(p=p.sibling,p!==null){Nn=p;return}Nn=p=d}while(p!==null);jn===0&&(jn=5)}function _l(d,p){var w=Kt,A=Bn.transition;try{Bn.transition=null,Kt=1,xO(d,p,w)}finally{Bn.transition=A,Kt=w}return null}function xO(d,p,w){do Al();while(ea!==null);if(Nt&6)throw Error(o(327));var A=d.finishedWork,M=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var D=A.lanes|A.childLanes;if(VL(d,D),d===Fn&&(Nn=Fn=null,fr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||am||(am=!0,xb(sy,function(){return Al(),null})),D=(A.flags&15990)!==0,A.subtreeFlags&15990||D){D=Bn.transition,Bn.transition=null;var X=Kt;Kt=1;var ue=Nt;Nt|=4,Wy.current=null,fO(d,A),hO(d,A),j(d.containerInfo),d.current=A,pO(A),jL(),Nt=ue,Kt=X,Bn.transition=D}else d.current=A;if(am&&(am=!1,ea=d,lm=M),D=d.pendingLanes,D===0&&($o=null),qL(A.stateNode),ti(d,er()),p!==null)for(w=d.onRecoverableError,A=0;A<p.length;A++)w(p[A]);if(om)throw om=!1,d=qy,qy=null,d;return lm&1&&d.tag!==0&&Al(),D=d.pendingLanes,D&1?d===Xy?vf++:(vf=0,Xy=d):vf=0,Fs(),null}function Al(){if(ea!==null){var d=Jx(lm),p=Bn.transition,w=Kt;try{if(Bn.transition=null,Kt=16>d?16:d,ea===null)var A=!1;else{if(d=ea,ea=null,lm=0,Nt&6)throw Error(o(331));var M=Nt;for(Nt|=4,Ye=d.current;Ye!==null;){var D=Ye,X=D.child;if(Ye.flags&16){var ue=D.deletions;if(ue!==null){for(var Te=0;Te<ue.length;Te++){var ze=ue[Te];for(Ye=ze;Ye!==null;){var st=Ye;switch(st.tag){case 0:case 11:case 15:wl(8,st,D)}var Pt=st.child;if(Pt!==null)Pt.return=st,Ye=Pt;else for(;Ye!==null;){st=Ye;var wt=st.sibling,sn=st.return;if($w(st),st===ze){Ye=null;break}if(wt!==null){wt.return=sn,Ye=wt;break}Ye=sn}}}var mt=D.alternate;if(mt!==null){var Sr=mt.child;if(Sr!==null){mt.child=null;do{var zi=Sr.sibling;Sr.sibling=null,Sr=zi}while(Sr!==null)}}Ye=D}}if(D.subtreeFlags&2064&&X!==null)X.return=D,Ye=X;else e:for(;Ye!==null;){if(D=Ye,D.flags&2048)switch(D.tag){case 0:case 11:case 15:wl(9,D,D.return)}var xe=D.sibling;if(xe!==null){xe.return=D.return,Ye=xe;break e}Ye=D.return}}var fe=d.current;for(Ye=fe;Ye!==null;){X=Ye;var _e=X.child;if(X.subtreeFlags&2064&&_e!==null)_e.return=X,Ye=_e;else e:for(X=fe;Ye!==null;){if(ue=Ye,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:pf(9,ue)}}catch(ht){ni(ue,ue.return,ht)}if(ue===X){Ye=null;break e}var $e=ue.sibling;if($e!==null){$e.return=ue.return,Ye=$e;break e}Ye=ue.return}}if(Nt=M,Fs(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(T0,d)}catch{}A=!0}return A}finally{Kt=w,Bn.transition=p}}return!1}function gb(d,p,w){p=Py(w,p),p=Iw(d,p,1),Qo(d,p),p=Nr(),d=dm(d,1),d!==null&&(ef(d,1,p),ti(d,p))}function ni(d,p,w){if(d.tag===3)gb(d,d,w);else for(;p!==null;){if(p.tag===3){gb(p,d,w);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&($o===null||!$o.has(A))){d=Py(w,d),d=Rw(p,d,1),Qo(p,d),d=Nr(),p=dm(p,1),p!==null&&(ef(p,1,d),ti(p,d));break}}p=p.return}}function wO(d,p,w){var A=d.pingCache;A!==null&&A.delete(p),p=Nr(),d.pingedLanes|=d.suspendedLanes&w,Fn===d&&(fr&w)===w&&(jn===4||jn===3&&(fr&130023424)===fr&&500>er()-Zy?bl(d,0):jy|=w),ti(d,p)}function yb(d,p){p===0&&(d.mode&1?(p=S0,S0<<=1,!(S0&130023424)&&(S0=4194304)):p=1);var w=Nr();d=dm(d,p),d!==null&&(ef(d,p,w),ti(d,w))}function bO(d){var p=d.memoizedState,w=0;p!==null&&(w=p.retryLane),yb(d,w)}function _O(d,p){var w=0;switch(d.tag){case 13:var A=d.stateNode,M=d.memoizedState;M!==null&&(w=M.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(p),yb(d,w)}var vb;vb=function(d,p,w){if(d!==null)if(d.memoizedProps!==p.pendingProps||$n.current)gi=!0;else{if(!(d.lanes&w)&&!(p.flags&128))return gi=!1,uO(d,p,w);gi=!!(d.flags&131072)}else gi=!1,mn&&p.flags&1048576&&iw(p,L0,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var M=uo(p,tn.current);Zu(p,w),M=Sy(null,p,A,d,M,w);var D=Cy();return p.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,$r(A)?(D=!0,_0(p)):D=!1,p.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,dy(p),M.updater=D0,p.stateNode=M,M._reactInternals=p,hy(p,A,d,w),p=By(null,p,A,!0,D,w)):(p.tag=0,mn&&D&&py(p),Fr(null,p,M,w),p=p.child),p;case 16:A=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,M=A._init,A=M(A._payload),p.type=A,M=p.tag=SO(A),d=ls(A,d),M){case 0:p=Ry(null,p,A,d,w);break e;case 1:p=Hw(null,p,A,d,w);break e;case 11:p=Fw(null,p,A,d,w);break e;case 14:p=Nw(null,p,A,ls(A.type,d),w);break e}throw Error(o(306,A,""))}return p;case 0:return A=p.type,M=p.pendingProps,M=p.elementType===A?M:ls(A,M),Ry(d,p,A,M,w);case 1:return A=p.type,M=p.pendingProps,M=p.elementType===A?M:ls(A,M),Hw(d,p,A,M,w);case 3:e:{if(Vw(p),d===null)throw Error(o(387));A=p.pendingProps,D=p.memoizedState,M=D.element,Yx(d,p),B0(p,A,null,w);var X=p.memoizedState;if(A=X.element,re&&D.isDehydrated)if(D={element:A,isDehydrated:!1,cache:X.cache,transitions:X.transitions},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){M=Error(o(423)),p=Ww(d,p,A,w,M);break e}else if(A!==M){M=Error(o(424)),p=Ww(d,p,A,w,M);break e}else for(re&&(mi=pe(p.stateNode.containerInfo),pi=p,mn=!0,us=null,tf=!1),w=cw(p,null,A,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Xu(),A===M){p=go(d,p,w);break e}Fr(d,p,A,w)}p=p.child}return p;case 5:return dw(p),d===null&&yy(p),A=p.type,M=p.pendingProps,D=d!==null?d.memoizedProps:null,X=M.children,Me(A,M)?X=null:D!==null&&Me(A,D)&&(p.flags|=32),zw(d,p),Fr(d,p,X,w),p.child;case 6:return d===null&&yy(p),null;case 13:return jw(d,p,w);case 4:return xy(p,p.stateNode.containerInfo),A=p.pendingProps,d===null?p.child=Ku(p,null,A,w):Fr(d,p,A,w),p.child;case 11:return A=p.type,M=p.pendingProps,M=p.elementType===A?M:ls(A,M),Fw(d,p,A,M,w);case 7:return Fr(d,p,p.pendingProps,w),p.child;case 8:return Fr(d,p,p.pendingProps.children,w),p.child;case 12:return Fr(d,p,p.pendingProps.children,w),p.child;case 10:e:{if(A=p.type._context,M=p.pendingProps,D=p.memoizedProps,X=M.value,Kx(p,A,X),D!==null)if(Os(D.value,X)){if(D.children===M.children&&!$n.current){p=go(d,p,w);break e}}else for(D=p.child,D!==null&&(D.return=p);D!==null;){var ue=D.dependencies;if(ue!==null){X=D.child;for(var Te=ue.firstContext;Te!==null;){if(Te.context===A){if(D.tag===1){Te=fo(-1,w&-w),Te.tag=2;var ze=D.updateQueue;if(ze!==null){ze=ze.shared;var st=ze.pending;st===null?Te.next=Te:(Te.next=st.next,st.next=Te),ze.pending=Te}}D.lanes|=w,Te=D.alternate,Te!==null&&(Te.lanes|=w),cy(D.return,w,p),ue.lanes|=w;break}Te=Te.next}}else if(D.tag===10)X=D.type===p.type?null:D.child;else if(D.tag===18){if(X=D.return,X===null)throw Error(o(341));X.lanes|=w,ue=X.alternate,ue!==null&&(ue.lanes|=w),cy(X,w,p),X=D.sibling}else X=D.child;if(X!==null)X.return=D;else for(X=D;X!==null;){if(X===p){X=null;break}if(D=X.sibling,D!==null){D.return=X.return,X=D;break}X=X.return}D=X}Fr(d,p,M.children,w),p=p.child}return p;case 9:return M=p.type,A=p.pendingProps.children,Zu(p,w),M=ki(M),A=A(M),p.flags|=1,Fr(d,p,A,w),p.child;case 14:return A=p.type,M=ls(A,p.pendingProps),M=ls(A.type,M),Nw(d,p,A,M,w);case 15:return Uw(d,p,p.type,p.pendingProps,w);case 17:return A=p.type,M=p.pendingProps,M=p.elementType===A?M:ls(A,M),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,$r(A)?(d=!0,_0(p)):d=!1,Zu(p,w),nw(p,A,M),hy(p,A,M,w),By(null,p,A,!0,d,w);case 19:return Xw(d,p,w);case 22:return Gw(d,p,w)}throw Error(o(156,p.tag))};function xb(d,p){return ry(d,p)}function AO(d,p,w,A){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(d,p,w,A){return new AO(d,p,w,A)}function ev(d){return d=d.prototype,!(!d||!d.isReactComponent)}function SO(d){if(typeof d=="function")return ev(d)?1:0;if(d!=null){if(d=d.$$typeof,d===v)return 11;if(d===_)return 14}return 2}function ra(d,p){var w=d.alternate;return w===null?(w=Gi(d.tag,p,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=p,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,p=d.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function hm(d,p,w,A,M,D){var X=2;if(A=d,typeof d=="function")ev(d)&&(X=1);else if(typeof d=="string")X=5;else e:switch(d){case c:return Sl(w.children,M,D,p);case f:X=8,M|=8;break;case h:return d=Gi(12,w,p,M|2),d.elementType=h,d.lanes=D,d;case y:return d=Gi(13,w,p,M),d.elementType=y,d.lanes=D,d;case x:return d=Gi(19,w,p,M),d.elementType=x,d.lanes=D,d;case S:return pm(w,M,D,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:X=10;break e;case g:X=9;break e;case v:X=11;break e;case _:X=14;break e;case b:X=16,A=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=Gi(X,w,p,M),p.elementType=d,p.type=A,p.lanes=D,p}function Sl(d,p,w,A){return d=Gi(7,d,A,p),d.lanes=w,d}function pm(d,p,w,A){return d=Gi(22,d,A,p),d.elementType=S,d.lanes=w,d.stateNode={},d}function tv(d,p,w){return d=Gi(6,d,null,p),d.lanes=w,d}function nv(d,p,w){return p=Gi(4,d.children!==null?d.children:[],d.key,p),p.lanes=w,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function CO(d,p,w,A,M){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=O,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ty(0),this.expirationTimes=ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ty(0),this.identifierPrefix=A,this.onRecoverableError=M,re&&(this.mutableSourceEagerHydrationData=null)}function wb(d,p,w,A,M,D,X,ue,Te){return d=new CO(d,p,w,ue,Te),p===1?(p=1,D===!0&&(p|=8)):p=0,D=Gi(3,null,null,p),d.current=D,D.stateNode=d,D.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},dy(D),d}function bb(d){if(!d)return Di;d=d._reactInternals;e:{if(P(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if($r(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var w=d.type;if($r(w))return jx(d,w,p)}return p}function _b(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=U(p),d===null?null:d.stateNode}function Ab(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<p?w:p}}function rv(d,p){Ab(d,p),(d=d.alternate)&&Ab(d,p)}function TO(d){return d=U(d),d===null?null:d.stateNode}function MO(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var p=Nr();Ui(d,134217728,p),rv(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=Nr(),w=ta(d);Ui(d,w,p),rv(d,w)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var w=$d(p.pendingLanes);w!==0&&(ny(p,w|1),ti(p,er()),!(Nt&6)&&(nc(),Fs()))}break;case 13:var A=Nr();db(function(){return Ui(d,1,A)}),rv(d,1)}},t.batchedUpdates=function(d,p){var w=Nt;Nt|=1;try{return d(p)}finally{Nt=w,Nt===0&&(nc(),M0&&Fs())}},t.createComponentSelector=function(d){return{$$typeof:$0,value:d}},t.createContainer=function(d,p,w,A,M,D,X){return wb(d,p,!1,null,w,A,M,D,X)},t.createHasPseudoClassSelector=function(d){return{$$typeof:em,value:d}},t.createHydrationContainer=function(d,p,w,A,M,D,X,ue,Te){return d=wb(w,A,!0,d,M,D,X,ue,Te),d.context=bb(null),w=d.current,A=Nr(),M=ta(w),D=fo(A,M),D.callback=p??null,Qo(w,D),d.current.lanes=M,ef(d,M,A),ti(d,A),d},t.createPortal=function(d,p,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:d,containerInfo:p,implementation:w}},t.createRoleSelector=function(d){return{$$typeof:tm,value:d}},t.createTestNameSelector=function(d){return{$$typeof:nm,value:d}},t.createTextSelector=function(d){return{$$typeof:rm,value:d}},t.deferredUpdates=function(d){var p=Kt,w=Bn.transition;try{return Bn.transition=null,Kt=16,d()}finally{Kt=p,Bn.transition=w}},t.discreteUpdates=function(d,p,w,A,M){var D=Kt,X=Bn.transition;try{return Bn.transition=null,Kt=1,d(p,w,A,M)}finally{Kt=D,Bn.transition=X,Nt===0&&nc()}},t.findAllNodes=Vy,t.findBoundingRects=function(d,p){if(!pt)throw Error(o(363));p=Vy(d,p),d=[];for(var w=0;w<p.length;w++)d.push(Z(p[w]));for(p=d.length-1;0<p;p--){w=d[p];for(var A=w.x,M=A+w.width,D=w.y,X=D+w.height,ue=p-1;0<=ue;ue--)if(p!==ue){var Te=d[ue],ze=Te.x,st=ze+Te.width,Pt=Te.y,wt=Pt+Te.height;if(A>=ze&&D>=Pt&&M<=st&&X<=wt){d.splice(p,1);break}else if(A!==ze||w.width!==Te.width||wt<D||Pt>X){if(!(D!==Pt||w.height!==Te.height||st<A||ze>M)){ze>A&&(Te.width+=ze-A,Te.x=A),st<M&&(Te.width=M-ze),d.splice(p,1);break}}else{Pt>D&&(Te.height+=Pt-D,Te.y=D),wt<X&&(Te.height=X-Pt),d.splice(p,1);break}}}return d},t.findHostInstance=_b,t.findHostInstanceWithNoPortals=function(d){return d=k(d),d=d!==null?W(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return _b(d)},t.flushControlled=function(d){var p=Nt;Nt|=1;var w=Bn.transition,A=Kt;try{Bn.transition=null,Kt=1,d()}finally{Kt=A,Bn.transition=w,Nt=p,Nt===0&&(nc(),Fs())}},t.flushPassiveEffects=Al,t.flushSync=db,t.focusWithin=function(d,p){if(!pt)throw Error(o(363));for(d=Gy(d),p=lb(d,p),p=Array.from(p),d=0;d<p.length;){var w=p[d++];if(!we(w)){if(w.tag===5&&Ge(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Kt},t.getFindAllNodesFailureDescription=function(d,p){if(!pt)throw Error(o(363));var w=0,A=[];d=[Gy(d),0];for(var M=0;M<d.length;){var D=d[M++],X=d[M++],ue=p[X];if((D.tag!==5||!we(D))&&(zy(D,ue)&&(A.push(Hy(ue)),X++,X>w&&(w=X)),X<p.length))for(D=D.child;D!==null;)d.push(D,X),D=D.sibling}if(w<p.length){for(d=[];w<p.length;w++)d.push(Hy(p[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return ee(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:TO,findFiberByHostInstance:d.findFiberByHostInstance||MO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{T0=p.inject(d),Ls=p}catch{}d=!!p.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,p,w,A){if(!pt)throw Error(o(363));d=Vy(d,p);var M=Ce(d,w,A).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(d,p){var w=p._getVersion;w=w(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,w]:d.mutableSourceEagerHydrationData.push(p,w)},t.runWithPriority=function(d,p){var w=Kt;try{return Kt=d,p()}finally{Kt=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,p,w,A){var M=p.current,D=Nr(),X=ta(M);return w=bb(w),p.context===null?p.context=w:p.pendingContext=w,p=fo(D,X),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),Qo(M,p),d=Ui(M,X,D),d!==null&&R0(d,M,X),X},t};JR.exports=nq;var rq=JR.exports;const iq=il(rq),sq=n=>typeof n=="object"&&typeof n.then=="function",ou=[];function KR(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function YR(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of ou)if(KR(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=ou.indexOf(i);s!==-1&&ou.splice(s,1)},promise:(sq(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(ou.push(i),!t)throw i.promise}const oq=(n,e,t)=>YR(n,e,!1,t),aq=(n,e,t)=>void YR(n,e,!0,t),lq=n=>{if(n===void 0||n.length===0)ou.splice(0,ou.length);else{const e=ou.find(t=>KR(n,t.keys,t.equal));e&&e.remove()}},C7={},uq=n=>void Object.assign(C7,n);function cq(n,e){function t(c,{args:f=[],attach:h,...m},g){let v=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;y=Mc(x,{type:c,root:g,attach:h,primitive:!0})}else{const x=C7[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Mc(new x(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof kt?y.__r3f.attach="geometry":y instanceof Wn&&(y.__r3f.attach="material")),v!=="inject"&&h5(y,m),y}function r(c,f){let h=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?f5(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Mc(f,{}),f.__r3f.parent=c,H8(f),Ec(f)}}function i(c,f,h){let m=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)f5(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const y=c.children.filter(_=>_!==f),x=y.indexOf(h);c.children=[...y.slice(0,x),f,...y.slice(x)],m=!0}m||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||Mc(f,{}),f.__r3f.parent=c,H8(f),Ec(f)}}function s(c,f,h=!1){c&&[...c].forEach(m=>o(f,m,h))}function o(c,f,h){if(f){var m,g,v;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==f)),(g=f.__r3f)!=null&&g.attach)fS(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&vq(f.__r3f.root,f)}const _=(v=f.__r3f)==null?void 0:v.primitive,b=h===void 0?f.dispose!==null&&!_:h;if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,b),s(f.children,f,b)}delete f.__r3f,b&&f.dispose&&f.type!=="Scene"&&G8.unstable_scheduleCallback(G8.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Ec(c)}}function a(c,f,h,m){var g;const v=(g=c.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(f,h,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&r(y,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>r(y,x)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(v,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:iq({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const m=c.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:x,..._}=m,{args:b=[],children:S,...R}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((B,C)=>B!==b[C]))return[!0];const T=iB(c,_,R,!0);return T.changes.length?[!1,T]:null}},commitUpdate(c,[f,h],m,g,v,y){f?a(c,m,v,y):h5(c,h)},commitMount(c,f,h,m){var g;const v=(g=c.__r3f)!=null?g:{};c.raycast&&v.handlers&&v.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Mc(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:m}=(f=c.__r3f)!=null?f:{};h&&m&&fS(m,c,h),c.isObject3D&&(c.visible=!1),Ec(c)},unhideInstance(c,f){var h;const{attach:m,parent:g}=(h=c.__r3f)!=null?h:{};m&&g&&f5(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Ec(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Zc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fn.fun(performance.now)?performance.now:fn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:h5}}var lS,uS;const d5=n=>"colorSpace"in n||"outputColorSpace"in n,QR=()=>{var n;return(n=C7.ColorManagement)!=null?n:null},$R=n=>n&&n.isOrthographicCamera,dq=n=>n&&n.hasOwnProperty("current"),Qp=typeof window<"u"&&((lS=window.document)!=null&&lS.createElement||((uS=window.navigator)==null?void 0:uS.product)==="ReactNative")?Q.useLayoutEffect:Q.useEffect;function eB(n){const e=Q.useRef(n);return Qp(()=>void(e.current=n),[n]),e}function fq({set:n}){return Qp(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class tB extends Q.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}tB.getDerivedStateFromError=()=>({error:!0});const nB="__default",cS=new Map,hq=n=>n&&!!n.memoized&&!!n.changes;function rB(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Uf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},fn={obj:n=>n===Object(n)&&!fn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(fn.str(n)||fn.num(n))return n===e;const s=fn.obj(n);if(s&&r==="reference")return n===e;const o=fn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!fn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(fn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function pq(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function mq(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Mc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function z8(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const dS=/-\d+$/;function f5(n,e,t){if(fn.str(t)){if(dS.test(t)){const s=t.replace(dS,""),{target:o,key:a}=z8(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=z8(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function fS(n,e,t){var r,i;if(fn.str(t)){const{target:s,key:o}=z8(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function iB(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=n==null?void 0:n.__r3f)!=null?c:{},h=Object.entries(i),m=[];if(u){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||h.unshift([v[y],nB+"remove"])}h.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||fn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,y,!1,_]);for(const b in i){const S=i[b];b.startsWith(`${v}-`)&&m.push([b,S,!1,b.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}function h5(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=hq(e)?e:iB(n,e),c=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let h=0;h<u.length;h++){let[m,g,v,y]=u[h];if(d5(n)){const S="srgb",R="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?S:R):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?S:R)}let x=n,_=x[m];if(y.length&&(_=y.reduce((b,S)=>b[S],n),!(_&&_.set))){const[b,...S]=y.reverse();x=S.reverse().reduce((R,T)=>R[T],n),m=b}if(g===nB+"remove")if(x.constructor){let b=cS.get(x.constructor);b||(b=new x.constructor,cS.set(x.constructor,b)),g=b[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof yu)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const b=_ instanceof Qe;!b&&_.setScalar?_.setScalar(g):_ instanceof yu&&g instanceof yu?_.mask=g.mask:_.set(g),!QR()&&!a.linear&&b&&_.convertSRGBToLinear()}}else if(x[m]=g,x[m]instanceof vn&&x[m].format===si&&x[m].type===Zo){const b=x[m];d5(b)&&d5(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}Ec(n)}if(s.parent&&a.internal&&n.raycast&&c!==s.eventCount){const h=a.internal.interaction.indexOf(n);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=n.__r3f)!=null&&i.parent&&H8(n),n}function Ec(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function H8(n){n.onUpdate==null||n.onUpdate(n)}function gq(n,e){n.manual||($R(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function y3(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function yq(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Zc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zc.ContinuousEventPriority;default:return Zc.DefaultEventPriority}}function sB(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function vq(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{sB(t.capturedMap,e,r,i)})}function xq(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,h=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<m.length;x++){const _=Uf(m[x]);_&&(_.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(x){const _=Uf(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let v=m.flatMap(g).sort((x,_)=>{const b=Uf(x.object),S=Uf(_.object);return!b||!S?x.distance-_.distance:S.events.priority-b.events.priority||x.distance-_.distance}).filter(x=>{const _=y3(x);return f.has(_)?!1:(f.add(_),!0)});c.events.filter&&(v=c.events.filter(v,c));for(const x of v){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&h.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(y3(x.intersection))||h.push(x.intersection);return h}function i(l,u,c,f){const h=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=Uf(g.object)||h,{raycaster:y,pointer:x,camera:_,internal:b}=v,S=new V(x.x,x.y,0).unproject(_),R=I=>{var k,U;return(k=(U=b.capturedMap.get(I))==null?void 0:U.has(g.eventObject))!=null?k:!1},T=I=>{const k={intersection:g,target:u.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(g.eventObject,k):b.capturedMap.set(I,new Map([[g.eventObject,k]])),u.target.setPointerCapture(I)},B=I=>{const k=b.capturedMap.get(I);k&&sB(b.capturedMap,g.eventObject,k,I)};let C={};for(let I in u){let k=u[I];typeof k!="function"&&(C[I]=k)}let P={...g,...C,pointer:x,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:S,ray:y.ray,camera:_,stopPropagation(){const I="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!I||I.has(g.eventObject))&&(P.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(k=>k.eventObject===g.eventObject))){const k=l.slice(0,l.indexOf(g));s([...k,g])}},target:{hasPointerCapture:R,setPointerCapture:T,releasePointerCapture:B},currentTarget:{hasPointerCapture:R,setPointerCapture:T,releasePointerCapture:B},nativeEvent:u};if(f(P),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,m=h==null?void 0:h.handlers;if(u.hovered.delete(y3(c)),h!=null&&h.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?t:void 0),x=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(b=>b.eventObject)),g&&!y.length&&x<=2&&(o(c,h.interaction),f&&f(c)),m&&s(y);function _(b){const S=b.eventObject,R=S.__r3f,T=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const B=y3(b),C=h.hovered.get(B);C?C.stopped&&b.stopPropagation():(h.hovered.set(B,b),T.onPointerOver==null||T.onPointerOver(b),T.onPointerEnter==null||T.onPointerEnter(b))}T.onPointerMove==null||T.onPointerMove(b)}else{const B=T[l];B?(!g||h.initialHits.includes(S))&&(o(c,h.interaction.filter(C=>!h.initialHits.includes(C))),B(b)):g&&h.initialHits.includes(S)&&o(c,h.interaction.filter(C=>!h.initialHits.includes(C)))}}i(y,c,x,_)}}return{handlePointer:a}}const oB=n=>!!(n!=null&&n.render),aB=Q.createContext(null),wq=(n,e)=>{const t=ZR((a,l)=>{const u=new V,c=new V,f=new V;function h(x=l().camera,_=c,b=l().size){const{width:S,height:R,top:T,left:B}=b,C=S/R;_ instanceof V?f.copy(_):f.set(..._);const P=x.getWorldPosition(u).distanceTo(f);if($R(x))return{width:S/x.zoom,height:R/x.zoom,top:T,left:B,factor:1,distance:P,aspect:C};{const I=x.fov*Math.PI/180,k=2*Math.tan(I/2)*P,U=k*(S/R);return{width:U,height:k,top:T,left:B,factor:S/U,distance:P,aspect:C}}}let m;const g=x=>a(_=>({performance:{..._.performance,current:x}})),v=new Ie;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new b7,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,b,S,R)=>{const T=l().camera,B={width:x,height:_,top:S||0,left:R||0,updateStyle:b};a(C=>({size:B,viewport:{...C.viewport,...h(T,c,B)}}))},setDpr:x=>a(_=>{const b=rB(x);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Q.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,b)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:x,priority:_,store:b}),S.subscribers=S.subscribers.sort((R,T)=>R.priority-T.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(_>0?1:0),R.subscribers=R.subscribers.filter(T=>T.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=t.getState();if(l!==i||u.dpr!==s){var h;i=l,s=u.dpr,gq(a,l),c.setPixelRatio(u.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let v3,bq=new Set,_q=new Set,Aq=new Set;function p5(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Gf(n,e){switch(n){case"before":return p5(bq,e);case"after":return p5(_q,e);case"tail":return p5(Aq,e)}}let m5,g5;function y5(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),m5=e.internal.subscribers,v3=0;v3<m5.length;v3++)g5=m5[v3],g5.ref.current(g5.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Sq(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Gf("before",l);for(const c of n.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=y5(l,i))}if(Gf("after",l),t===0)return Gf("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return n.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&Gf("before",l),c)y5(l,c,f);else for(const h of n.values())y5(l,h.store.getState());u&&Gf("after",l)}return{loop:s,invalidate:o,advance:a}}function lB(){const n=Q.useContext(aB);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function qi(n=t=>t,e){return lB()(n,e)}function $p(n,e=0){const t=lB(),r=t.getState().internal.subscribe,i=eB(n);return Qp(()=>r(i,e,t),[e,r,t]),null}const hS=new WeakMap;function uB(n,e){return function(t,...r){let i=hS.get(t);return i||(i=new t,hS.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,pq(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function e0(n,e,t,r){const i=Array.isArray(e)?e:[e],s=oq(uB(t,r),[n,...i],{equal:fn.equ});return Array.isArray(e)?s:s[0]}e0.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return aq(uB(t),[n,...r])};e0.clear=function(n,e){const t=Array.isArray(e)?e:[e];return lq([n,...t])};const Md=new Map,{invalidate:pS,advance:mS}=Sq(Md),{reconciler:Zg,applyProps:_c}=cq(Md,yq),Ac={objects:"shallow",strict:!1},Cq=(n,e)=>{const t=typeof n=="function"?n(e):n;return oB(t)?t:new Q9({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Tq(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Mq(n){const e=Md.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||wq(pS,mS),o=t||Zg.createContainer(s,Zc.ConcurrentRoot,null,!1,null,"",i,null);e||Md.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:m,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:b=!1,orthographic:S=!1,frameloop:R="always",dpr:T=[1,2],performance:B,raycaster:C,camera:P,onPointerMissed:I}=c,k=s.getState(),U=k.gl;k.gl||k.set({gl:U=Cq(f,n)});let q=k.raycaster;q||k.set({raycaster:q=new VR});const{params:W,...$}=C||{};if(fn.equ($,q,Ac)||_c(q,{...$}),fn.equ(W,q.params,Ac)||_c(q,{params:{...q.params,...W}}),!k.camera||k.camera===u&&!fn.equ(u,P,Ac)){u=P;const te=P instanceof kp,ge=te?P:S?new $i(0,0,0,0,.1,1e3):new hn(75,0,.1,1e3);te||(ge.position.z=5,P&&_c(ge,P),!k.camera&&!(P!=null&&P.rotation)&&ge.lookAt(0,0,0)),k.set({camera:ge})}if(!k.scene){let te;m instanceof jg?te=m:(te=new jg,m&&_c(te,m)),k.set({scene:Mc(te)})}if(!k.xr){var ee;const te=(Me,de)=>{const Ve=s.getState();Ve.frameloop!=="never"&&mS(Me,!0,Ve,de)},ge=()=>{const Me=s.getState();Me.gl.xr.enabled=Me.gl.xr.isPresenting,Me.gl.xr.setAnimationLoop(Me.gl.xr.isPresenting?te:null),Me.gl.xr.isPresenting||pS(Me)},Pe={connect(){const Me=s.getState().gl;Me.xr.addEventListener("sessionstart",ge),Me.xr.addEventListener("sessionend",ge)},disconnect(){const Me=s.getState().gl;Me.xr.removeEventListener("sessionstart",ge),Me.xr.removeEventListener("sessionend",ge)}};typeof((ee=U.xr)==null?void 0:ee.addEventListener)=="function"&&Pe.connect(),k.set({xr:Pe})}if(U.shadowMap){const te=U.shadowMap.enabled,ge=U.shadowMap.type;if(U.shadowMap.enabled=!!y,fn.boo(y))U.shadowMap.type=Sh;else if(fn.str(y)){var ce;const Pe={basic:$P,percentage:n1,soft:Sh,variance:tu};U.shadowMap.type=(ce=Pe[y])!=null?ce:Sh}else fn.obj(y)&&Object.assign(U.shadowMap,y);(te!==U.shadowMap.enabled||ge!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const N=QR();N&&("enabled"in N?N.enabled=!b:"legacyMode"in N&&(N.legacyMode=b)),_c(U,{outputEncoding:x?3e3:3001,toneMapping:_?As:F9}),k.legacy!==b&&k.set(()=>({legacy:b})),k.linear!==x&&k.set(()=>({linear:x})),k.flat!==_&&k.set(()=>({flat:_})),f&&!fn.fun(f)&&!oB(f)&&!fn.equ(f,U,Ac)&&_c(U,f),g&&!k.events.handlers&&k.set({events:g(s)});const oe=Tq(n,h);return fn.equ(oe,k.size,Ac)||k.setSize(oe.width,oe.height,oe.updateStyle,oe.top,oe.left),T&&k.viewport.dpr!==rB(T)&&k.setDpr(T),k.frameloop!==R&&k.setFrameloop(R),k.onPointerMissed||k.set({onPointerMissed:I}),B&&!fn.equ(B,k.performance,Ac)&&k.set(te=>({performance:{...te.performance,...B}})),a=v,l=!0,this},render(c){return l||this.configure(),Zg.updateContainer(Q.createElement(Eq,{store:s,children:c,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){cB(n)}}}function Eq({store:n,children:e,onCreated:t,rootElement:r}){return Qp(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Q.createElement(aB.Provider,{value:n},e)}function cB(n,e){const t=Md.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Zg.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),mq(i),Md.delete(n),e&&e(n)}catch{}},500)})}}Zg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Q.version});function Mt(){return Mt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mt.apply(this,arguments)}function V8(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=t&&!r;return r||(r=setTimeout(l,e)),c&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}V8.debounce=V8;var Pq=V8;const gS=il(Pq);function Iq(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=Q.useRef(!1);Q.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,m,g]=Q.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:b,top:S,width:R,height:T,bottom:B,right:C,x:P,y:I}=l.current.element.getBoundingClientRect(),k={left:b,top:S,width:R,height:T,bottom:B,right:C,x:P,y:I};l.current.element instanceof HTMLElement&&i&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),f.current&&!kq(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[_,c?gS(_,c):_,u?gS(_,u):_]},[a,i,u,c]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=dB(_),y())};return Bq(g,!!t),Rq(m),Q.useEffect(()=>{v(),y()},[t,g,m]),Q.useEffect(()=>v,[]),[x,o,h]}function Rq(n){Q.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Bq(n,e){Q.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function dB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...dB(n.parentElement)]}const Dq=["x","y","top","bottom","left","right","width","height"],kq=(n,e)=>Dq.every(t=>n[t]===e[t]);var Lq=Object.defineProperty,Oq=Object.defineProperties,Fq=Object.getOwnPropertyDescriptors,yS=Object.getOwnPropertySymbols,Nq=Object.prototype.hasOwnProperty,Uq=Object.prototype.propertyIsEnumerable,vS=(n,e,t)=>e in n?Lq(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xS=(n,e)=>{for(var t in e||(e={}))Nq.call(e,t)&&vS(n,t,e[t]);if(yS)for(var t of yS(e))Uq.call(e,t)&&vS(n,t,e[t]);return n},Gq=(n,e)=>Oq(n,Fq(e));function fB(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=fB(r,e,t);if(i)return i;r=e?null:r.sibling}}function hB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const T7=hB(Q.createContext(null));class pB extends Q.Component{render(){return Q.createElement(T7.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:wS,ReactCurrentDispatcher:bS}=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function zq(){const n=Q.useContext(T7);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const r of[wS==null?void 0:wS.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=fB(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function Hq(){var n,e;const t=zq(),[r]=Q.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==T7&&!r.has(s)&&r.set(s,(e=bS==null?void 0:bS.current)==null?void 0:e.readContext(hB(s))),i=i.return}return r}function Vq(){const n=Hq();return Q.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Q.createElement(e,null,Q.createElement(t.Provider,Gq(xS({},r),{value:n.get(t)}))),e=>Q.createElement(pB,xS({},e))),[n])}const v5={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Wq(n){const{handlePointer:e}=xq(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(v5).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=v5[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=v5[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const jq=Q.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=Wq,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,scene:b,onPointerMissed:S,onCreated:R,...T},B){Q.useMemo(()=>uq($J),[]);const C=Vq(),[P,I]=Iq({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=Q.useRef(null),U=Q.useRef(null);Q.useImperativeHandle(B,()=>k.current);const q=eB(S),[W,$]=Q.useState(!1),[ee,ce]=Q.useState(!1);if(W)throw W;if(ee)throw ee;const N=Q.useRef(null);Qp(()=>{const j=k.current;I.width>0&&I.height>0&&j&&(N.current||(N.current=Mq(j)),N.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,scene:b,size:I,onPointerMissed:(...oe)=>q.current==null?void 0:q.current(...oe),onCreated:oe=>{oe.events.connect==null||oe.events.connect(a?dq(a)?a.current:a:U.current),l&&oe.setEvents({compute:(te,ge)=>{const Pe=te[l+"X"],Me=te[l+"Y"];ge.pointer.set(Pe/ge.size.width*2-1,-(Me/ge.size.height)*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),R==null||R(oe)}}),N.current.render(Q.createElement(C,null,Q.createElement(tB,{set:ce},Q.createElement(Q.Suspense,{fallback:Q.createElement(fq,{set:$})},e)))))}),Q.useEffect(()=>{const j=k.current;if(j)return()=>cB(j)},[]);const H=a?"none":"auto";return Q.createElement("div",Mt({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...i}},T),Q.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},Q.createElement("canvas",{ref:k,style:{display:"block"}},t)))}),M7=Q.forwardRef(function(e,t){return Q.createElement(pB,null,Q.createElement(jq,Mt({},e,{ref:t})))}),t0=new V,E7=new V,Zq=new V;function Jq(n,e,t){const r=t0.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function qq(n,e){const t=t0.setFromMatrixPosition(n.matrixWorld),r=E7.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(Zq);return i.angleTo(s)>Math.PI/2}function Xq(n,e,t,r){const i=t0.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function Kq(n,e){if(e instanceof $i)return e.zoom;if(e instanceof hn){const t=t0.setFromMatrixPosition(n.matrixWorld),r=E7.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Yq(n,e,t){if(e instanceof hn||e instanceof $i){const r=t0.setFromMatrixPosition(n.matrixWorld),i=E7.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const W8=n=>Math.abs(n)<1e-10?0:n;function mB(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=W8(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const Qq=(n=>e=>mB(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),$q=(n=>(e,t)=>mB(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function eX(n){return n&&typeof n=="object"&&"current"in n}const tX=Q.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:f,onOcclude:h,castShadow:m,receiveShadow:g,material:v,geometry:y,zIndexRange:x=[16777271,0],calculatePosition:_=Jq,as:b="div",wrapperClass:S,pointerEvents:R="auto",...T},B)=>{const{gl:C,camera:P,scene:I,size:k,raycaster:U,events:q,viewport:W}=qi(),[$]=Q.useState(()=>document.createElement(b)),ee=Q.useRef(),ce=Q.useRef(null),N=Q.useRef(0),H=Q.useRef([0,0]),j=Q.useRef(null),oe=Q.useRef(null),te=(a==null?void 0:a.current)||q.connected||C.domElement.parentNode,ge=Q.useRef(null),Pe=Q.useRef(!1),Me=Q.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&eX(f[0]),[f]);Q.useLayoutEffect(()=>{const F=C.domElement;f&&f==="blending"?(F.style.zIndex=`${Math.floor(x[0]/2)}`,F.style.position="absolute",F.style.pointerEvents="none"):(F.style.zIndex=null,F.style.position=null,F.style.pointerEvents=null)},[f]),Q.useLayoutEffect(()=>{if(ce.current){const F=ee.current=UP($);if(I.updateMatrixWorld(),c)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Y=_(ce.current,P,k);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Y[0]}px,${Y[1]}px,0);transform-origin:0 0;`}return te&&(i?te.prepend($):te.appendChild($)),()=>{te&&te.removeChild($),F.unmount()}}},[te,c]),Q.useLayoutEffect(()=>{S&&($.className=S)},[S]);const de=Q.useMemo(()=>c?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...t},[t,s,o,k,c]),Ve=Q.useMemo(()=>({position:"absolute",pointerEvents:R}),[R]);Q.useLayoutEffect(()=>{if(Pe.current=!1,c){var F;(F=ee.current)==null||F.render(Q.createElement("div",{ref:j,style:de},Q.createElement("div",{ref:oe,style:Ve},Q.createElement("div",{ref:B,className:r,style:t,children:n}))))}else{var Y;(Y=ee.current)==null||Y.render(Q.createElement("div",{ref:B,style:de,className:r,children:n}))}});const ve=Q.useRef(!0);$p(F=>{if(ce.current){P.updateMatrixWorld(),ce.current.updateWorldMatrix(!0,!1);const Y=c?H.current:_(ce.current,P,k);if(c||Math.abs(N.current-P.zoom)>e||Math.abs(H.current[0]-Y[0])>e||Math.abs(H.current[1]-Y[1])>e){const ie=qq(ce.current,P);let re=!1;Me&&(Array.isArray(f)?re=f.map(He=>He.current):f!=="blending"&&(re=[I]));const he=ve.current;if(re){const He=Xq(ce.current,P,U,re);ve.current=He&&!ie}else ve.current=!ie;he!==ve.current&&(h?h(!ve.current):$.style.display=ve.current?"block":"none");const Le=Math.floor(x[0]/2),ke=f?Me?[x[0],Le]:[Le-1,0]:x;if($.style.zIndex=`${Yq(ce.current,P,ke)}`,c){const[He,je]=[k.width/2,k.height/2],We=P.projectionMatrix.elements[5]*je,{isOrthographicCamera:pt,top:ut,left:Z,bottom:G,right:we}=P,Ne=Qq(P.matrixWorldInverse),Ge=pt?`scale(${We})translate(${W8(-(we+Z)/2)}px,${W8((ut+G)/2)}px)`:`translateZ(${We}px)`;let Ce=ce.current.matrixWorld;u&&(Ce=P.matrixWorldInverse.clone().transpose().copyPosition(Ce).scale(ce.current.scale),Ce.elements[3]=Ce.elements[7]=Ce.elements[11]=0,Ce.elements[15]=1),$.style.width=k.width+"px",$.style.height=k.height+"px",$.style.perspective=pt?"":`${We}px`,j.current&&oe.current&&(j.current.style.transform=`${Ge}${Ne}translate(${He}px,${je}px)`,oe.current.style.transform=$q(Ce,1/((l||10)/400)))}else{const He=l===void 0?1:Kq(ce.current,P)*l;$.style.transform=`translate3d(${Y[0]}px,${Y[1]}px,0) scale(${He})`}H.current=Y,N.current=P.zoom}}if(!Me&&ge.current&&!Pe.current)if(c){if(j.current){const Y=j.current.children[0];if(Y!=null&&Y.clientWidth&&Y!=null&&Y.clientHeight){const{isOrthographicCamera:ie}=P;if(ie||y)T.scale&&(Array.isArray(T.scale)?T.scale instanceof V?ge.current.scale.copy(T.scale.clone().divideScalar(1)):ge.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):ge.current.scale.setScalar(1/T.scale));else{const re=(l||10)/400,he=Y.clientWidth*re,Le=Y.clientHeight*re;ge.current.scale.set(he,Le,1)}Pe.current=!0}}}else{const Y=$.children[0];if(Y!=null&&Y.clientWidth&&Y!=null&&Y.clientHeight){const ie=1/W.factor,re=Y.clientWidth*ie,he=Y.clientHeight*ie;ge.current.scale.set(re,he,1),Pe.current=!0}ge.current.lookAt(F.camera.position)}});const O=Q.useMemo(()=>({vertexShader:c?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[c]);return Q.createElement("group",Mt({},T,{ref:ce}),f&&!Me&&Q.createElement("mesh",{castShadow:m,receiveShadow:g,ref:ge},y||Q.createElement("planeGeometry",null),v||Q.createElement("shaderMaterial",{side:ws,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader})))});let zf=0;const nX=ZR(n=>(jc.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-zf)/(r-zf)*100})},jc.onLoad=()=>{n({active:!1})},jc.onError=e=>n(t=>({errors:[...t.errors,e]})),jc.onProgress=(e,t,r)=>{t===r&&(zf=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-zf)/(r-zf)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function gB(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function P7(){}P7.prototype.s2u=function(n){for(var e=this.s2uTable,t="",r=0;r<n.length;){var i=n[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<n.length&&(i=i<<8|n[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),t;t+=String.fromCharCode(e[i])}return t};P7.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function _S(n,e){this.dv=new DataView(n),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new P7}_S.prototype={constructor:_S,getInt8:function(){var n=this.dv.getInt8(this.offset);return this.offset+=1,n},getInt8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt8());return e},getUint8:function(){var n=this.dv.getUint8(this.offset);return this.offset+=1,n},getUint8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint8());return e},getInt16:function(){var n=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,n},getInt16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt16());return e},getUint16:function(){var n=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,n},getUint16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint16());return e},getInt32:function(){var n=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,n},getInt32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt32());return e},getUint32:function(){var n=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,n},getUint32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint32());return e},getFloat32:function(){var n=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n},getFloat32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat32());return e},getFloat64:function(){var n=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n},getFloat64Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat64());return e},getIndex:function(n,e){switch(n){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+n+" exception."}},getIndexArray:function(n,e,t){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(n,t));return r},getChars:function(n){for(var e="";n>0;){var t=this.getUint8();if(n--,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getSjisStringsAsUnicode:function(n){for(var e=[];n>0;){var t=this.getUint8();if(n--,t===0)break;e.push(t)}for(;n>0;)this.getUint8(),n--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(n){for(var e="";n>0;){var t=this.getUint16();if(n-=2,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getTextBuffer:function(){var n=this.getUint32();return this.getUnicodeStrings(n)}};function AS(){}AS.prototype={constructor:AS,leftToRightVector3:function(n){n[2]=-n[2]},leftToRightQuaternion:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightEuler:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightIndexOrder:function(n){var e=n[2];n[2]=n[0],n[0]=e},leftToRightVector3Range:function(n,e){var t=-e[2];e[2]=-n[2],n[2]=t},leftToRightEulerRange:function(n,e){var t=-e[0],r=-e[1];e[0]=-n[0],e[1]=-n[1],n[0]=t,n[1]=r}};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var n=function(){try{var t={},r=Object.defineProperty,i=r(t,t,t)&&r}catch{}return i}(),e=function(t){if(this==null)throw TypeError();var r=String(this),i=r.length,s=t?Number(t):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};n?n(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function yB(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var rX=new yB,iX=new yB,vB=new Uint8Array(30),xB=new Uint16Array(30),sX=new Uint8Array(30),oX=new Uint16Array(30);function wB(n,e,t,r){var i,s;for(i=0;i<t;++i)n[i]=0;for(i=0;i<30-t;++i)n[i+t]=i/t|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<n[i]}function aX(n,e){var t;for(t=0;t<7;++t)n.table[t]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,t=0;t<24;++t)n.trans[t]=256+t;for(t=0;t<144;++t)n.trans[24+t]=t;for(t=0;t<8;++t)n.trans[24+144+t]=280+t;for(t=0;t<112;++t)n.trans[24+144+8+t]=144+t;for(t=0;t<5;++t)e.table[t]=0;for(e.table[5]=32,t=0;t<32;++t)e.trans[t]=t}aX(rX,iX);wB(vB,xB,4,3);wB(sX,oX,2,1);vB[28]=0;xB[28]=258;function Sc(n,e,t,r,i){return Math.pow(1-i,3)*n+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*t+Math.pow(i,3)*r}function hl(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}hl.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};hl.prototype.addPoint=function(n,e){typeof n=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=n,this.x2=n),n<this.x1&&(this.x1=n),n>this.x2&&(this.x2=n)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};hl.prototype.addX=function(n){this.addPoint(n,null)};hl.prototype.addY=function(n){this.addPoint(null,n)};hl.prototype.addBezier=function(n,e,t,r,i,s,o,a){var l=[n,e],u=[t,r],c=[i,s],f=[o,a];this.addPoint(n,e),this.addPoint(o,a);for(var h=0;h<=1;h++){var m=6*l[h]-12*u[h]+6*c[h],g=-3*l[h]+9*u[h]-9*c[h]+3*f[h],v=3*u[h]-3*l[h];if(g===0){if(m===0)continue;var y=-v/m;0<y&&y<1&&(h===0&&this.addX(Sc(l[h],u[h],c[h],f[h],y)),h===1&&this.addY(Sc(l[h],u[h],c[h],f[h],y)));continue}var x=Math.pow(m,2)-4*v*g;if(!(x<0)){var _=(-m+Math.sqrt(x))/(2*g);0<_&&_<1&&(h===0&&this.addX(Sc(l[h],u[h],c[h],f[h],_)),h===1&&this.addY(Sc(l[h],u[h],c[h],f[h],_)));var b=(-m-Math.sqrt(x))/(2*g);0<b&&b<1&&(h===0&&this.addX(Sc(l[h],u[h],c[h],f[h],b)),h===1&&this.addY(Sc(l[h],u[h],c[h],f[h],b)))}}};hl.prototype.addQuad=function(n,e,t,r,i,s){var o=n+.6666666666666666*(t-n),a=e+2/3*(r-e),l=o+1/3*(i-n),u=a+1/3*(s-e);this.addBezier(n,e,o,a,l,u,i,s)};function Qn(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Qn.prototype.moveTo=function(n,e){this.commands.push({type:"M",x:n,y:e})};Qn.prototype.lineTo=function(n,e){this.commands.push({type:"L",x:n,y:e})};Qn.prototype.curveTo=Qn.prototype.bezierCurveTo=function(n,e,t,r,i,s){this.commands.push({type:"C",x1:n,y1:e,x2:t,y2:r,x:i,y:s})};Qn.prototype.quadTo=Qn.prototype.quadraticCurveTo=function(n,e,t,r){this.commands.push({type:"Q",x1:n,y1:e,x:t,y:r})};Qn.prototype.close=Qn.prototype.closePath=function(){this.commands.push({type:"Z"})};Qn.prototype.extend=function(n){if(n.commands)n=n.commands;else if(n instanceof hl){var e=n;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,n)};Qn.prototype.getBoundingBox=function(){for(var n=new hl,e=0,t=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":n.addPoint(o.x,o.y),e=r=o.x,t=i=o.y;break;case"L":n.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":n.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":n.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=t;break;default:throw new Error("Unexpected path command "+o.type)}}return n.isEmpty()&&n.addPoint(0,0),n};Qn.prototype.draw=function(n){n.beginPath();for(var e=0;e<this.commands.length;e+=1){var t=this.commands[e];t.type==="M"?n.moveTo(t.x,t.y):t.type==="L"?n.lineTo(t.x,t.y):t.type==="C"?n.bezierCurveTo(t.x1,t.y1,t.x2,t.y2,t.x,t.y):t.type==="Q"?n.quadraticCurveTo(t.x1,t.y1,t.x,t.y):t.type==="Z"&&n.closePath()}this.fill&&(n.fillStyle=this.fill,n.fill()),this.stroke&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeWidth,n.stroke())};Qn.prototype.toPathData=function(n){n=n!==void 0?n:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(n)}function t(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var u=o[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+t(s.x,s.y):s.type==="L"?r+="L"+t(s.x,s.y):s.type==="C"?r+="C"+t(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+t(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};Qn.prototype.toSVG=function(n){var e='<path d="';return e+=this.toPathData(n),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};Qn.prototype.toDOMElement=function(n){var e=this.toPathData(n),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};function bB(n){throw new Error(n)}function SS(n,e){n||bB(e)}var Et={fail:bB,argument:SS,assert:SS},CS=32768,TS=2147483648,Ed={},Xe={},Ct={};function Ds(n){return function(){return n}}Xe.BYTE=function(n){return Et.argument(n>=0&&n<=255,"Byte value should be between 0 and 255."),[n]};Ct.BYTE=Ds(1);Xe.CHAR=function(n){return[n.charCodeAt(0)]};Ct.CHAR=Ds(1);Xe.CHARARRAY=function(n){typeof n>"u"&&(n="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],t=0;t<n.length;t+=1)e[t]=n.charCodeAt(t);return e};Ct.CHARARRAY=function(n){return typeof n>"u"?0:n.length};Xe.USHORT=function(n){return[n>>8&255,n&255]};Ct.USHORT=Ds(2);Xe.SHORT=function(n){return n>=CS&&(n=-(2*CS-n)),[n>>8&255,n&255]};Ct.SHORT=Ds(2);Xe.UINT24=function(n){return[n>>16&255,n>>8&255,n&255]};Ct.UINT24=Ds(3);Xe.ULONG=function(n){return[n>>24&255,n>>16&255,n>>8&255,n&255]};Ct.ULONG=Ds(4);Xe.LONG=function(n){return n>=TS&&(n=-(2*TS-n)),[n>>24&255,n>>16&255,n>>8&255,n&255]};Ct.LONG=Ds(4);Xe.FIXED=Xe.ULONG;Ct.FIXED=Ct.ULONG;Xe.FWORD=Xe.SHORT;Ct.FWORD=Ct.SHORT;Xe.UFWORD=Xe.USHORT;Ct.UFWORD=Ct.USHORT;Xe.LONGDATETIME=function(n){return[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,n&255]};Ct.LONGDATETIME=Ds(8);Xe.TAG=function(n){return Et.argument(n.length===4,"Tag should be exactly 4 ASCII characters."),[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]};Ct.TAG=Ds(4);Xe.Card8=Xe.BYTE;Ct.Card8=Ct.BYTE;Xe.Card16=Xe.USHORT;Ct.Card16=Ct.USHORT;Xe.OffSize=Xe.BYTE;Ct.OffSize=Ct.BYTE;Xe.SID=Xe.USHORT;Ct.SID=Ct.USHORT;Xe.NUMBER=function(n){return n>=-107&&n<=107?[n+139]:n>=108&&n<=1131?(n=n-108,[(n>>8)+247,n&255]):n>=-1131&&n<=-108?(n=-n-108,[(n>>8)+251,n&255]):n>=-32768&&n<=32767?Xe.NUMBER16(n):Xe.NUMBER32(n)};Ct.NUMBER=function(n){return Xe.NUMBER(n).length};Xe.NUMBER16=function(n){return[28,n>>8&255,n&255]};Ct.NUMBER16=Ds(3);Xe.NUMBER32=function(n){return[29,n>>24&255,n>>16&255,n>>8&255,n&255]};Ct.NUMBER32=Ds(5);Xe.REAL=function(n){var e=n.toString(),t=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(t){var r=parseFloat("1e"+((t[2]?+t[2]:0)+t[1].length));e=(Math.round(n*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],u=0,c=i.length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l};Ct.REAL=function(n){return Xe.REAL(n).length};Xe.NAME=Xe.CHARARRAY;Ct.NAME=Ct.CHARARRAY;Xe.STRING=Xe.CHARARRAY;Ct.STRING=Ct.CHARARRAY;Ed.UTF8=function(n,e,t){for(var r=[],i=t,s=0;s<i;s++,e+=1)r[s]=n.getUint8(e);return String.fromCharCode.apply(null,r)};Ed.UTF16=function(n,e,t){for(var r=[],i=t/2,s=0;s<i;s++,e+=2)r[s]=n.getUint16(e);return String.fromCharCode.apply(null,r)};Xe.UTF16=function(n){for(var e=[],t=0;t<n.length;t+=1){var r=n.charCodeAt(t);e[e.length]=r>>8&255,e[e.length]=r&255}return e};Ct.UTF16=function(n){return n.length*2};var j8={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};Ed.MACSTRING=function(n,e,t,r){var i=j8[r];if(i!==void 0){for(var s="",o=0;o<t;o++){var a=n.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var x3=typeof WeakMap=="function"&&new WeakMap,w3,lX=function(n){if(!w3){w3={};for(var e in j8)w3[e]=new String(e)}var t=w3[n];if(t!==void 0){if(x3){var r=x3.get(t);if(r!==void 0)return r}var i=j8[n];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return x3&&x3.set(t,s),s}}};Xe.MACSTRING=function(n,e){var t=lX(e);if(t!==void 0){for(var r=[],i=0;i<n.length;i++){var s=n.charCodeAt(i);if(s>=128&&(s=t[s],s===void 0))return;r[i]=s}return r}};Ct.MACSTRING=function(n,e){var t=Xe.MACSTRING(n,e);return t!==void 0?t.length:0};function Z8(n){return n>=-128&&n<=127}function uX(n,e,t){for(var r=0,i=n.length;e<i&&r<64&&n[e]===0;)++e,++r;return t.push(128|r-1),e}function cX(n,e,t){for(var r=0,i=n.length,s=e;s<i&&r<64;){var o=n[s];if(!Z8(o)||o===0&&s+1<i&&n[s+1]===0)break;++s,++r}t.push(r-1);for(var a=e;a<s;++a)t.push(n[a]+256&255);return s}function dX(n,e,t){for(var r=0,i=n.length,s=e;s<i&&r<64;){var o=n[s];if(o===0||Z8(o)&&s+1<i&&Z8(n[s+1]))break;++s,++r}t.push(64|r-1);for(var a=e;a<s;++a){var l=n[a];t.push(l+65536>>8&255,l+256&255)}return s}Xe.VARDELTAS=function(n){for(var e=0,t=[];e<n.length;){var r=n[e];r===0?e=uX(n,e,t):r>=-128&&r<=127?e=cX(n,e,t):e=dX(n,e,t)}return t};Xe.INDEX=function(n){for(var e=1,t=[e],r=[],i=0;i<n.length;i+=1){var s=Xe.OBJECT(n[i]);Array.prototype.push.apply(r,s),e+=s.length,t.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,Xe.BYTE,Xe.USHORT,Xe.UINT24,Xe.ULONG][a],u=0;u<t.length;u+=1){var c=l(t[u]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(Xe.Card16(n.length),Xe.OffSize(a),o,r)};Ct.INDEX=function(n){return Xe.INDEX(n).length};Xe.DICT=function(n){for(var e=[],t=Object.keys(n),r=t.length,i=0;i<r;i+=1){var s=parseInt(t[i],0),o=n[s];e=e.concat(Xe.OPERAND(o.value,o.type)),e=e.concat(Xe.OPERATOR(s))}return e};Ct.DICT=function(n){return Xe.DICT(n).length};Xe.OPERATOR=function(n){return n<1200?[n]:[12,n-1200]};Xe.OPERAND=function(n,e){var t=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)Et.argument(n.length===e.length,"Not enough arguments given for type"+e),t=t.concat(Xe.OPERAND(n[r],e[r]));else if(e==="SID")t=t.concat(Xe.NUMBER(n));else if(e==="offset")t=t.concat(Xe.NUMBER32(n));else if(e==="number")t=t.concat(Xe.NUMBER(n));else if(e==="real")t=t.concat(Xe.REAL(n));else throw new Error("Unknown operand type "+e);return t};Xe.OP=Xe.BYTE;Ct.OP=Ct.BYTE;var b3=typeof WeakMap=="function"&&new WeakMap;Xe.CHARSTRING=function(n){if(b3){var e=b3.get(n);if(e!==void 0)return e}for(var t=[],r=n.length,i=0;i<r;i+=1){var s=n[i];t=t.concat(Xe[s.type](s.value))}return b3&&b3.set(n,t),t};Ct.CHARSTRING=function(n){return Xe.CHARSTRING(n).length};Xe.OBJECT=function(n){var e=Xe[n.type];return Et.argument(e!==void 0,"No encoding function for type "+n.type),e(n.value)};Ct.OBJECT=function(n){var e=Ct[n.type];return Et.argument(e!==void 0,"No sizeOf function for type "+n.type),e(n.value)};Xe.TABLE=function(n){for(var e=[],t=n.fields.length,r=[],i=[],s=0;s<t;s+=1){var o=n.fields[s],a=Xe[o.type];Et.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=n[o.name];l===void 0&&(l=o.value);var u=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var c=0;c<r.length;c+=1){var f=i[c],h=e.length;Et.argument(h<65536,"Table "+n.tableName+" too big."),e[f]=h>>8,e[f+1]=h&255,e=e.concat(r[c])}return e};Ct.TABLE=function(n){for(var e=0,t=n.fields.length,r=0;r<t;r+=1){var i=n.fields[r],s=Ct[i.type];Et.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=n[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};Xe.RECORD=Xe.TABLE;Ct.RECORD=Ct.TABLE;Xe.LITERAL=function(n){return n};Ct.LITERAL=function(n){return n.length};function ar(n,e,t){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=n,this.fields=e,t)for(var s=Object.keys(t),o=0;o<s.length;o+=1){var a=s[o],l=t[a];this[a]!==void 0&&(this[a]=l)}}ar.prototype.encode=function(){return Xe.TABLE(this)};ar.prototype.sizeOf=function(){return Ct.TABLE(this)};function fp(n,e,t){t===void 0&&(t=e.length);var r=new Array(e.length+1);r[0]={name:n+"Count",type:"USHORT",value:t};for(var i=0;i<e.length;i++)r[i+1]={name:n+i,type:"USHORT",value:e[i]};return r}function J8(n,e,t){var r=e.length,i=new Array(r+1);i[0]={name:n+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:n+s,type:"TABLE",value:t(e[s],s)};return i}function hp(n,e,t){var r=e.length,i=[];i[0]={name:n+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(t(e[s],s));return i}function Jg(n){n.format===1?ar.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(fp("glyph",n.glyphs))):n.format===2?ar.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(hp("rangeRecord",n.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):Et.assert(!1,"Coverage format must be 1 or 2.")}Jg.prototype=Object.create(ar.prototype);Jg.prototype.constructor=Jg;function qg(n){ar.call(this,"scriptListTable",hp("scriptRecord",n,function(e,t){var r=e.script,i=r.defaultLangSys;return Et.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new ar("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ar("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(fp("featureIndex",i.featureIndexes)))}].concat(hp("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new ar("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(fp("featureIndex",a.featureIndexes)))}]})))}]}))}qg.prototype=Object.create(ar.prototype);qg.prototype.constructor=qg;function Xg(n){ar.call(this,"featureListTable",hp("featureRecord",n,function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new ar("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(fp("lookupListIndex",r.lookupListIndexes)))}]}))}Xg.prototype=Object.create(ar.prototype);Xg.prototype.constructor=Xg;function Kg(n,e){ar.call(this,"lookupListTable",J8("lookup",n,function(t){var r=e[t.lookupType];return Et.assert(!!r,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new ar("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(J8("subtable",t.subtables,r)))}))}Kg.prototype=Object.create(ar.prototype);Kg.prototype.constructor=Kg;var at={Table:ar,Record:ar,Coverage:Jg,ScriptList:qg,FeatureList:Xg,LookupList:Kg,ushortList:fp,tableList:J8,recordList:hp};function MS(n,e){return n.getUint8(e)}function Yg(n,e){return n.getUint16(e,!1)}function fX(n,e){return n.getInt16(e,!1)}function I7(n,e){return n.getUint32(e,!1)}function _B(n,e){var t=n.getInt16(e,!1),r=n.getUint16(e+2,!1);return t+r/65535}function hX(n,e){for(var t="",r=e;r<e+4;r+=1)t+=String.fromCharCode(n.getInt8(r));return t}function pX(n,e,t){for(var r=0,i=0;i<t;i+=1)r<<=8,r+=n.getUint8(e+i);return r}function mX(n,e,t){for(var r=[],i=e;i<t;i+=1)r.push(n.getUint8(i));return r}function gX(n){for(var e="",t=0;t<n.length;t+=1)e+=String.fromCharCode(n[t]);return e}var yX={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Se(n,e){this.data=n,this.offset=e,this.relativeOffset=0}Se.prototype.parseByte=function(){var n=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};Se.prototype.parseChar=function(){var n=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};Se.prototype.parseCard8=Se.prototype.parseByte;Se.prototype.parseUShort=function(){var n=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};Se.prototype.parseCard16=Se.prototype.parseUShort;Se.prototype.parseSID=Se.prototype.parseUShort;Se.prototype.parseOffset16=Se.prototype.parseUShort;Se.prototype.parseShort=function(){var n=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};Se.prototype.parseF2Dot14=function(){var n=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,n};Se.prototype.parseULong=function(){var n=I7(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};Se.prototype.parseOffset32=Se.prototype.parseULong;Se.prototype.parseFixed=function(){var n=_B(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};Se.prototype.parseString=function(n){var e=this.data,t=this.offset+this.relativeOffset,r="";this.relativeOffset+=n;for(var i=0;i<n;i++)r+=String.fromCharCode(e.getUint8(t+i));return r};Se.prototype.parseTag=function(){return this.parseString(4)};Se.prototype.parseLongDateTime=function(){var n=I7(this.data,this.offset+this.relativeOffset+4);return n-=2082844800,this.relativeOffset+=8,n};Se.prototype.parseVersion=function(n){var e=Yg(this.data,this.offset+this.relativeOffset),t=Yg(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,n===void 0&&(n=4096),e+t/n/10};Se.prototype.skip=function(n,e){e===void 0&&(e=1),this.relativeOffset+=yX[n]*e};Se.prototype.parseULongList=function(n){n===void 0&&(n=this.parseULong());for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getUint32(r),r+=4;return this.relativeOffset+=n*4,e};Se.prototype.parseOffset16List=Se.prototype.parseUShortList=function(n){n===void 0&&(n=this.parseUShort());for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getUint16(r),r+=2;return this.relativeOffset+=n*2,e};Se.prototype.parseShortList=function(n){for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getInt16(r),r+=2;return this.relativeOffset+=n*2,e};Se.prototype.parseByteList=function(n){for(var e=new Array(n),t=this.data,r=this.offset+this.relativeOffset,i=0;i<n;i++)e[i]=t.getUint8(r++);return this.relativeOffset+=n,e};Se.prototype.parseList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),r=0;r<n;r++)t[r]=e.call(this);return t};Se.prototype.parseList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),r=0;r<n;r++)t[r]=e.call(this);return t};Se.prototype.parseRecordList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),r=Object.keys(e),i=0;i<n;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}t[i]=s}return t};Se.prototype.parseRecordList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),r=Object.keys(e),i=0;i<n;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}t[i]=s}return t};Se.prototype.parseStruct=function(n){if(typeof n=="function")return n.call(this);for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r],s=n[i];t[i]=s.call(this)}return t};Se.prototype.parseValueRecord=function(n){if(n===void 0&&(n=this.parseUShort()),n!==0){var e={};return n&1&&(e.xPlacement=this.parseShort()),n&2&&(e.yPlacement=this.parseShort()),n&4&&(e.xAdvance=this.parseShort()),n&8&&(e.yAdvance=this.parseShort()),n&16&&(e.xPlaDevice=void 0,this.parseShort()),n&32&&(e.yPlaDevice=void 0,this.parseShort()),n&64&&(e.xAdvDevice=void 0,this.parseShort()),n&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Se.prototype.parseValueRecordList=function(){for(var n=this.parseUShort(),e=this.parseUShort(),t=new Array(e),r=0;r<e;r++)t[r]=this.parseValueRecord(n);return t};Se.prototype.parsePointer=function(n){var e=this.parseOffset16();if(e>0)return new Se(this.data,this.offset+e).parseStruct(n)};Se.prototype.parsePointer32=function(n){var e=this.parseOffset32();if(e>0)return new Se(this.data,this.offset+e).parseStruct(n)};Se.prototype.parseListOfLists=function(n){for(var e=this.parseOffset16List(),t=e.length,r=this.relativeOffset,i=new Array(t),s=0;s<t;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,n){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=o+a[u],l[u]=n.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};Se.prototype.parseCoverage=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort(),t=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(t)};if(e===2){for(var r=new Array(t),i=0;i<t;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+n.toString(16)+": Coverage format must be 1 or 2.")};Se.prototype.parseClassDef=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Se.uShort,end:Se.uShort,classId:Se.uShort})};throw new Error("0x"+n.toString(16)+": ClassDef format must be 1 or 2.")};Se.list=function(n,e){return function(){return this.parseList(n,e)}};Se.list32=function(n,e){return function(){return this.parseList32(n,e)}};Se.recordList=function(n,e){return function(){return this.parseRecordList(n,e)}};Se.recordList32=function(n,e){return function(){return this.parseRecordList32(n,e)}};Se.pointer=function(n){return function(){return this.parsePointer(n)}};Se.pointer32=function(n){return function(){return this.parsePointer32(n)}};Se.tag=Se.prototype.parseTag;Se.byte=Se.prototype.parseByte;Se.uShort=Se.offset16=Se.prototype.parseUShort;Se.uShortList=Se.prototype.parseUShortList;Se.uLong=Se.offset32=Se.prototype.parseULong;Se.uLongList=Se.prototype.parseULongList;Se.struct=Se.prototype.parseStruct;Se.coverage=Se.prototype.parseCoverage;Se.classDef=Se.prototype.parseClassDef;var ES={reserved:Se.uShort,reqFeatureIndex:Se.uShort,featureIndexes:Se.uShortList};Se.prototype.parseScriptList=function(){return this.parsePointer(Se.recordList({tag:Se.tag,script:Se.pointer({defaultLangSys:Se.pointer(ES),langSysRecords:Se.recordList({tag:Se.tag,langSys:Se.pointer(ES)})})}))||[]};Se.prototype.parseFeatureList=function(){return this.parsePointer(Se.recordList({tag:Se.tag,feature:Se.pointer({featureParams:Se.offset16,lookupListIndexes:Se.uShortList})}))||[]};Se.prototype.parseLookupList=function(n){return this.parsePointer(Se.list(Se.pointer(function(){var e=this.parseUShort();Et.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var t=this.parseUShort(),r=t&16;return{lookupType:e,lookupFlag:t,subtables:this.parseList(Se.pointer(n[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};Se.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var n=this.parseUShort(),e=this.parseUShort();Et.argument(n===1&&e<1,"GPOS/GSUB feature variations table unknown.");var t=this.parseRecordList32({conditionSetOffset:Se.offset32,featureTableSubstitutionOffset:Se.offset32});return t})||[]};var Dt={getByte:MS,getCard8:MS,getUShort:Yg,getCard16:Yg,getShort:fX,getULong:I7,getFixed:_B,getTag:hX,getOffset:pX,getBytes:mX,bytesToString:gX,Parser:Se};function vX(n,e){e.parseUShort(),n.length=e.parseULong(),n.language=e.parseULong();var t;n.groupCount=t=e.parseULong(),n.glyphIndexMap={};for(var r=0;r<t;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)n.glyphIndexMap[a]=o,o++}function xX(n,e,t,r,i){n.length=e.parseUShort(),n.language=e.parseUShort();var s;n.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),n.glyphIndexMap={};for(var o=new Dt.Parser(t,r+i+14),a=new Dt.Parser(t,r+i+16+s*2),l=new Dt.Parser(t,r+i+16+s*4),u=new Dt.Parser(t,r+i+16+s*6),c=r+i+16+s*8,f=0;f<s-1;f+=1)for(var h=void 0,m=o.parseUShort(),g=a.parseUShort(),v=l.parseShort(),y=u.parseUShort(),x=g;x<=m;x+=1)y!==0?(c=u.offset+u.relativeOffset-2,c+=y,c+=(x-g)*2,h=Dt.getUShort(t,c),h!==0&&(h=h+v&65535)):h=x+v&65535,n.glyphIndexMap[x]=h}function wX(n,e){var t={};t.version=Dt.getUShort(n,e),Et.argument(t.version===0,"cmap table version should be 0."),t.numTables=Dt.getUShort(n,e+2);for(var r=-1,i=t.numTables-1;i>=0;i-=1){var s=Dt.getUShort(n,e+4+i*8),o=Dt.getUShort(n,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=Dt.getULong(n,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Dt.Parser(n,e+r);if(t.format=a.parseUShort(),t.format===12)vX(t,a);else if(t.format===4)xX(t,a,n,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+t.format+").");return t}function bX(n,e,t){n.segments.push({end:e,start:e,delta:-(e-t),offset:0,glyphIndex:t})}function _X(n){n.segments.push({end:65535,start:65535,delta:1,offset:0})}function AX(n){var e=!0,t;for(t=n.length-1;t>0;t-=1){var r=n.get(t);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new at.Table("cmap",i);for(s.segments=[],t=0;t<n.length;t+=1){for(var o=n.get(t),a=0;a<o.unicodes.length;a+=1)bX(s,o.unicodes[a],t);s.segments=s.segments.sort(function(_,b){return _.start-b.start})}_X(s);var l=s.segments.length,u=0,c=[],f=[],h=[],m=[],g=[],v=[];for(t=0;t<l;t+=1){var y=s.segments[t];y.end<=65535&&y.start<=65535?(c=c.concat({name:"end_"+t,type:"USHORT",value:y.end}),f=f.concat({name:"start_"+t,type:"USHORT",value:y.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:y.delta}),m=m.concat({name:"idRangeOffset_"+t,type:"USHORT",value:y.offset}),y.glyphId!==void 0&&(g=g.concat({name:"glyph_"+t,type:"USHORT",value:y.glyphId}))):u+=1,!e&&y.glyphIndex!==void 0&&(v=v.concat({name:"cmap12Start_"+t,type:"ULONG",value:y.start}),v=v.concat({name:"cmap12End_"+t,type:"ULONG",value:y.end}),v=v.concat({name:"cmap12Glyph_"+t,type:"ULONG",value:y.glyphIndex}))}if(s.segCountX2=(l-u)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(c),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(f),s.fields=s.fields.concat(h),s.fields=s.fields.concat(m),s.fields=s.fields.concat(g),s.cmap4Length=14+c.length*2+2+f.length*2+h.length*2+m.length*2+g.length*2,!e){var x=16+v.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:x},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:v.length/3}]),s.fields=s.fields.concat(v)}return s}var SX={parse:wX,make:AX},sg=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],CX=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],TX=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],PS=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function AB(n){this.font=n}AB.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.font.glyphs;if(t){for(var r=0;r<t.length;r+=1)for(var i=t.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function Qg(n,e){this.encoding=n,this.charset=e}Qg.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.encoding[e];return this.charset.indexOf(t)};function MX(n,e,t,r,i){n.beginPath(),n.moveTo(e,t),n.lineTo(r,i),n.stroke()}var Dl={line:MX};function EX(n,e){var t=e||new Qn;return{configurable:!0,get:function(){return typeof t=="function"&&(t=t()),t},set:function(r){t=r}}}function os(n){this.bindConstructorValues(n)}os.prototype.bindConstructorValues=function(n){this.index=n.index||0,this.name=n.name||null,this.unicode=n.unicode||void 0,this.unicodes=n.unicodes||n.unicode!==void 0?[n.unicode]:[],"xMin"in n&&(this.xMin=n.xMin),"yMin"in n&&(this.yMin=n.yMin),"xMax"in n&&(this.xMax=n.xMax),"yMax"in n&&(this.yMax=n.yMax),"advanceWidth"in n&&(this.advanceWidth=n.advanceWidth),Object.defineProperty(this,"path",EX(this,n.path))};os.prototype.addUnicode=function(n){this.unicodes.length===0&&(this.unicode=n),this.unicodes.push(n)};os.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};os.prototype.getPath=function(n,e,t,r,i){n=n!==void 0?n:0,e=e!==void 0?e:0,t=t!==void 0?t:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,t)),o)s=i.hinting.getCommands(o),n=Math.round(n),e=Math.round(e),a=l=1;else{s=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*t;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new Qn,f=0;f<s.length;f+=1){var h=s[f];h.type==="M"?c.moveTo(n+h.x*a,e+-h.y*l):h.type==="L"?c.lineTo(n+h.x*a,e+-h.y*l):h.type==="Q"?c.quadraticCurveTo(n+h.x1*a,e+-h.y1*l,n+h.x*a,e+-h.y*l):h.type==="C"?c.curveTo(n+h.x1*a,e+-h.y1*l,n+h.x2*a,e+-h.y2*l,n+h.x*a,e+-h.y*l):h.type==="Z"&&c.closePath()}return c};os.prototype.getContours=function(){if(this.points===void 0)return[];for(var n=[],e=[],t=0;t<this.points.length;t+=1){var r=this.points[t];e.push(r),r.lastPointOfContour&&(n.push(e),e=[])}return Et.argument(e.length===0,"There are still points left in the current contour."),n};os.prototype.getMetrics=function(){for(var n=this.path.commands,e=[],t=[],r=0;r<n.length;r+=1){var i=n[r];i.type!=="Z"&&(e.push(i.x),t.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),t.push(i.y1)),i.type==="C"&&(e.push(i.x2),t.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,t),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};os.prototype.draw=function(n,e,t,r,i){this.getPath(e,t,r,i).draw(n)};os.prototype.drawPoints=function(n,e,t,r){function i(f,h,m,g){n.beginPath();for(var v=0;v<f.length;v+=1)n.moveTo(h+f[v].x*g,m+f[v].y*g),n.arc(h+f[v].x*g,m+f[v].y*g,2,0,Math.PI*2,!1);n.closePath(),n.fill()}e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&o.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}n.fillStyle="blue",i(o,e,t,s),n.fillStyle="red",i(a,e,t,s)};os.prototype.drawMetrics=function(n,e,t,r){var i;e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,n.lineWidth=1,n.strokeStyle="black",Dl.line(n,e,-1e4,e,1e4),Dl.line(n,-1e4,t,1e4,t);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;n.strokeStyle="blue",Dl.line(n,e+s*i,-1e4,e+s*i,1e4),Dl.line(n,e+a*i,-1e4,e+a*i,1e4),Dl.line(n,-1e4,t+-o*i,1e4,t+-o*i),Dl.line(n,-1e4,t+-l*i,1e4,t+-l*i),n.strokeStyle="green",Dl.line(n,e+u*i,-1e4,e+u*i,1e4)};function _3(n,e,t){Object.defineProperty(n,e,{get:function(){return n.path,n[t]},set:function(r){n[t]=r},enumerable:!0,configurable:!0})}function R7(n,e){if(this.font=n,this.glyphs={},Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];r.path.unitsPerEm=n.unitsPerEm,this.glyphs[t]=r}this.length=e&&e.length||0}R7.prototype.get=function(n){if(this.glyphs[n]===void 0){this.font._push(n),typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());var e=this.glyphs[n],t=this.font._IndexToUnicodeMap[n];if(t)for(var r=0;r<t.unicodes.length;r++)e.addUnicode(t.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+n:e.name=this.font.cffEncoding.charset[n]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(n)),this.glyphs[n].advanceWidth=this.font._hmtxTableData[n].advanceWidth,this.glyphs[n].leftSideBearing=this.font._hmtxTableData[n].leftSideBearing}else typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());return this.glyphs[n]};R7.prototype.push=function(n,e){this.glyphs[n]=e,this.length++};function PX(n,e){return new os({index:e,font:n})}function IX(n,e,t,r,i,s){return function(){var o=new os({index:e,font:n});return o.path=function(){t(o,r,i);var a=s(n.glyphs,o);return a.unitsPerEm=n.unitsPerEm,a},_3(o,"xMin","_xMin"),_3(o,"xMax","_xMax"),_3(o,"yMin","_yMin"),_3(o,"yMax","_yMax"),o}}function RX(n,e,t,r){return function(){var i=new os({index:e,font:n});return i.path=function(){var s=t(n,i,r);return s.unitsPerEm=n.unitsPerEm,s},i}}var $s={GlyphSet:R7,glyphLoader:PX,ttfGlyphLoader:IX,cffGlyphLoader:RX};function SB(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t+=1)if(!SB(n[t],e[t]))return!1;return!0}else return!1}function q8(n){var e;return n.length<1240?e=107:n.length<33900?e=1131:e=32768,e}function xa(n,e,t){var r=[],i=[],s=Dt.getCard16(n,e),o,a;if(s!==0){var l=Dt.getByte(n,e+2);o=e+(s+1)*l+2;for(var u=e+3,c=0;c<s+1;c+=1)r.push(Dt.getOffset(n,u,l)),u+=l;a=o+r[s]}else a=e+2;for(var f=0;f<r.length-1;f+=1){var h=Dt.getBytes(n,o+r[f],o+r[f+1]);t&&(h=t(h)),i.push(h)}return{objects:i,startOffset:e,endOffset:a}}function BX(n,e){var t=[],r=Dt.getCard16(n,e),i,s;if(r!==0){var o=Dt.getByte(n,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)t.push(Dt.getOffset(n,a,o)),a+=o;s=i+t[r]}else s=e+2;return{offsets:t,startOffset:e,endOffset:s}}function DX(n,e,t,r,i){var s=Dt.getCard16(t,r),o=0;if(s!==0){var a=Dt.getByte(t,r+2);o=r+(s+1)*a+2}var l=Dt.getBytes(t,o+e[n],o+e[n+1]);return i&&(l=i(l)),l}function kX(n){for(var e="",t=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=n.parseByte(),s=i>>4,o=i&15;if(s===t||(e+=r[s],o===t))break;e+=r[o]}return parseFloat(e)}function LX(n,e){var t,r,i,s;if(e===28)return t=n.parseByte(),r=n.parseByte(),t<<8|r;if(e===29)return t=n.parseByte(),r=n.parseByte(),i=n.parseByte(),s=n.parseByte(),t<<24|r<<16|i<<8|s;if(e===30)return kX(n);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return t=n.parseByte(),(e-247)*256+t+108;if(e>=251&&e<=254)return t=n.parseByte(),-(e-251)*256-t-108;throw new Error("Invalid b0 "+e)}function OX(n){for(var e={},t=0;t<n.length;t+=1){var r=n[t][0],i=n[t][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function CB(n,e,t){e=e!==void 0?e:0;var r=new Dt.Parser(n,e),i=[],s=[];for(t=t!==void 0?t:n.length;r.relativeOffset<t;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(LX(r,o))}return OX(i)}function Eh(n,e){return e<=390?e=sg[e]:e=n[e-391],e}function TB(n,e,t){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=n[o.op]!==void 0?n[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=Eh(t,i)),a[l]=i;r[o.name]=a}else i=n[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=Eh(t,i)),r[o.name]=i}return r}function FX(n,e){var t={};return t.formatMajor=Dt.getCard8(n,e),t.formatMinor=Dt.getCard8(n,e+1),t.size=Dt.getCard8(n,e+2),t.offsetSize=Dt.getCard8(n,e+3),t.startOffset=e,t.endOffset=e+4,t}var MB=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],EB=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function NX(n,e){var t=CB(n,0,n.byteLength);return TB(t,MB,e)}function PB(n,e,t,r){var i=CB(n,e,t);return TB(i,EB,r)}function IS(n,e,t,r){for(var i=[],s=0;s<t.length;s+=1){var o=new DataView(new Uint8Array(t[s]).buffer),a=NX(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=PB(n,u+e,l,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var f=u+c.subrs,h=xa(n,f+e);a._subrs=h.objects,a._subrsBias=q8(a._subrs)}a._privateDict=c}i.push(a)}return i}function UX(n,e,t,r){var i,s,o=new Dt.Parser(n,e);t-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var u=0;u<t;u+=1)i=o.parseSID(),a.push(Eh(r,i));else if(l===1)for(;a.length<=t;){i=o.parseSID(),s=o.parseCard8();for(var c=0;c<=s;c+=1)a.push(Eh(r,i)),i+=1}else if(l===2)for(;a.length<=t;){i=o.parseSID(),s=o.parseCard16();for(var f=0;f<=s;f+=1)a.push(Eh(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function GX(n,e,t){var r,i={},s=new Dt.Parser(n,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var u=s.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var f=s.parseCard8(),h=s.parseCard8(),m=f;m<=f+h;m+=1)i[m]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new Qg(i,t)}function RS(n,e,t){var r,i,s,o,a=new Qn,l=[],u=0,c=!1,f=!1,h=0,m=0,g,v,y,x;if(n.isCIDFont){var _=n.tables.cff.topDict._fdSelect[e.index],b=n.tables.cff.topDict._fdArray[_];g=b._subrs,v=b._subrsBias,y=b._defaultWidthX,x=b._nominalWidthX}else g=n.tables.cff.topDict._subrs,v=n.tables.cff.topDict._subrsBias,y=n.tables.cff.topDict._defaultWidthX,x=n.tables.cff.topDict._nominalWidthX;var S=y;function R(C,P){f&&a.closePath(),a.moveTo(C,P),f=!0}function T(){var C;C=l.length%2!==0,C&&!c&&(S=l.shift()+x),u+=l.length>>1,l.length=0,c=!0}function B(C){for(var P,I,k,U,q,W,$,ee,ce,N,H,j,oe=0;oe<C.length;){var te=C[oe];switch(oe+=1,te){case 1:T();break;case 3:T();break;case 4:l.length>1&&!c&&(S=l.shift()+x,c=!0),m+=l.pop(),R(h,m);break;case 5:for(;l.length>0;)h+=l.shift(),m+=l.shift(),a.lineTo(h,m);break;case 6:for(;l.length>0&&(h+=l.shift(),a.lineTo(h,m),l.length!==0);)m+=l.shift(),a.lineTo(h,m);break;case 7:for(;l.length>0&&(m+=l.shift(),a.lineTo(h,m),l.length!==0);)h+=l.shift(),a.lineTo(h,m);break;case 8:for(;l.length>0;)r=h+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,h,m);break;case 10:q=l.pop()+v,W=g[q],W&&B(W);break;case 11:return;case 12:switch(te=C[oe],oe+=1,te){case 35:r=h+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),$=s+l.shift(),ee=o+l.shift(),ce=$+l.shift(),N=ee+l.shift(),H=ce+l.shift(),j=N+l.shift(),h=H+l.shift(),m=j+l.shift(),l.shift(),a.curveTo(r,i,s,o,$,ee),a.curveTo(ce,N,H,j,h,m);break;case 34:r=h+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),$=s+l.shift(),ee=o,ce=$+l.shift(),N=o,H=ce+l.shift(),j=m,h=H+l.shift(),a.curveTo(r,i,s,o,$,ee),a.curveTo(ce,N,H,j,h,m);break;case 36:r=h+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),$=s+l.shift(),ee=o,ce=$+l.shift(),N=o,H=ce+l.shift(),j=N+l.shift(),h=H+l.shift(),a.curveTo(r,i,s,o,$,ee),a.curveTo(ce,N,H,j,h,m);break;case 37:r=h+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),$=s+l.shift(),ee=o+l.shift(),ce=$+l.shift(),N=ee+l.shift(),H=ce+l.shift(),j=N+l.shift(),Math.abs(H-h)>Math.abs(j-m)?h=H+l.shift():m=j+l.shift(),a.curveTo(r,i,s,o,$,ee),a.curveTo(ce,N,H,j,h,m);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+te),l.length=0}break;case 14:l.length>0&&!c&&(S=l.shift()+x,c=!0),f&&(a.closePath(),f=!1);break;case 18:T();break;case 19:case 20:T(),oe+=u+7>>3;break;case 21:l.length>2&&!c&&(S=l.shift()+x,c=!0),m+=l.pop(),h+=l.pop(),R(h,m);break;case 22:l.length>1&&!c&&(S=l.shift()+x,c=!0),h+=l.pop(),R(h,m);break;case 23:T();break;case 24:for(;l.length>2;)r=h+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,h,m);h+=l.shift(),m+=l.shift(),a.lineTo(h,m);break;case 25:for(;l.length>6;)h+=l.shift(),m+=l.shift(),a.lineTo(h,m);r=h+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,h,m);break;case 26:for(l.length%2&&(h+=l.shift());l.length>0;)r=h,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s,m=o+l.shift(),a.curveTo(r,i,s,o,h,m);break;case 27:for(l.length%2&&(m+=l.shift());l.length>0;)r=h+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),m=o,a.curveTo(r,i,s,o,h,m);break;case 28:P=C[oe],I=C[oe+1],l.push((P<<24|I<<16)>>16),oe+=2;break;case 29:q=l.pop()+n.gsubrsBias,W=n.gsubrs[q],W&&B(W);break;case 30:for(;l.length>0&&(r=h,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,m),l.length!==0);)r=h+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,m);break;case 31:for(;l.length>0&&(r=h+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,m),l.length!==0);)r=h,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,m);break;default:te<32?console.log("Glyph "+e.index+": unknown operator "+te):te<247?l.push(te-139):te<251?(P=C[oe],oe+=1,l.push((te-247)*256+P+108)):te<255?(P=C[oe],oe+=1,l.push(-(te-251)*256-P-108)):(P=C[oe],I=C[oe+1],k=C[oe+2],U=C[oe+3],oe+=4,l.push((P<<24|I<<16|k<<8|U)/65536))}}}return B(t),e.advanceWidth=S,a}function zX(n,e,t,r){var i=[],s,o=new Dt.Parser(n,e),a=o.parseCard8();if(a===0)for(var l=0;l<t;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var u=o.parseCard16(),c=o.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var f,h=0;h<u;h++){if(s=o.parseCard8(),f=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(f>t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+f);for(;c<f;c++)i.push(s);c=f}if(f!==t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+f)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function HX(n,e,t,r){t.tables.cff={};var i=FX(n,e),s=xa(n,i.endOffset,Dt.bytesToString),o=xa(n,s.endOffset),a=xa(n,o.endOffset,Dt.bytesToString),l=xa(n,a.endOffset);t.gsubrs=l.objects,t.gsubrsBias=q8(t.gsubrs);var u=IS(n,e,o.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(t.tables.cff.topDict=c,c._privateDict&&(t.defaultWidthX=c._privateDict.defaultWidthX,t.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(t.isCIDFont=!0),t.isCIDFont){var f=c.fdArray,h=c.fdSelect;if(f===0||h===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");f+=e;var m=xa(n,f),g=IS(n,e,m.objects,a.objects);c._fdArray=g,h+=e,c._fdSelect=zX(n,h,t.numGlyphs,g.length)}var v=e+c.private[1],y=PB(n,v,c.private[0],a.objects);if(t.defaultWidthX=y.defaultWidthX,t.nominalWidthX=y.nominalWidthX,y.subrs!==0){var x=v+y.subrs,_=xa(n,x);t.subrs=_.objects,t.subrsBias=q8(t.subrs)}else t.subrs=[],t.subrsBias=0;var b;r.lowMemory?(b=BX(n,e+c.charStrings),t.nGlyphs=b.offsets.length):(b=xa(n,e+c.charStrings),t.nGlyphs=b.objects.length);var S=UX(n,e+c.charset,t.nGlyphs,a.objects);if(c.encoding===0?t.cffEncoding=new Qg(CX,S):c.encoding===1?t.cffEncoding=new Qg(TX,S):t.cffEncoding=GX(n,e+c.encoding,S),t.encoding=t.encoding||t.cffEncoding,t.glyphs=new $s.GlyphSet(t),r.lowMemory)t._push=function(B){var C=DX(B,b.offsets,n,e+c.charStrings);t.glyphs.push(B,$s.cffGlyphLoader(t,B,RS,C))};else for(var R=0;R<t.nGlyphs;R+=1){var T=b.objects[R];t.glyphs.push(R,$s.cffGlyphLoader(t,R,RS,T))}}function IB(n,e){var t,r=sg.indexOf(n);return r>=0&&(t=r),r=e.indexOf(n),r>=0?t=r+sg.length:(t=sg.length+e.length,e.push(n)),t}function VX(){return new at.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function WX(n){var e=new at.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var t=0;t<n.length;t+=1)e.names.push({name:"name_"+t,type:"NAME",value:n[t]});return e}function RB(n,e,t){for(var r={},i=0;i<n.length;i+=1){var s=n[i],o=e[s.name];o!==void 0&&!SB(o,s.value)&&(s.type==="SID"&&(o=IB(o,t)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function BS(n,e){var t=new at.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=RB(MB,n,e),t}function DS(n){var e=new at.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:n}],e}function jX(n){var e=new at.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var t=0;t<n.length;t+=1)e.strings.push({name:"string_"+t,type:"STRING",value:n[t]});return e}function ZX(){return new at.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function JX(n,e){for(var t=new at.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<n.length;r+=1){var i=n[r],s=IB(i,e);t.fields.push({name:"glyph_"+r,type:"SID",value:s})}return t}function qX(n){var e=[],t=n.path;e.push({name:"width",type:"NUMBER",value:n.advanceWidth});for(var r=0,i=0,s=0;s<t.commands.length;s+=1){var o=void 0,a=void 0,l=t.commands[s];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var f=Math.round(l.x1-r),h=Math.round(l.y1-i),m=Math.round(l.x2-l.x1),g=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:f}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:m}),e.push({name:"dy2",type:"NUMBER",value:g}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function XX(n){for(var e=new at.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),t=0;t<n.length;t+=1){var r=n.get(t),i=qX(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function KX(n,e){var t=new at.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=RB(EB,n,e),t}function YX(n,e){for(var t=new at.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<n.length;l+=1)a=n.get(l),o.push(a.name);var u=[];t.header=VX(),t.nameIndex=WX([e.postScriptName]);var c=BS(i,u);t.topDictIndex=DS(c),t.globalSubrIndex=ZX(),t.charsets=JX(o,u),t.charStringsIndex=XX(n),t.privateDict=KX(s,u),t.stringIndex=jX(u);var f=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();return i.charset=f,i.encoding=0,i.charStrings=i.charset+t.charsets.sizeOf(),i.private[1]=i.charStrings+t.charStringsIndex.sizeOf(),c=BS(i,u),t.topDictIndex=DS(c),t}var QX={parse:HX,make:YX};function $X(n,e){var t={},r=new Dt.Parser(n,e);return t.version=r.parseVersion(),t.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,t.checkSumAdjustment=r.parseULong(),t.magicNumber=r.parseULong(),Et.argument(t.magicNumber===1594834165,"Font header has wrong magic number."),t.flags=r.parseUShort(),t.unitsPerEm=r.parseUShort(),t.created=r.parseLongDateTime(),t.modified=r.parseLongDateTime(),t.xMin=r.parseShort(),t.yMin=r.parseShort(),t.xMax=r.parseShort(),t.yMax=r.parseShort(),t.macStyle=r.parseUShort(),t.lowestRecPPEM=r.parseUShort(),t.fontDirectionHint=r.parseShort(),t.indexToLocFormat=r.parseShort(),t.glyphDataFormat=r.parseShort(),t}function eK(n){var e=Math.round(new Date().getTime()/1e3)+2082844800,t=e;return n.createdTimestamp&&(t=n.createdTimestamp+2082844800),new at.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:t},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],n)}var tK={parse:$X,make:eK};function nK(n,e){var t={},r=new Dt.Parser(n,e);return t.version=r.parseVersion(),t.ascender=r.parseShort(),t.descender=r.parseShort(),t.lineGap=r.parseShort(),t.advanceWidthMax=r.parseUShort(),t.minLeftSideBearing=r.parseShort(),t.minRightSideBearing=r.parseShort(),t.xMaxExtent=r.parseShort(),t.caretSlopeRise=r.parseShort(),t.caretSlopeRun=r.parseShort(),t.caretOffset=r.parseShort(),r.relativeOffset+=8,t.metricDataFormat=r.parseShort(),t.numberOfHMetrics=r.parseUShort(),t}function rK(n){return new at.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],n)}var iK={parse:nK,make:rK};function sK(n,e,t,r,i){for(var s,o,a=new Dt.Parser(n,e),l=0;l<r;l+=1){l<t&&(s=a.parseUShort(),o=a.parseShort());var u=i.get(l);u.advanceWidth=s,u.leftSideBearing=o}}function oK(n,e,t,r,i){n._hmtxTableData={};for(var s,o,a=new Dt.Parser(e,t),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),n._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function aK(n,e,t,r,i,s,o){o.lowMemory?oK(n,e,t,r,i):sK(e,t,r,i,s)}function lK(n){for(var e=new at.Table("hmtx",[]),t=0;t<n.length;t+=1){var r=n.get(t),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+t,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+t,type:"SHORT",value:s})}return e}var uK={parse:aK,make:lK};function cK(n){for(var e=new at.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:n.length}]),t="",r=12+n.length*4,i=0;i<n.length;++i){var s=t.indexOf(n[i]);s<0&&(s=t.length,t+=n[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:n[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),e}function dK(n,e){var t=new Dt.Parser(n,e),r=t.parseULong();Et.argument(r===1,"Unsupported ltag table version."),t.skip("uLong",1);for(var i=t.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+t.parseUShort(),u=t.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(n.getInt8(c));s.push(a)}return s}var fK={make:cK,parse:dK};function hK(n,e){var t={},r=new Dt.Parser(n,e);return t.version=r.parseVersion(),t.numGlyphs=r.parseUShort(),t.version===1&&(t.maxPoints=r.parseUShort(),t.maxContours=r.parseUShort(),t.maxCompositePoints=r.parseUShort(),t.maxCompositeContours=r.parseUShort(),t.maxZones=r.parseUShort(),t.maxTwilightPoints=r.parseUShort(),t.maxStorage=r.parseUShort(),t.maxFunctionDefs=r.parseUShort(),t.maxInstructionDefs=r.parseUShort(),t.maxStackElements=r.parseUShort(),t.maxSizeOfInstructions=r.parseUShort(),t.maxComponentElements=r.parseUShort(),t.maxComponentDepth=r.parseUShort()),t}function pK(n){return new at.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:n}])}var mK={parse:hK,make:pK},BB=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],DB={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},gK={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},kB={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function yK(n,e,t){switch(n){case 0:if(e===65535)return"und";if(t)return t[e];break;case 1:return DB[e];case 3:return kB[e]}}var X8="utf-16",vK={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},xK={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function LB(n,e,t){switch(n){case 0:return X8;case 1:return xK[t]||vK[e];case 3:if(e===1||e===10)return X8;break}}function wK(n,e,t){for(var r={},i=new Dt.Parser(n,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var u=i.parseUShort(),c=i.parseUShort(),f=i.parseUShort(),h=i.parseUShort(),m=BB[h]||h,g=i.parseUShort(),v=i.parseUShort(),y=yK(u,f,t),x=LB(u,c,f);if(x!==void 0&&y!==void 0){var _=void 0;if(x===X8?_=Ed.UTF16(n,a+v,g):_=Ed.MACSTRING(n,a+v,g,x),_){var b=r[m];b===void 0&&(b=r[m]={}),b[y]=_}}}return s===1&&i.parseUShort(),r}function x5(n){var e={};for(var t in n)e[n[t]]=parseInt(t);return e}function kS(n,e,t,r,i,s){return new at.Record("NameRecord",[{name:"platformID",type:"USHORT",value:n},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:t},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function bK(n,e){var t=n.length,r=e.length-t+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<t;s++)if(e[i+s]!==n[s])continue e;return i}return-1}function LS(n,e){var t=bK(n,e);if(t<0){t=e.length;for(var r=0,i=n.length;r<i;++r)e.push(n[r])}return t}function _K(n,e){var t,r=[],i={},s=x5(BB);for(var o in n){var a=s[o];if(a===void 0&&(a=o),t=parseInt(a),isNaN(t))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[t]=n[o],r.push(t)}for(var l=x5(DB),u=x5(kB),c=[],f=[],h=0;h<r.length;h++){t=r[h];var m=i[t];for(var g in m){var v=m[g],y=1,x=l[g],_=gK[x],b=LB(y,_,x),S=Xe.MACSTRING(v,b);S===void 0&&(y=0,x=e.indexOf(g),x<0&&(x=e.length,e.push(g)),_=4,S=Xe.UTF16(v));var R=LS(S,f);c.push(kS(y,_,x,t,S.length,R));var T=u[g];if(T!==void 0){var B=Xe.UTF16(v),C=LS(B,f);c.push(kS(3,1,T,t,B.length,C))}}}c.sort(function(k,U){return k.platformID-U.platformID||k.encodingID-U.encodingID||k.languageID-U.languageID||k.nameID-U.nameID});for(var P=new at.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),I=0;I<c.length;I++)P.fields.push({name:"record_"+I,type:"RECORD",value:c[I]});return P.fields.push({name:"strings",type:"LITERAL",value:f}),P}var AK={parse:wK,make:_K},K8=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function SK(n){for(var e=0;e<K8.length;e+=1){var t=K8[e];if(n>=t.begin&&n<t.end)return e}return-1}function CK(n,e){var t={},r=new Dt.Parser(n,e);t.version=r.parseUShort(),t.xAvgCharWidth=r.parseShort(),t.usWeightClass=r.parseUShort(),t.usWidthClass=r.parseUShort(),t.fsType=r.parseUShort(),t.ySubscriptXSize=r.parseShort(),t.ySubscriptYSize=r.parseShort(),t.ySubscriptXOffset=r.parseShort(),t.ySubscriptYOffset=r.parseShort(),t.ySuperscriptXSize=r.parseShort(),t.ySuperscriptYSize=r.parseShort(),t.ySuperscriptXOffset=r.parseShort(),t.ySuperscriptYOffset=r.parseShort(),t.yStrikeoutSize=r.parseShort(),t.yStrikeoutPosition=r.parseShort(),t.sFamilyClass=r.parseShort(),t.panose=[];for(var i=0;i<10;i++)t.panose[i]=r.parseByte();return t.ulUnicodeRange1=r.parseULong(),t.ulUnicodeRange2=r.parseULong(),t.ulUnicodeRange3=r.parseULong(),t.ulUnicodeRange4=r.parseULong(),t.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),t.fsSelection=r.parseUShort(),t.usFirstCharIndex=r.parseUShort(),t.usLastCharIndex=r.parseUShort(),t.sTypoAscender=r.parseShort(),t.sTypoDescender=r.parseShort(),t.sTypoLineGap=r.parseShort(),t.usWinAscent=r.parseUShort(),t.usWinDescent=r.parseUShort(),t.version>=1&&(t.ulCodePageRange1=r.parseULong(),t.ulCodePageRange2=r.parseULong()),t.version>=2&&(t.sxHeight=r.parseShort(),t.sCapHeight=r.parseShort(),t.usDefaultChar=r.parseUShort(),t.usBreakChar=r.parseUShort(),t.usMaxContent=r.parseUShort()),t}function TK(n){return new at.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],n)}var OS={parse:CK,make:TK,unicodeRanges:K8,getUnicodeRange:SK};function MK(n,e){var t={},r=new Dt.Parser(n,e);switch(t.version=r.parseVersion(),t.italicAngle=r.parseFixed(),t.underlinePosition=r.parseShort(),t.underlineThickness=r.parseShort(),t.isFixedPitch=r.parseULong(),t.minMemType42=r.parseULong(),t.maxMemType42=r.parseULong(),t.minMemType1=r.parseULong(),t.maxMemType1=r.parseULong(),t.version){case 1:t.names=PS.slice();break;case 2:t.numberOfGlyphs=r.parseUShort(),t.glyphNameIndex=new Array(t.numberOfGlyphs);for(var i=0;i<t.numberOfGlyphs;i++)t.glyphNameIndex[i]=r.parseUShort();t.names=[];for(var s=0;s<t.numberOfGlyphs;s++)if(t.glyphNameIndex[s]>=PS.length){var o=r.parseChar();t.names.push(r.parseString(o))}break;case 2.5:t.numberOfGlyphs=r.parseUShort(),t.offset=new Array(t.numberOfGlyphs);for(var a=0;a<t.numberOfGlyphs;a++)t.offset[a]=r.parseChar();break}return t}function EK(){return new at.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var PK={parse:MK,make:EK},Ms=new Array(9);Ms[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(Se.coverage),deltaGlyphId:this.parseUShort()};if(t===2)return{substFormat:2,coverage:this.parsePointer(Se.coverage),substitute:this.parseOffset16List()};Et.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Ms[2]=function(){var e=this.parseUShort();return Et.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Se.coverage),sequences:this.parseListOfLists()}};Ms[3]=function(){var e=this.parseUShort();return Et.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Se.coverage),alternateSets:this.parseListOfLists()}};Ms[4]=function(){var e=this.parseUShort();return Et.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Se.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var ad={sequenceIndex:Se.uShort,lookupListIndex:Se.uShort};Ms[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:t,coverage:this.parsePointer(Se.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,ad)}})};if(t===2)return{substFormat:t,coverage:this.parsePointer(Se.coverage),classDef:this.parsePointer(Se.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,ad)}})};if(t===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,Se.pointer(Se.coverage)),lookupRecords:this.parseRecordList(i,ad)}}Et.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Ms[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(Se.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ad)}})};if(t===2)return{substFormat:2,coverage:this.parsePointer(Se.coverage),backtrackClassDef:this.parsePointer(Se.classDef),inputClassDef:this.parsePointer(Se.classDef),lookaheadClassDef:this.parsePointer(Se.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ad)}})};if(t===3)return{substFormat:3,backtrackCoverage:this.parseList(Se.pointer(Se.coverage)),inputCoverage:this.parseList(Se.pointer(Se.coverage)),lookaheadCoverage:this.parseList(Se.pointer(Se.coverage)),lookupRecords:this.parseRecordList(ad)};Et.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Ms[7]=function(){var e=this.parseUShort();Et.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new Se(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:Ms[t].call(r)}};Ms[8]=function(){var e=this.parseUShort();return Et.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Se.coverage),backtrackCoverage:this.parseList(Se.pointer(Se.coverage)),lookaheadCoverage:this.parseList(Se.pointer(Se.coverage)),substitutes:this.parseUShortList()}};function IK(n,e){e=e||0;var t=new Se(n,e),r=t.parseVersion(1);return Et.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Ms)}:{version:r,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Ms),variations:t.parseFeatureVariationsList()}}var Xd=new Array(9);Xd[1]=function(e){return e.substFormat===1?new at.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new at.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new at.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new at.Coverage(e.coverage)}].concat(at.ushortList("substitute",e.substitute)))};Xd[2]=function(e){return Et.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new at.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new at.Coverage(e.coverage)}].concat(at.tableList("seqSet",e.sequences,function(t){return new at.Table("sequenceSetTable",at.ushortList("sequence",t))})))};Xd[3]=function(e){return Et.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new at.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new at.Coverage(e.coverage)}].concat(at.tableList("altSet",e.alternateSets,function(t){return new at.Table("alternateSetTable",at.ushortList("alternate",t))})))};Xd[4]=function(e){return Et.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new at.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new at.Coverage(e.coverage)}].concat(at.tableList("ligSet",e.ligatureSets,function(t){return new at.Table("ligatureSetTable",at.tableList("ligature",t,function(r){return new at.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(at.ushortList("component",r.components,r.components.length+1)))}))})))};Xd[6]=function(e){if(e.substFormat===1){var t=new at.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new at.Coverage(e.coverage)}].concat(at.tableList("chainRuleSet",e.chainRuleSets,function(s){return new at.Table("chainRuleSetTable",at.tableList("chainRule",s,function(o){var a=at.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(at.ushortList("inputGlyph",o.input,o.input.length+1)).concat(at.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(at.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new at.Table("chainRuleTable",a)}))})));return t}else if(e.substFormat===2)Et.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new at.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new at.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new at.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new at.Table("chainContextTable",r);return i}Et.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function RK(n){return new at.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new at.ScriptList(n.scripts)},{name:"features",type:"TABLE",value:new at.FeatureList(n.features)},{name:"lookups",type:"TABLE",value:new at.LookupList(n.lookups,Xd)}])}var BK={parse:IK,make:RK};function DK(n,e){var t=new Dt.Parser(n,e),r=t.parseULong();Et.argument(r===1,"Unsupported META table version."),t.parseULong(),t.parseULong();for(var i=t.parseULong(),s={},o=0;o<i;o++){var a=t.parseTag(),l=t.parseULong(),u=t.parseULong(),c=Ed.UTF8(n,e+l,u);s[a]=c}return s}function kK(n){var e=Object.keys(n).length,t="",r=16+e*12,i=new at.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in n){var o=t.length;t+=n[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:n[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),i}var LK={parse:DK,make:kK};function FS(n){return Math.log(n)/Math.log(2)|0}function B7(n){for(;n.length%4!==0;)n.push(0);for(var e=0,t=0;t<n.length;t+=4)e+=(n[t]<<24)+(n[t+1]<<16)+(n[t+2]<<8)+n[t+3];return e%=Math.pow(2,32),e}function NS(n,e,t,r){return new at.Record("Table Record",[{name:"tag",type:"TAG",value:n!==void 0?n:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:t!==void 0?t:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function OB(n){var e=new at.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=n,e.numTables=n.length;var t=Math.pow(2,FS(e.numTables));e.searchRange=16*t,e.entrySelector=FS(t),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+NS().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<n.length;o+=1){var a=n[o];Et.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=NS(a.tableName,B7(a.encode()),s,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,Et.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,f){return c.value.tag>f.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function US(n,e,t){for(var r=0;r<e.length;r+=1){var i=n.charToGlyphIndex(e[r]);if(i>0){var s=n.glyphs.get(i);return s.getMetrics()}}return t}function OK(n){for(var e=0,t=0;t<n.length;t+=1)e+=n[t];return e/n.length}function FK(n){for(var e=[],t=[],r=[],i=[],s=[],o=[],a=[],l,u=0,c=0,f=0,h=0,m=0,g=0;g<n.glyphs.length;g+=1){var v=n.glyphs.get(g),y=v.unicode|0;if(isNaN(v.advanceWidth))throw new Error("Glyph "+v.name+" ("+g+"): advanceWidth is not a number.");(l>y||l===void 0)&&y>0&&(l=y),u<y&&(u=y);var x=OS.getUnicodeRange(y);if(x<32)c|=1<<x;else if(x<64)f|=1<<x-32;else if(x<96)h|=1<<x-64;else if(x<123)m|=1<<x-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(v.name!==".notdef"){var _=v.getMetrics();e.push(_.xMin),t.push(_.yMin),r.push(_.xMax),i.push(_.yMax),o.push(_.leftSideBearing),a.push(_.rightSideBearing),s.push(v.advanceWidth)}}var b={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:OK(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};b.ascender=n.ascender,b.descender=n.descender;var S=tK.make({flags:3,unitsPerEm:n.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:n.createdTimestamp}),R=iK.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:n.glyphs.length}),T=mK.make(n.glyphs.length),B=OS.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:f,ulUnicodeRange3:h,ulUnicodeRange4:m,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:US(n,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:US(n,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:n.hasChar(" ")?32:0,usBreakChar:n.hasChar(" ")?32:0},n.tables.os2)),C=uK.make(n.glyphs),P=SX.make(n.glyphs),I=n.getEnglishName("fontFamily"),k=n.getEnglishName("fontSubfamily"),U=I+" "+k,q=n.getEnglishName("postScriptName");q||(q=I.replace(/\s/g,"")+"-"+k);var W={};for(var $ in n.names)W[$]=n.names[$];W.uniqueID||(W.uniqueID={en:n.getEnglishName("manufacturer")+":"+U}),W.postScriptName||(W.postScriptName={en:q}),W.preferredFamily||(W.preferredFamily=n.names.fontFamily),W.preferredSubfamily||(W.preferredSubfamily=n.names.fontSubfamily);var ee=[],ce=AK.make(W,ee),N=ee.length>0?fK.make(ee):void 0,H=PK.make(),j=QX.make(n.glyphs,{version:n.getEnglishName("version"),fullName:U,familyName:I,weightName:k,postScriptName:q,unitsPerEm:n.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),oe=n.metas&&Object.keys(n.metas).length>0?LK.make(n.metas):void 0,te=[S,R,T,B,ce,P,H,j,C];N&&te.push(N),n.tables.gsub&&te.push(BK.make(n.tables.gsub)),oe&&te.push(oe);for(var ge=OB(te),Pe=ge.encode(),Me=B7(Pe),de=ge.fields,Ve=!1,ve=0;ve<de.length;ve+=1)if(de[ve].name==="head table"){de[ve].value.checkSumAdjustment=2981146554-Me,Ve=!0;break}if(!Ve)throw new Error("Could not find head table with checkSum to adjust.");return ge}var NK={make:OB,fontToTable:FK,computeCheckSum:B7};function w5(n,e){for(var t=0,r=n.length-1;t<=r;){var i=t+r>>>1,s=n[i].tag;if(s===e)return i;s<e?t=i+1:r=i-1}return-t-1}function GS(n,e){for(var t=0,r=n.length-1;t<=r;){var i=t+r>>>1,s=n[i];if(s===e)return i;s<e?t=i+1:r=i-1}return-t-1}function zS(n,e){for(var t,r=0,i=n.length-1;r<=i;){var s=r+i>>>1;t=n[s];var o=t.start;if(o===e)return t;o<e?r=s+1:i=s-1}if(r>0)return t=n[r-1],e>t.end?0:t}function n0(n,e){this.font=n,this.tableName=e}n0.prototype={searchTag:w5,binSearch:GS,getTable:function(n){var e=this.font.tables[this.tableName];return!e&&n&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var n=this.getTable();return n?n.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var n=this.getTable();if(n){for(var e=!1,t=0;t<n.scripts.length;t++){var r=n.scripts[t].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(n,e){var t=this.getTable(e);if(t){n=n||"DFLT";var r=t.scripts,i=w5(t.scripts,n);if(i>=0)return r[i].script;if(e){var s={tag:n,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(n,e,t){var r=this.getScriptTable(n,t);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=w5(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(t){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(n,e,t,r){var i=this.getLangSysTable(n,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===t)return s.feature;if(r){var u=a.length;return Et.assert(u===0||t>=a[u-1].tag,"Features must be added in alphabetical order."),s={tag:t,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(u),s.feature}}},getLookupTables:function(n,e,t,r,i){var s=this.getFeatureTable(n,e,t,i),o=[];if(s){for(var a,l=s.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var f=u.length;return u.push(a),l.push(f),[a]}}return o},getGlyphClass:function(n,e){switch(n.format){case 1:return n.startGlyph<=e&&e<n.startGlyph+n.classes.length?n.classes[e-n.startGlyph]:0;case 2:var t=zS(n.ranges,e);return t?t.classId:0}},getCoverageIndex:function(n,e){switch(n.format){case 1:var t=GS(n.glyphs,e);return t>=0?t:-1;case 2:var r=zS(n.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(n){if(n.format===1)return n.glyphs;for(var e=[],t=n.ranges,r=0;r<t.length;r++)for(var i=t[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function r0(n){n0.call(this,n,"gpos")}r0.prototype=n0.prototype;r0.prototype.init=function(){var n=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(n)};r0.prototype.getKerningValue=function(n,e,t){for(var r=0;r<n.length;r++)for(var i=n[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===t)return c.value1&&c.value1.xAdvance||0}break;case 2:var f=this.getGlyphClass(o.classDef1,e),h=this.getGlyphClass(o.classDef2,t),m=o.classRecords[f][h];return m.value1&&m.value1.xAdvance||0}}return 0};r0.prototype.getKerningTables=function(n,e){if(this.font.tables.gpos)return this.getLookupTables(n,e,"kern",2)};function Ii(n){n0.call(this,n,"gsub")}function UK(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function D7(n,e,t){for(var r=n.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(t)return r.push(t),t}Ii.prototype=n0.prototype;Ii.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Ii.prototype.getSingle=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var f=l.deltaGlyphId;for(c=0;c<u.length;c++){var h=u[c];r.push({sub:h,by:h+f})}}else{var m=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:m[c]})}}return r};Ii.prototype.getMultiple=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var f=u[c],h=l.sequences[c];r.push({sub:f,by:h})}}return r};Ii.prototype.getAlternates=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,f=0;f<u.length;f++)r.push({sub:u[f],by:c[f]});return r};Ii.prototype.getLigatures=function(n,e,t){for(var r=[],i=this.getLookupTables(e,t,n,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,f=0;f<u.length;f++)for(var h=u[f],m=c[f],g=0;g<m.length;g++){var v=m[g];r.push({sub:[h].concat(v.components),by:v.ligGlyph})}return r};Ii.prototype.addSingle=function(n,e,t,r){var i=this.getLookupTables(t,r,n,1,!0)[0],s=D7(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Et.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};Ii.prototype.addMultiple=function(n,e,t,r){Et.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(t,r,n,2,!0)[0],s=D7(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Et.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};Ii.prototype.addAlternate=function(n,e,t,r){var i=this.getLookupTables(t,r,n,3,!0)[0],s=D7(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Et.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};Ii.prototype.addLigature=function(n,e,t,r){var i=this.getLookupTables(t,r,n,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),Et.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(s.coverage.glyphs,o);if(u>=0){for(var c=s.ligatureSets[u],f=0;f<c.length;f++)if(UK(c[f].components,a))return;c.push(l)}else u=-1-u,s.coverage.glyphs.splice(u,0,o),s.ligatureSets.splice(u,0,[l])};Ii.prototype.getFeature=function(n,e,t){if(/ss\d\d/.test(n))return this.getSingle(n,e,t);switch(n){case"aalt":case"salt":return this.getSingle(n,e,t).concat(this.getAlternates(n,e,t));case"dlig":case"liga":case"rlig":return this.getLigatures(n,e,t);case"ccmp":return this.getMultiple(n,e,t).concat(this.getLigatures(n,e,t));case"stch":return this.getMultiple(n,e,t)}};Ii.prototype.add=function(n,e,t,r){if(/ss\d\d/.test(n))return this.addSingle(n,e,t,r);switch(n){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(n,e,t,r):this.addAlternate(n,e,t,r);case"dlig":case"liga":case"rlig":return this.addLigature(n,e,t,r);case"ccmp":return e.by instanceof Array?this.addMultiple(n,e,t,r):this.addLigature(n,e,t,r)}};function GK(){return typeof window<"u"}function zK(n){for(var e=new Buffer(n.byteLength),t=new Uint8Array(n),r=0;r<e.length;++r)e[r]=t[r];return e}function Hf(n,e){if(!n)throw e}function HS(n,e,t,r,i){var s;return(e&r)>0?(s=n.parseByte(),e&i||(s=-s),s=t+s):(e&i)>0?s=t:s=t+n.parseShort(),s}function FB(n,e,t){var r=new Dt.Parser(e,t);n.numberOfContours=r.parseShort(),n._xMin=r.parseShort(),n._yMin=r.parseShort(),n._xMax=r.parseShort(),n._yMax=r.parseShort();var i,s;if(n.numberOfContours>0){for(var o=n.endPointIndices=[],a=0;a<n.numberOfContours;a+=1)o.push(r.parseUShort());n.instructionLength=r.parseUShort(),n.instructions=[];for(var l=0;l<n.instructionLength;l+=1)n.instructions.push(r.parseByte());var u=o[o.length-1]+1;i=[];for(var c=0;c<u;c+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var f=r.parseByte(),h=0;h<f;h+=1)i.push(s),c+=1;if(Et.argument(i.length===u,"Bad flags."),o.length>0){var m=[],g;if(u>0){for(var v=0;v<u;v+=1)s=i[v],g={},g.onCurve=!!(s&1),g.lastPointOfContour=o.indexOf(v)>=0,m.push(g);for(var y=0,x=0;x<u;x+=1)s=i[x],g=m[x],g.x=HS(r,s,y,2,16),y=g.x;for(var _=0,b=0;b<u;b+=1)s=i[b],g=m[b],g.y=HS(r,s,_,4,32),_=g.y}n.points=m}else n.points=[]}else if(n.numberOfContours===0)n.points=[];else{n.isComposite=!0,n.points=[],n.components=[];for(var S=!0;S;){i=r.parseUShort();var R={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(R.dx=r.parseShort(),R.dy=r.parseShort()):R.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(R.dx=r.parseChar(),R.dy=r.parseChar()):R.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?R.xScale=R.yScale=r.parseF2Dot14():(i&64)>0?(R.xScale=r.parseF2Dot14(),R.yScale=r.parseF2Dot14()):(i&128)>0&&(R.xScale=r.parseF2Dot14(),R.scale01=r.parseF2Dot14(),R.scale10=r.parseF2Dot14(),R.yScale=r.parseF2Dot14()),n.components.push(R),S=!!(i&32)}if(i&256){n.instructionLength=r.parseUShort(),n.instructions=[];for(var T=0;T<n.instructionLength;T+=1)n.instructions.push(r.parseByte())}}}function b5(n,e){for(var t=[],r=0;r<n.length;r+=1){var i=n[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};t.push(s)}return t}function HK(n){for(var e=[],t=[],r=0;r<n.length;r+=1){var i=n[r];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return Et.argument(t.length===0,"There are still points left in the current contour."),e}function NB(n){var e=new Qn;if(!n)return e;for(var t=HK(n),r=0;r<t.length;++r){var i=t[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(s=o,o=a,a=i[(u+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var c=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(c={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,c.x,c.y)}e.closePath()}return e}function UB(n,e){if(e.isComposite)for(var t=0;t<e.components.length;t+=1){var r=e.components[t],i=n.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=b5(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=b5([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=b5(i.points,l)}e.points=e.points.concat(s)}}return NB(e.points)}function VK(n,e,t,r){for(var i=new $s.GlyphSet(r),s=0;s<t.length-1;s+=1){var o=t[s],a=t[s+1];o!==a?i.push(s,$s.ttfGlyphLoader(r,s,FB,n,e+o,UB)):i.push(s,$s.glyphLoader(r,s))}return i}function WK(n,e,t,r){var i=new $s.GlyphSet(r);return r._push=function(s){var o=t[s],a=t[s+1];o!==a?i.push(s,$s.ttfGlyphLoader(r,s,FB,n,e+o,UB)):i.push(s,$s.glyphLoader(r,s))},i}function jK(n,e,t,r,i){return i.lowMemory?WK(n,e,t,r):VK(n,e,t,r)}var ZK={getPath:NB,parse:jK},GB,Pu,zB,Y8;function HB(n){this.font=n,this.getCommands=function(e){return ZK.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function JK(n){return n}function VB(n){return Math.sign(n)*Math.round(Math.abs(n))}function qK(n){return Math.sign(n)*Math.round(Math.abs(n*2))/2}function XK(n){return Math.sign(n)*(Math.round(Math.abs(n)+.5)-.5)}function KK(n){return Math.sign(n)*Math.ceil(Math.abs(n))}function YK(n){return Math.sign(n)*Math.floor(Math.abs(n))}var WB=function(n){var e=this.srPeriod,t=this.srPhase,r=this.srThreshold,i=1;return n<0&&(n=-n,i=-1),n+=r-t,n=Math.trunc(n/e)*e,n+=t,n<0?t*i:n*i},qs={x:1,y:0,axis:"x",distance:function(n,e,t,r){return(t?n.xo:n.x)-(r?e.xo:e.x)},interpolate:function(n,e,t,r){var i,s,o,a,l,u,c;if(!r||r===this){if(i=n.xo-e.xo,s=n.xo-t.xo,l=e.x-e.xo,u=t.x-t.xo,o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){n.x=n.xo+(l+u)/2;return}n.x=n.xo+(l*a+u*o)/c;return}if(i=r.distance(n,e,!0,!0),s=r.distance(n,t,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(t,t,!1,!0),o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){qs.setRelative(n,n,(l+u)/2,r,!0);return}qs.setRelative(n,n,(l*a+u*o)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(n,e,t,r,i){if(!r||r===this){n.x=(i?e.xo:e.x)+t;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+t*r.x,l=o+t*r.y;n.x=a+(n.y-l)/r.normalSlope},slope:0,touch:function(n){n.xTouched=!0},touched:function(n){return n.xTouched},untouch:function(n){n.xTouched=!1}},Do={x:0,y:1,axis:"y",distance:function(n,e,t,r){return(t?n.yo:n.y)-(r?e.yo:e.y)},interpolate:function(n,e,t,r){var i,s,o,a,l,u,c;if(!r||r===this){if(i=n.yo-e.yo,s=n.yo-t.yo,l=e.y-e.yo,u=t.y-t.yo,o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){n.y=n.yo+(l+u)/2;return}n.y=n.yo+(l*a+u*o)/c;return}if(i=r.distance(n,e,!0,!0),s=r.distance(n,t,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(t,t,!1,!0),o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){Do.setRelative(n,n,(l+u)/2,r,!0);return}Do.setRelative(n,n,(l*a+u*o)/c,r,!0)},normalSlope:0,setRelative:function(n,e,t,r,i){if(!r||r===this){n.y=(i?e.yo:e.y)+t;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+t*r.x,l=o+t*r.y;n.y=l+r.normalSlope*(n.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(n){n.yTouched=!0},touched:function(n){return n.yTouched},untouch:function(n){n.yTouched=!1}};Object.freeze(qs);Object.freeze(Do);function i0(n,e){this.x=n,this.y=e,this.axis=void 0,this.slope=e/n,this.normalSlope=-n/e,Object.freeze(this)}i0.prototype.distance=function(n,e,t,r){return this.x*qs.distance(n,e,t,r)+this.y*Do.distance(n,e,t,r)};i0.prototype.interpolate=function(n,e,t,r){var i,s,o,a,l,u,c;if(o=r.distance(n,e,!0,!0),a=r.distance(n,t,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(t,t,!1,!0),l=Math.abs(o),u=Math.abs(a),c=l+u,c===0){this.setRelative(n,n,(i+s)/2,r,!0);return}this.setRelative(n,n,(i*u+s*l)/c,r,!0)};i0.prototype.setRelative=function(n,e,t,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+t*r.x,l=o+t*r.y,u=r.normalSlope,c=this.slope,f=n.x,h=n.y;n.x=(c*f-u*a+l-h)/(c-u),n.y=c*(n.x-f)+h};i0.prototype.touch=function(n){n.xTouched=!0,n.yTouched=!0};function s0(n,e){var t=Math.sqrt(n*n+e*e);return n/=t,e/=t,n===1&&e===0?qs:n===0&&e===1?Do:new i0(n,e)}function No(n,e,t,r){this.x=this.xo=Math.round(n*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=t,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}No.prototype.nextTouched=function(n){for(var e=this.nextPointOnContour;!n.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};No.prototype.prevTouched=function(n){for(var e=this.prevPointOnContour;!n.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var pp=Object.freeze(new No(0,0)),QK={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ba(n,e){switch(this.env=n,this.stack=[],this.prog=e,n){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=qs,this.round=VB}}HB.prototype.exec=function(n,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var t=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Ba.prototype=QK,i=this._fpgmState=new Ba("fpgm",t.tables.fpgm),i.funcs=[],i.font=t,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Pu(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}Ba.prototype=i,r=this._prepState=new Ba("prep",t.tables.prep),r.ppem=e;var s=t.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/t.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Pu(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return zB(n,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};zB=function(n,e){var t=e.ppem/e.font.unitsPerEm,r=t,i=n.components,s,o,a;if(Ba.prototype=e,!i)a=new Ba("glyf",n.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Y8(n,a,t,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var u=0;u<i.length;u++){var c=i[u],f=l.glyphs.get(c.glyphIndex);a=new Ba("glyf",f.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),Y8(f,a,t,r);for(var h=Math.round(c.dx*t),m=Math.round(c.dy*r),g=a.gZone,v=a.contours,y=0;y<g.length;y++){var x=g[y];x.xTouched=x.yTouched=!1,x.xo=x.x=x.x+h,x.yo=x.y=x.y+m}var _=o.length;o.push.apply(o,g);for(var b=0;b<v.length;b++)s.push(v[b]+_)}n.instructions&&!a.inhibitGridFit&&(a=new Ba("glyf",n.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new No(0,0),new No(Math.round(n.advanceWidth*t),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),Pu(a),o.length-=2)}return o};Y8=function(n,e,t,r){for(var i=n.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<s;u++)l=i[u],o[u]=new No(l.x*t,l.y*r,l.lastPointOfContour,l.onCurve);for(var c,f,h=0;h<s;h++)l=o[h],c||(c=l,a.push(h)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(f=o[h+1],l.nextPointOnContour=f,f.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}if(o.push(new No(0,0),new No(Math.round(n.advanceWidth*t),0)),Pu(e),o.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var g=0;g<s;g++)console.log(g,o[g].x,o[g].y)}}};Pu=function(n){var e=n.prog;if(e){var t=e.length,r;for(n.ip=0;n.ip<t;n.ip++){if(exports.DEBUG&&n.step++,r=GB[e[n.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[n.ip]).toString(16));r(n)}}};function y1(n){for(var e=n.tZone=new Array(n.gZone.length),t=0;t<e.length;t++)e[t]=new No(0,0)}function jB(n,e){var t=n.prog,r=n.ip,i=1,s;do if(s=t[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=t[r+1]+1;else if(s===65)r+=2*t[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);n.ip=r}function VS(n,e){exports.DEBUG&&console.log(e.step,"SVTCA["+n.axis+"]"),e.fv=e.pv=e.dpv=n}function WS(n,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+n.axis+"]"),e.pv=e.dpv=n}function jS(n,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+n.axis+"]"),e.fv=n}function ZS(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SPVTL["+n+"]",r,i);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=s0(a,l)}function JS(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log("SFVTL["+n+"]",r,i);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=s0(a,l)}function $K(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SPVFS[]",t,r),n.pv=n.dpv=s0(r,t)}function eY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SPVFS[]",t,r),n.fv=s0(r,t)}function tY(n){var e=n.stack,t=n.pv;exports.DEBUG&&console.log(n.step,"GPV[]"),e.push(t.x*16384),e.push(t.y*16384)}function nY(n){var e=n.stack,t=n.fv;exports.DEBUG&&console.log(n.step,"GFV[]"),e.push(t.x*16384),e.push(t.y*16384)}function rY(n){n.fv=n.pv,exports.DEBUG&&console.log(n.step,"SFVTPV[]")}function iY(n){var e=n.stack,t=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=n.z0,l=n.z1,u=a[t],c=a[r],f=l[i],h=l[s],m=n.z2[o];exports.DEBUG&&console.log("ISECT[], ",t,r,i,s,o);var g=u.x,v=u.y,y=c.x,x=c.y,_=f.x,b=f.y,S=h.x,R=h.y,T=(g-y)*(b-R)-(v-x)*(_-S),B=g*x-v*y,C=_*R-b*S;m.x=(B*(_-S)-C*(g-y))/T,m.y=(B*(b-R)-C*(v-x))/T}function sY(n){n.rp0=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP0[]",n.rp0)}function oY(n){n.rp1=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP1[]",n.rp1)}function aY(n){n.rp2=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP2[]",n.rp2)}function lY(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP0[]",e),n.zp0=e,e){case 0:n.tZone||y1(n),n.z0=n.tZone;break;case 1:n.z0=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function uY(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP1[]",e),n.zp1=e,e){case 0:n.tZone||y1(n),n.z1=n.tZone;break;case 1:n.z1=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function cY(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP2[]",e),n.zp2=e,e){case 0:n.tZone||y1(n),n.z2=n.tZone;break;case 1:n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function dY(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZPS[]",e),n.zp0=n.zp1=n.zp2=e,e){case 0:n.tZone||y1(n),n.z0=n.z1=n.z2=n.tZone;break;case 1:n.z0=n.z1=n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function fY(n){n.loop=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SLOOP[]",n.loop)}function hY(n){exports.DEBUG&&console.log(n.step,"RTG[]"),n.round=VB}function pY(n){exports.DEBUG&&console.log(n.step,"RTHG[]"),n.round=XK}function mY(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SMD[]",e),n.minDis=e/64}function gY(n){exports.DEBUG&&console.log(n.step,"ELSE[]"),jB(n,!1)}function yY(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"JMPR[]",e),n.ip+=e-1}function vY(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCVTCI[]",e),n.cvCutIn=e/64}function xY(n){var e=n.stack;exports.DEBUG&&console.log(n.step,"DUP[]"),e.push(e[e.length-1])}function _5(n){exports.DEBUG&&console.log(n.step,"POP[]"),n.stack.pop()}function wY(n){exports.DEBUG&&console.log(n.step,"CLEAR[]"),n.stack.length=0}function bY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SWAP[]"),e.push(t),e.push(r)}function _Y(n){var e=n.stack;exports.DEBUG&&console.log(n.step,"DEPTH[]"),e.push(e.length)}function AY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"LOOPCALL[]",t,r);var i=n.ip,s=n.prog;n.prog=n.funcs[t];for(var o=0;o<r;o++)Pu(n),exports.DEBUG&&console.log(++n.step,o+1<r?"next loopcall":"done loopcall",o);n.ip=i,n.prog=s}function SY(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"CALL[]",e);var t=n.ip,r=n.prog;n.prog=n.funcs[e],Pu(n),n.ip=t,n.prog=r,exports.DEBUG&&console.log(++n.step,"returning from",e)}function CY(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"CINDEX[]",t),e.push(e[e.length-t])}function TY(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"MINDEX[]",t),e.push(e.splice(e.length-t,1)[0])}function MY(n){if(n.env!=="fpgm")throw new Error("FDEF not allowed here");var e=n.stack,t=n.prog,r=n.ip,i=e.pop(),s=r;for(exports.DEBUG&&console.log(n.step,"FDEF[]",i);t[++r]!==45;);n.ip=r,n.funcs[i]=t.slice(s+1,r)}function qS(n,e){var t=e.stack.pop(),r=e.z0[t],i=e.fv,s=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+n+"]",t);var o=s.distance(r,pp);n&&(o=e.round(o)),i.setRelative(r,pp,o,s),i.touch(r),e.rp0=e.rp1=t}function XS(n,e){var t=e.z2,r=t.length-2,i,s,o;exports.DEBUG&&console.log(e.step,"IUP["+n.axis+"]");for(var a=0;a<r;a++)i=t[a],!n.touched(i)&&(s=i.prevTouched(n),s!==i&&(o=i.nextTouched(n),s===o&&n.setRelative(i,i,n.distance(s,s,!1,!0),n,!0),n.interpolate(i,s,o,n)))}function KS(n,e){for(var t=e.stack,r=n?e.rp1:e.rp2,i=(n?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var u=t.pop(),c=l[u],f=o.distance(i,i,!1,!0);s.setRelative(c,c,f,o),s.touch(c),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(n?"rp1":"rp2")+"]",u)}e.loop=1}function YS(n,e){var t=e.stack,r=n?e.rp1:e.rp2,i=(n?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=t.pop(),l=e.z2[e.contours[a]],u=l;exports.DEBUG&&console.log(e.step,"SHC["+n+"]",a);var c=o.distance(i,i,!1,!0);do u!==i&&s.setRelative(u,u,c,o),u=u.nextPointOnContour;while(u!==l)}function QS(n,e){var t=e.stack,r=n?e.rp1:e.rp2,i=(n?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=t.pop();exports.DEBUG&&console.log(e.step,"SHZ["+n+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=o.distance(i,i,!1,!0),f=l.length-2,h=0;h<f;h++)u=l[h],s.setRelative(u,u,c,o)}function EY(n){for(var e=n.stack,t=n.loop,r=n.fv,i=e.pop()/64,s=n.z2;t--;){var o=e.pop(),a=s[o];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-t)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}n.loop=1}function PY(n){for(var e=n.stack,t=n.rp1,r=n.rp2,i=n.loop,s=n.z0[t],o=n.z1[r],a=n.fv,l=n.dpv,u=n.z2;i--;){var c=e.pop(),f=u[c];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-i)+": ":"")+"IP[]",c,t,"<->",r),a.interpolate(f,s,o,l),a.touch(f)}n.loop=1}function $S(n,e){var t=e.stack,r=t.pop()/64,i=t.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),exports.DEBUG&&console.log(e.step,"MSIRP["+n+"]",r,i),e.rp1=e.rp0,e.rp2=i,n&&(e.rp0=i)}function IY(n){for(var e=n.stack,t=n.rp0,r=n.z0[t],i=n.loop,s=n.fv,o=n.pv,a=n.z1;i--;){var l=e.pop(),u=a[l];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(u,r,0,o),s.touch(u)}n.loop=1}function RY(n){exports.DEBUG&&console.log(n.step,"RTDG[]"),n.round=qK}function eC(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+n+"]",r,"(",l,")",i);var u=a.distance(s,pp);n&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),o.setRelative(s,pp,u,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function BY(n){var e=n.prog,t=n.ip,r=n.stack,i=e[++t];exports.DEBUG&&console.log(n.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++t]);n.ip=t}function DY(n){var e=n.ip,t=n.prog,r=n.stack,i=t[++e];exports.DEBUG&&console.log(n.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=t[++e]<<8|t[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}n.ip=e}function kY(n){var e=n.stack,t=n.store;t||(t=n.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"WS",r,i),t[i]=r}function LY(n){var e=n.stack,t=n.store,r=e.pop();exports.DEBUG&&console.log(n.step,"RS",r);var i=t&&t[r]||0;e.push(i)}function OY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"WCVTP",t,r),n.cvt[r]=t/64}function FY(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"RCVT",t),e.push(n.cvt[t]*64)}function tC(n,e){var t=e.stack,r=t.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+n+"]",r),t.push(e.dpv.distance(i,pp,n,!1)*64)}function nC(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,n,n);exports.DEBUG&&console.log(e.step,"MD["+n+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function NY(n){exports.DEBUG&&console.log(n.step,"MPPEM[]"),n.stack.push(n.ppem)}function UY(n){exports.DEBUG&&console.log(n.step,"FLIPON[]"),n.autoFlip=!0}function GY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"LT[]",t,r),e.push(r<t?1:0)}function zY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"LTEQ[]",t,r),e.push(r<=t?1:0)}function HY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"GT[]",t,r),e.push(r>t?1:0)}function VY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"GTEQ[]",t,r),e.push(r>=t?1:0)}function WY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"EQ[]",t,r),e.push(t===r?1:0)}function jY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"NEQ[]",t,r),e.push(t!==r?1:0)}function ZY(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"ODD[]",t),e.push(Math.trunc(t)%2?1:0)}function JY(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"EVEN[]",t),e.push(Math.trunc(t)%2?0:1)}function qY(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"IF[]",e),e||(jB(n,!0),exports.DEBUG&&console.log(n.step,"EIF[]"))}function XY(n){exports.DEBUG&&console.log(n.step,"EIF[]")}function KY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"AND[]",t,r),e.push(t&&r?1:0)}function YY(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"OR[]",t,r),e.push(t||r?1:0)}function QY(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"NOT[]",t),e.push(t?0:1)}function A5(n,e){var t=e.stack,r=t.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(n-1)*16,l=e.deltaShift,u=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+n+"]",r,t);for(var c=0;c<r;c++){var f=t.pop(),h=t.pop(),m=a+((h&240)>>4);if(m===o){var g=(h&15)-8;g>=0&&g++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",f,"by",g*l);var v=u[f];i.setRelative(v,v,g*l,s)}}}function $Y(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"SDB[]",t),n.deltaBase=t}function eQ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"SDS[]",t),n.deltaShift=Math.pow(.5,t)}function tQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"ADD[]",t,r),e.push(r+t)}function nQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"SUB[]",t,r),e.push(r-t)}function rQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"DIV[]",t,r),e.push(r*64/t)}function iQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"MUL[]",t,r),e.push(r*t/64)}function sQ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"ABS[]",t),e.push(Math.abs(t))}function oQ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"NEG[]",t),e.push(-t)}function aQ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"FLOOR[]",t),e.push(Math.floor(t/64)*64)}function lQ(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"CEILING[]",t),e.push(Math.ceil(t/64)*64)}function A3(n,e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),t.push(e.round(r/64)*64)}function uQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"WCVTF[]",t,r),n.cvt[r]=t*n.ppem/n.font.unitsPerEm}function S5(n,e){var t=e.stack,r=t.pop(),i=e.ppem,s=e.deltaBase+(n-1)*16,o=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+n+"]",r,t);for(var a=0;a<r;a++){var l=t.pop(),u=t.pop(),c=s+((u&240)>>4);if(c===i){var f=(u&15)-8;f>=0&&f++;var h=f*o;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",h),e.cvt[l]+=h}}}function cQ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SROUND[]",e),n.round=WB;var t;switch(e&192){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function dQ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"S45ROUND[]",e),n.round=WB;var t;switch(e&192){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function fQ(n){exports.DEBUG&&console.log(n.step,"ROFF[]"),n.round=JK}function hQ(n){exports.DEBUG&&console.log(n.step,"RUTG[]"),n.round=KK}function pQ(n){exports.DEBUG&&console.log(n.step,"RDTG[]"),n.round=YK}function mQ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCANCTRL[]",e)}function rC(n,e){var t=e.stack,r=t.pop(),i=t.pop(),s=e.z2[r],o=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+n+"]",r,i);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=s0(a,l)}function gQ(n){var e=n.stack,t=e.pop(),r=0;exports.DEBUG&&console.log(n.step,"GETINFO[]",t),t&1&&(r=35),t&32&&(r|=4096),e.push(r)}function yQ(n){var e=n.stack,t=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"ROLL[]"),e.push(r),e.push(t),e.push(i)}function vQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"MAX[]",t,r),e.push(Math.max(r,t))}function xQ(n){var e=n.stack,t=e.pop(),r=e.pop();exports.DEBUG&&console.log(n.step,"MIN[]",t,r),e.push(Math.min(r,t))}function wQ(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCANTYPE[]",e)}function bQ(n){var e=n.stack.pop(),t=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"INSTCTRL[]",e,t),e){case 1:n.inhibitGridFit=!!t;return;case 2:n.ignoreCvt=!!t;return;default:throw new Error("invalid INSTCTRL[] selector")}}function fa(n,e){var t=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+n+"]");for(var s=0;s<n;s++)t.push(r[++i]);e.ip=i}function ha(n,e){var t=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+n+"]");for(var s=0;s<n;s++){var o=r[++t]<<8|r[++t];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=t}function ot(n,e,t,r,i,s){var o=s.stack,a=n&&o.pop(),l=o.pop(),u=s.rp0,c=s.z0[u],f=s.z1[l],h=s.minDis,m=s.fv,g=s.dpv,v,y,x,_;y=v=g.distance(f,c,!0,!0),x=y>=0?1:-1,y=Math.abs(y),n&&(_=s.cvt[a],r&&Math.abs(y-_)<s.cvCutIn&&(y=_)),t&&y<h&&(y=h),r&&(y=s.round(y)),m.setRelative(f,c,x*y,g),m.touch(f),exports.DEBUG&&console.log(s.step,(n?"MIRP[":"MDRP[")+(e?"M":"m")+(t?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",n?a+"("+s.cvt[a]+","+_+")":"",l,"(d =",v,"->",x*y,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}GB=[VS.bind(void 0,Do),VS.bind(void 0,qs),WS.bind(void 0,Do),WS.bind(void 0,qs),jS.bind(void 0,Do),jS.bind(void 0,qs),ZS.bind(void 0,0),ZS.bind(void 0,1),JS.bind(void 0,0),JS.bind(void 0,1),$K,eY,tY,nY,rY,iY,sY,oY,aY,lY,uY,cY,dY,fY,hY,pY,mY,gY,yY,vY,void 0,void 0,xY,_5,wY,bY,_Y,CY,TY,void 0,void 0,void 0,AY,SY,MY,void 0,qS.bind(void 0,0),qS.bind(void 0,1),XS.bind(void 0,Do),XS.bind(void 0,qs),KS.bind(void 0,0),KS.bind(void 0,1),YS.bind(void 0,0),YS.bind(void 0,1),QS.bind(void 0,0),QS.bind(void 0,1),EY,PY,$S.bind(void 0,0),$S.bind(void 0,1),IY,RY,eC.bind(void 0,0),eC.bind(void 0,1),BY,DY,kY,LY,OY,FY,tC.bind(void 0,0),tC.bind(void 0,1),void 0,nC.bind(void 0,0),nC.bind(void 0,1),NY,void 0,UY,void 0,void 0,GY,zY,HY,VY,WY,jY,ZY,JY,qY,XY,KY,YY,QY,A5.bind(void 0,1),$Y,eQ,tQ,nQ,rQ,iQ,sQ,oQ,aQ,lQ,A3.bind(void 0,0),A3.bind(void 0,1),A3.bind(void 0,2),A3.bind(void 0,3),void 0,void 0,void 0,void 0,uQ,A5.bind(void 0,2),A5.bind(void 0,3),S5.bind(void 0,1),S5.bind(void 0,2),S5.bind(void 0,3),cQ,dQ,void 0,void 0,fQ,void 0,hQ,pQ,_5,_5,void 0,void 0,void 0,void 0,void 0,mQ,rC.bind(void 0,0),rC.bind(void 0,1),gQ,void 0,yQ,vQ,xQ,wQ,bQ,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,fa.bind(void 0,1),fa.bind(void 0,2),fa.bind(void 0,3),fa.bind(void 0,4),fa.bind(void 0,5),fa.bind(void 0,6),fa.bind(void 0,7),fa.bind(void 0,8),ha.bind(void 0,1),ha.bind(void 0,2),ha.bind(void 0,3),ha.bind(void 0,4),ha.bind(void 0,5),ha.bind(void 0,6),ha.bind(void 0,7),ha.bind(void 0,8),ot.bind(void 0,0,0,0,0,0),ot.bind(void 0,0,0,0,0,1),ot.bind(void 0,0,0,0,0,2),ot.bind(void 0,0,0,0,0,3),ot.bind(void 0,0,0,0,1,0),ot.bind(void 0,0,0,0,1,1),ot.bind(void 0,0,0,0,1,2),ot.bind(void 0,0,0,0,1,3),ot.bind(void 0,0,0,1,0,0),ot.bind(void 0,0,0,1,0,1),ot.bind(void 0,0,0,1,0,2),ot.bind(void 0,0,0,1,0,3),ot.bind(void 0,0,0,1,1,0),ot.bind(void 0,0,0,1,1,1),ot.bind(void 0,0,0,1,1,2),ot.bind(void 0,0,0,1,1,3),ot.bind(void 0,0,1,0,0,0),ot.bind(void 0,0,1,0,0,1),ot.bind(void 0,0,1,0,0,2),ot.bind(void 0,0,1,0,0,3),ot.bind(void 0,0,1,0,1,0),ot.bind(void 0,0,1,0,1,1),ot.bind(void 0,0,1,0,1,2),ot.bind(void 0,0,1,0,1,3),ot.bind(void 0,0,1,1,0,0),ot.bind(void 0,0,1,1,0,1),ot.bind(void 0,0,1,1,0,2),ot.bind(void 0,0,1,1,0,3),ot.bind(void 0,0,1,1,1,0),ot.bind(void 0,0,1,1,1,1),ot.bind(void 0,0,1,1,1,2),ot.bind(void 0,0,1,1,1,3),ot.bind(void 0,1,0,0,0,0),ot.bind(void 0,1,0,0,0,1),ot.bind(void 0,1,0,0,0,2),ot.bind(void 0,1,0,0,0,3),ot.bind(void 0,1,0,0,1,0),ot.bind(void 0,1,0,0,1,1),ot.bind(void 0,1,0,0,1,2),ot.bind(void 0,1,0,0,1,3),ot.bind(void 0,1,0,1,0,0),ot.bind(void 0,1,0,1,0,1),ot.bind(void 0,1,0,1,0,2),ot.bind(void 0,1,0,1,0,3),ot.bind(void 0,1,0,1,1,0),ot.bind(void 0,1,0,1,1,1),ot.bind(void 0,1,0,1,1,2),ot.bind(void 0,1,0,1,1,3),ot.bind(void 0,1,1,0,0,0),ot.bind(void 0,1,1,0,0,1),ot.bind(void 0,1,1,0,0,2),ot.bind(void 0,1,1,0,0,3),ot.bind(void 0,1,1,0,1,0),ot.bind(void 0,1,1,0,1,1),ot.bind(void 0,1,1,0,1,2),ot.bind(void 0,1,1,0,1,3),ot.bind(void 0,1,1,1,0,0),ot.bind(void 0,1,1,1,0,1),ot.bind(void 0,1,1,1,0,2),ot.bind(void 0,1,1,1,0,3),ot.bind(void 0,1,1,1,1,0),ot.bind(void 0,1,1,1,1,1),ot.bind(void 0,1,1,1,1,2),ot.bind(void 0,1,1,1,1,3)];function Kd(n){this.char=n,this.state={},this.activeState=null}function k7(n,e,t){this.contextName=t,this.startIndex=n,this.endOffset=e}function _Q(n,e,t){this.contextName=n,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=t}function Es(n,e){this.context=n,this.index=e,this.length=n.length,this.current=n[e],this.backtrack=n.slice(0,e),this.lookahead=n.slice(e+1)}function v1(n){this.eventId=n,this.subscribers=[]}function AQ(n){var e=this,t=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];t.forEach(function(i){Object.defineProperty(e.events,i,{value:new v1(i)})}),n&&t.forEach(function(i){var s=n[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function In(n){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],AQ.call(this,n)}Kd.prototype.setState=function(n,e){return this.state[n]=e,this.activeState={key:n,value:this.state[n]},this.activeState};Kd.prototype.getState=function(n){return this.state[n]||null};In.prototype.inboundIndex=function(n){return n>=0&&n<this.tokens.length};In.prototype.composeRUD=function(n){var e=this,t=!0,r=n.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(t))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};In.prototype.replaceRange=function(n,e,t,r){e=e!==null?e:this.tokens.length;var i=t.every(function(o){return o instanceof Kd});if(!isNaN(n)&&this.inboundIndex(n)&&i){var s=this.tokens.splice.apply(this.tokens,[n,e].concat(t));return r||this.dispatch("replaceToken",[n,e,t]),[s,t]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};In.prototype.replaceToken=function(n,e,t){if(!isNaN(n)&&this.inboundIndex(n)&&e instanceof Kd){var r=this.tokens.splice(n,1,e);return t||this.dispatch("replaceToken",[n,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};In.prototype.removeRange=function(n,e,t){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(n,e);return t||this.dispatch("removeRange",[r,n,e]),r};In.prototype.removeToken=function(n,e){if(!isNaN(n)&&this.inboundIndex(n)){var t=this.tokens.splice(n,1);return e||this.dispatch("removeToken",[t,n]),t}else return{FAIL:"removeToken: invalid token index."}};In.prototype.insertToken=function(n,e,t){var r=n.every(function(i){return i instanceof Kd});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(n)),t||this.dispatch("insertToken",[n,e]),n):{FAIL:"insertToken: invalid token(s)."}};In.prototype.registerModifier=function(n,e,t){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=t.apply(this,a);r.setState(n,l)}}),this.registeredModifiers.push(n)};v1.prototype.subscribe=function(n){return typeof n=="function"?this.subscribers.push(n)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};v1.prototype.unsubscribe=function(n){this.subscribers.splice(n,1)};Es.prototype.setCurrentIndex=function(n){this.index=n,this.current=this.context[n],this.backtrack=this.context.slice(0,n),this.lookahead=this.context.slice(n+1)};Es.prototype.get=function(n){switch(!0){case n===0:return this.current;case(n<0&&Math.abs(n)<=this.backtrack.length):return this.backtrack.slice(n)[0];case(n>0&&n<=this.lookahead.length):return this.lookahead[n-1];default:return null}};In.prototype.rangeToText=function(n){if(n instanceof k7)return this.getRangeTokens(n).map(function(e){return e.char}).join("")};In.prototype.getText=function(){return this.tokens.map(function(n){return n.char}).join("")};In.prototype.getContext=function(n){var e=this.registeredContexts[n];return e||null};In.prototype.on=function(n,e){var t=this.events[n];return t?t.subscribe(e):null};In.prototype.dispatch=function(n,e){var t=this,r=this.events[n];r instanceof v1&&r.subscribers.forEach(function(i){i.apply(t,e||[])})};In.prototype.registerContextChecker=function(n,e,t){if(this.getContext(n))return{FAIL:"context name '"+n+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof t!="function")return{FAIL:"missing context end check."};var r=new _Q(n,e,t);return this.registeredContexts[n]=r,this.contextCheckers.push(r),r};In.prototype.getRangeTokens=function(n){var e=n.startIndex+n.endOffset;return[].concat(this.tokens.slice(n.startIndex,e))};In.prototype.getContextRanges=function(n){var e=this.getContext(n);return e?e.ranges:{FAIL:"context checker '"+n+"' is not registered."}};In.prototype.resetContextsRanges=function(){var n=this.registeredContexts;for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];t.ranges=[]}};In.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var n=this.tokens.map(function(r){return r.char}),e=0;e<n.length;e++){var t=new Es(n,e);this.runContextCheck(t)}this.dispatch("updateContextsRanges",[this.registeredContexts])};In.prototype.setEndOffset=function(n,e){var t=this.getContext(e).openRange.startIndex,r=new k7(t,n,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};In.prototype.runContextCheck=function(n){var e=this,t=n.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(n)&&(s=new k7(t,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,t])),s&&r.checkEnd(n)){var o=t-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};In.prototype.tokenize=function(n){this.tokens=[],this.resetContextsRanges();var e=Array.from(n);this.dispatch("start");for(var t=0;t<e.length;t++){var r=e[t],i=new Es(e,t);this.dispatch("next",[i]),this.runContextCheck(i);var s=new Kd(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Wa(n){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(n)}function ZB(n){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(n)}function el(n){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(n)}function og(n){return/[A-z]/.test(n)}function SQ(n){return/\s/.test(n)}function Ri(n){this.font=n,this.features={}}function Xl(n){this.id=n.id,this.tag=n.tag,this.substitution=n.substitution}function o0(n,e){if(!n)return-1;switch(e.format){case 1:return e.glyphs.indexOf(n);case 2:for(var t=e.ranges,r=0;r<t.length;r++){var i=t[r];if(n>=i.start&&n<=i.end){var s=n-i.start;return i.index+s}}break;default:return-1}return-1}function CQ(n,e){var t=o0(n,e.coverage);return t===-1?null:n+e.deltaGlyphId}function TQ(n,e){var t=o0(n,e.coverage);return t===-1?null:e.substitute[t]}function C5(n,e){for(var t=[],r=0;r<n.length;r++){var i=n[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=o0(s,i);o!==-1&&t.push(o)}return t.length!==n.length?-1:t}function MQ(n,e){var t=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(n.context.length<t)return[];var r=C5(e.inputCoverage,n);if(r===-1)return[];var i=e.inputCoverage.length-1;if(n.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=n.lookahead.slice(i);s.length&&el(s[0].char);)s.shift();var o=new Es(s,0),a=C5(e.lookaheadCoverage,o),l=[].concat(n.backtrack);for(l.reverse();l.length&&el(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new Es(l,0),c=C5(e.backtrackCoverage,u),f=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,h=[];if(f)for(var m=0;m<e.lookupRecords.length;m++)for(var g=e.lookupRecords[m],v=g.lookupListIndex,y=this.getLookupByIndex(v),x=0;x<y.subtables.length;x++){var _=y.subtables[x],b=this.getLookupMethod(y,_),S=this.getSubstitutionType(y,_);if(S==="12")for(var R=0;R<r.length;R++){var T=n.get(R),B=b(T);B&&h.push(B)}}return h}function EQ(n,e){var t=n.current,r=o0(t,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=n.lookahead[a],u=i.components[a];if(l!==u)break;if(a===i.components.length-1)return i}}return null}function PQ(n,e){var t=o0(n,e.coverage);return t===-1?null:e.sequences[t]}Ri.prototype.getDefaultScriptFeaturesIndexes=function(){for(var n=this.font.tables.gsub.scripts,e=0;e<n.length;e++){var t=n[e];if(t.tag==="DFLT")return t.script.defaultLangSys.featureIndexes}return[]};Ri.prototype.getScriptFeaturesIndexes=function(n){var e=this.font.tables;if(!e.gsub)return[];if(!n)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,r=0;r<t.length;r++){var i=t[r];if(i.tag===n&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===n){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Ri.prototype.mapTagsToFeatures=function(n,e){for(var t={},r=0;r<n.length;r++){var i=n[r].tag,s=n[r].feature;t[i]=s}this.features[e].tags=t};Ri.prototype.getScriptFeatures=function(n){var e=this.features[n];if(this.features.hasOwnProperty(n))return e;var t=this.getScriptFeaturesIndexes(n);if(!t)return null;var r=this.font.tables.gsub;return e=t.map(function(i){return r.features[i]}),this.features[n]=e,this.mapTagsToFeatures(e,n),e};Ri.prototype.getSubstitutionType=function(n,e){var t=n.lookupType.toString(),r=e.substFormat.toString();return t+r};Ri.prototype.getLookupMethod=function(n,e){var t=this,r=this.getSubstitutionType(n,e);switch(r){case"11":return function(i){return CQ.apply(t,[i,e])};case"12":return function(i){return TQ.apply(t,[i,e])};case"63":return function(i){return MQ.apply(t,[i,e])};case"41":return function(i){return EQ.apply(t,[i,e])};case"21":return function(i){return PQ.apply(t,[i,e])};default:throw new Error("lookupType: "+n.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Ri.prototype.lookupFeature=function(n){var e=n.contextParams,t=e.index,r=this.getFeature({tag:n.tag,script:n.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+n.tag+"' for script '"+n.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],f=this.getSubstitutionType(a,c),h=this.getLookupMethod(a,c),m=void 0;switch(f){case"11":m=h(e.current),m&&s.splice(t,1,new Xl({id:11,tag:n.tag,substitution:m}));break;case"12":m=h(e.current),m&&s.splice(t,1,new Xl({id:12,tag:n.tag,substitution:m}));break;case"63":m=h(e),Array.isArray(m)&&m.length&&s.splice(t,1,new Xl({id:63,tag:n.tag,substitution:m}));break;case"41":m=h(e),m&&s.splice(t,1,new Xl({id:41,tag:n.tag,substitution:m}));break;case"21":m=h(e.current),m&&s.splice(t,1,new Xl({id:21,tag:n.tag,substitution:m}));break}e=new Es(s,t),!(Array.isArray(m)&&!m.length)&&(m=null)}return s.length?s:null};Ri.prototype.supports=function(n){if(!n.script)return!1;this.getScriptFeatures(n.script);var e=this.features.hasOwnProperty(n.script);if(!n.tag)return e;var t=this.features[n.script].some(function(r){return r.tag===n.tag});return e&&t};Ri.prototype.getLookupSubtables=function(n){return n.subtables||null};Ri.prototype.getLookupByIndex=function(n){var e=this.font.tables.gsub.lookups;return e[n]||null};Ri.prototype.getFeatureLookups=function(n){return n.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Ri.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function IQ(n){var e=n.current,t=n.get(-1);return t===null&&Wa(e)||!Wa(t)&&Wa(e)}function RQ(n){var e=n.get(1);return e===null||!Wa(e)}var BQ={startCheck:IQ,endCheck:RQ};function DQ(n){var e=n.current,t=n.get(-1);return(Wa(e)||el(e))&&!Wa(t)}function kQ(n){var e=n.get(1);switch(!0){case e===null:return!0;case(!Wa(e)&&!el(e)):var t=SQ(e);if(!t)return!0;if(t){var r=!1;if(r=n.lookahead.some(function(i){return Wa(i)||el(i)}),!r)return!0}break;default:return!1}}var LQ={startCheck:DQ,endCheck:kQ};function OQ(n,e,t){e[t].setState(n.tag,n.substitution)}function FQ(n,e,t){e[t].setState(n.tag,n.substitution)}function NQ(n,e,t){n.substitution.forEach(function(r,i){var s=e[t+i];s.setState(n.tag,r)})}function UQ(n,e,t){var r=e[t];r.setState(n.tag,n.substitution.ligGlyph);for(var i=n.substitution.components.length,s=0;s<i;s++)r=e[t+s+1],r.setState("deleted",!0)}var iC={11:OQ,12:FQ,63:NQ,41:UQ};function L7(n,e,t){n instanceof Xl&&iC[n.id]&&iC[n.id](n,e,t)}function GQ(n){for(var e=[].concat(n.backtrack),t=e.length-1;t>=0;t--){var r=e[t],i=ZB(r),s=el(r);if(!i&&!s)return!0;if(i)return!1}return!1}function zQ(n){if(ZB(n.current))return!1;for(var e=0;e<n.lookahead.length;e++){var t=n.lookahead[e],r=el(t);if(!r)return!0}return!1}function HQ(n){var e=this,t="arab",r=this.featuresTags[t],i=this.tokenizer.getRangeTokens(n);if(i.length!==1){var s=new Es(i.map(function(a){return a.getState("glyphIndex")}),0),o=new Es(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!el(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var u=0;GQ(o)&&(u|=1),zQ(o)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var f=e.query.lookupFeature({tag:c,script:t,contextParams:s});if(f instanceof Error)return console.info(f.message);f.forEach(function(h,m){h instanceof Xl&&(L7(h,i,m),s.context[m]=h.substitution)})}}})}}function sC(n,e){var t=n.map(function(r){return r.activeState.value});return new Es(t,e||0)}function VQ(n){var e=this,t="arab",r=this.tokenizer.getRangeTokens(n),i=sC(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:t,contextParams:i});a.length&&(a.forEach(function(l){return L7(l,r,o)}),i=sC(r))})}function WQ(n){var e=n.current,t=n.get(-1);return t===null&&og(e)||!og(t)&&og(e)}function jQ(n){var e=n.get(1);return e===null||!og(e)}var ZQ={startCheck:WQ,endCheck:jQ};function oC(n,e){var t=n.map(function(r){return r.activeState.value});return new Es(t,e||0)}function JQ(n){var e=this,t="latn",r=this.tokenizer.getRangeTokens(n),i=oC(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:t,contextParams:i});a.length&&(a.forEach(function(l){return L7(l,r,o)}),i=oC(r))})}function ks(n){this.baseDir=n||"ltr",this.tokenizer=new In,this.featuresTags={}}ks.prototype.setText=function(n){this.text=n};ks.prototype.contextChecks={latinWordCheck:ZQ,arabicWordCheck:BQ,arabicSentenceCheck:LQ};function T5(n){var e=this.contextChecks[n+"Check"];return this.tokenizer.registerContextChecker(n,e.startCheck,e.endCheck)}function qQ(){return T5.call(this,"latinWord"),T5.call(this,"arabicWord"),T5.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function XQ(){var n=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(t){var r=n.tokenizer.getRangeTokens(t);n.tokenizer.replaceRange(t.startIndex,t.endOffset,r.reverse())})}ks.prototype.registerFeatures=function(n,e){var t=this,r=e.filter(function(i){return t.query.supports({script:n,tag:i})});this.featuresTags.hasOwnProperty(n)?this.featuresTags[n]=this.featuresTags[n].concat(r):this.featuresTags[n]=r};ks.prototype.applyFeatures=function(n,e){if(!n)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Ri(n));for(var t=0;t<e.length;t++){var r=e[t];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};ks.prototype.registerModifier=function(n,e,t){this.tokenizer.registerModifier(n,e,t)};function O7(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function KQ(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){O7.call(this);var t=this.tokenizer.getContextRanges("arabicWord");t.forEach(function(r){HQ.call(n,r)})}}function YQ(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("rlig")!==-1){O7.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){VQ.call(n,i)})}}}function QQ(){var n=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("liga")!==-1){O7.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){JQ.call(n,i)})}}}ks.prototype.checkContextReady=function(n){return!!this.tokenizer.getContext(n)};ks.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(KQ.call(this),YQ.call(this)),this.checkContextReady("latinWord")&&QQ.call(this),this.checkContextReady("arabicSentence")&&XQ.call(this)};ks.prototype.processText=function(n){(!this.text||this.text!==n)&&(this.setText(n),qQ.call(this),this.applyFeaturesToContexts())};ks.prototype.getBidiText=function(n){return this.processText(n),this.tokenizer.getText()};ks.prototype.getTextGlyphs=function(n){this.processText(n);for(var e=[],t=0;t<this.tokenizer.tokens.length;t++){var r=this.tokenizer.tokens[t];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function un(n){n=n||{},n.tables=n.tables||{},n.empty||(Hf(n.familyName,"When creating a new Font object, familyName is required."),Hf(n.styleName,"When creating a new Font object, styleName is required."),Hf(n.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Hf(n.ascender,"When creating a new Font object, ascender is required."),Hf(n.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:n.familyName||" "},fontSubfamily:{en:n.styleName||" "},fullName:{en:n.fullName||n.familyName+" "+n.styleName},postScriptName:{en:n.postScriptName||(n.familyName+n.styleName).replace(/\s/g,"")},designer:{en:n.designer||" "},designerURL:{en:n.designerURL||" "},manufacturer:{en:n.manufacturer||" "},manufacturerURL:{en:n.manufacturerURL||" "},license:{en:n.license||" "},licenseURL:{en:n.licenseURL||" "},version:{en:n.version||"Version 0.1"},description:{en:n.description||" "},copyright:{en:n.copyright||" "},trademark:{en:n.trademark||" "}},this.unitsPerEm=n.unitsPerEm||1e3,this.ascender=n.ascender,this.descender=n.descender,this.createdTimestamp=n.createdTimestamp,this.tables=Object.assign(n.tables,{os2:Object.assign({usWeightClass:n.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:n.widthClass||this.usWidthClasses.MEDIUM,fsSelection:n.fsSelection||this.fsSelectionValues.REGULAR},n.tables.os2)})),this.supported=!0,this.glyphs=new $s.GlyphSet(this,n.glyphs||[]),this.encoding=new AB(this),this.position=new r0(this),this.substitution=new Ii(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new HB(this)}})}un.prototype.hasChar=function(n){return this.encoding.charToGlyphIndex(n)!==null};un.prototype.charToGlyphIndex=function(n){return this.encoding.charToGlyphIndex(n)};un.prototype.charToGlyph=function(n){var e=this.charToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};un.prototype.updateFeatures=function(n){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(t){return n[t]})}:e})};un.prototype.stringToGlyphs=function(n,e){var t=this,r=new ks,i=function(f){return t.charToGlyphIndex(f.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(n),a=o.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(o[c])||u;return l};un.prototype.nameToGlyphIndex=function(n){return this.glyphNames.nameToGlyphIndex(n)};un.prototype.nameToGlyph=function(n){var e=this.nameToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};un.prototype.glyphIndexToName=function(n){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(n):""};un.prototype.getKerningValue=function(n,e){n=n.index||n,e=e.index||e;var t=this.position.defaultKerningTables;return t?this.position.getKerningValue(t,n,e):this.kerningPairs[n+","+e]||0};un.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};un.prototype.forEachGlyph=function(n,e,t,r,i,s){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(n,i),l;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,i.language)}for(var c=0;c<a.length;c+=1){var f=a[c];if(s.call(this,f,e,t,r,i),f.advanceWidth&&(e+=f.advanceWidth*o),i.kerning&&c<a.length-1){var h=l?this.position.getKerningValue(l,f.index,a[c+1].index):this.getKerningValue(f,a[c+1]);e+=h*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};un.prototype.getPath=function(n,e,t,r,i){var s=new Qn;return this.forEachGlyph(n,e,t,r,i,function(o,a,l,u){var c=o.getPath(a,l,u,i,this);s.extend(c)}),s};un.prototype.getPaths=function(n,e,t,r,i){var s=[];return this.forEachGlyph(n,e,t,r,i,function(o,a,l,u){var c=o.getPath(a,l,u,i,this);s.push(c)}),s};un.prototype.getAdvanceWidth=function(n,e,t){return this.forEachGlyph(n,0,0,e,t,function(){})};un.prototype.draw=function(n,e,t,r,i,s){this.getPath(e,t,r,i,s).draw(n)};un.prototype.drawPoints=function(n,e,t,r,i,s){this.forEachGlyph(e,t,r,i,s,function(o,a,l,u){o.drawPoints(n,a,l,u)})};un.prototype.drawMetrics=function(n,e,t,r,i,s){this.forEachGlyph(e,t,r,i,s,function(o,a,l,u){o.drawMetrics(n,a,l,u)})};un.prototype.getEnglishName=function(n){var e=this.names[n];if(e)return e.en};un.prototype.validate=function(){var n=this;function e(r,i){}function t(r){var i=n.getEnglishName(r);i&&i.trim().length>0}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm>0};un.prototype.toTables=function(){return NK.fontToTable(this)};un.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};un.prototype.toArrayBuffer=function(){for(var n=this.toTables(),e=n.encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;i++)r[i]=e[i];return t};un.prototype.download=function(n){var e=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily");n=n||e.replace(/\s/g,"")+"-"+t+".otf";var r=this.toArrayBuffer();if(GK())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=n;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),u=zK(r);l.writeFileSync(n,u)}};un.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};un.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};un.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Ko=new Array(10);Ko[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{posFormat:1,coverage:this.parsePointer(Se.coverage),value:this.parseValueRecord()};if(t===2)return{posFormat:2,coverage:this.parsePointer(Se.coverage),values:this.parseValueRecordList()};Et.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Ko[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();Et.assert(t===1||t===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Se.coverage),i=this.parseUShort(),s=this.parseUShort();if(t===1)return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(Se.pointer(Se.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(t===2){var o=this.parsePointer(Se.classDef),a=this.parsePointer(Se.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,Se.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};Ko[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Ko[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Ko[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Ko[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Ko[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Ko[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Ko[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var $Q=Object.defineProperty,e$=(n,e,t)=>e in n?$Q(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,At=(n,e,t)=>(e$(n,typeof e!="symbol"?e+"":e,t),t);function aC(n,e){if(e===VI)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Hg||e===G9){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===Hg)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}let Q8=Lu.replace(/\D+/g,"");Q8=parseInt(Q8);const JB=Q8,M5={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new V},up:{value:new V(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${JB>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};M5.fragmentShader,M5.vertexShader,M5.uniforms;const S3=new Hd,lC=new Co,t$=Math.cos(70*(Math.PI/180)),uC=(n,e)=>(n%e+e)%e;let n$=class extends oo{constructor(e,t){super(),At(this,"object"),At(this,"domElement"),At(this,"enabled",!0),At(this,"target",new V),At(this,"minDistance",0),At(this,"maxDistance",1/0),At(this,"minZoom",0),At(this,"maxZoom",1/0),At(this,"minPolarAngle",0),At(this,"maxPolarAngle",Math.PI),At(this,"minAzimuthAngle",-1/0),At(this,"maxAzimuthAngle",1/0),At(this,"enableDamping",!1),At(this,"dampingFactor",.05),At(this,"enableZoom",!0),At(this,"zoomSpeed",1),At(this,"enableRotate",!0),At(this,"rotateSpeed",1),At(this,"enablePan",!0),At(this,"panSpeed",1),At(this,"screenSpacePanning",!0),At(this,"keyPanSpeed",7),At(this,"zoomToCursor",!1),At(this,"autoRotate",!1),At(this,"autoRotateSpeed",2),At(this,"reverseOrbit",!1),At(this,"reverseHorizontalOrbit",!1),At(this,"reverseVerticalOrbit",!1),At(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),At(this,"mouseButtons",{LEFT:Hl.ROTATE,MIDDLE:Hl.DOLLY,RIGHT:Hl.PAN}),At(this,"touches",{ONE:Vl.ROTATE,TWO:Vl.DOLLY_PAN}),At(this,"target0"),At(this,"position0"),At(this,"zoom0"),At(this,"_domElementKeyEvents",null),At(this,"getPolarAngle"),At(this,"getAzimuthalAngle"),At(this,"setPolarAngle"),At(this,"setAzimuthalAngle"),At(this,"getDistance"),At(this,"listenToKeyEvents"),At(this,"stopListenToKeyEvents"),At(this,"saveState"),At(this,"reset"),At(this,"update"),At(this,"connect"),At(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=le=>{let Oe=uC(le,2*Math.PI),et=c.phi;et<0&&(et+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let se=Math.abs(Oe-et);2*Math.PI-se<se&&(Oe<et?Oe+=2*Math.PI:et+=2*Math.PI),f.phi=Oe-et,r.update()},this.setAzimuthalAngle=le=>{let Oe=uC(le,2*Math.PI),et=c.theta;et<0&&(et+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let se=Math.abs(Oe-et);2*Math.PI-se<se&&(Oe<et?Oe+=2*Math.PI:et+=2*Math.PI),f.theta=Oe-et,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",vt),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",vt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const le=new V,Oe=new V(0,1,0),et=new cr().setFromUnitVectors(e.up,Oe),se=et.clone().invert(),be=new V,Fe=new cr,Ze=2*Math.PI;return function(){const Ut=r.object.position;et.setFromUnitVectors(e.up,Oe),se.copy(et).invert(),le.copy(Ut).sub(r.target),le.applyQuaternion(et),c.setFromVector3(le),r.autoRotate&&l===a.NONE&&W(U()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let qt=r.minAzimuthAngle,en=r.maxAzimuthAngle;isFinite(qt)&&isFinite(en)&&(qt<-Math.PI?qt+=Ze:qt>Math.PI&&(qt-=Ze),en<-Math.PI?en+=Ze:en>Math.PI&&(en-=Ze),qt<=en?c.theta=Math.max(qt,Math.min(en,c.theta)):c.theta=c.theta>(qt+en)/2?Math.max(qt,c.theta):Math.min(en,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&P||r.object.isOrthographicCamera?c.radius=te(c.radius):c.radius=te(c.radius*h),le.setFromSpherical(c),le.applyQuaternion(se),Ut.copy(r.target).add(le),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let dr=!1;if(r.zoomToCursor&&P){let Vt=null;if(r.object instanceof hn&&r.object.isPerspectiveCamera){const On=le.length();Vt=te(On*h);const Rn=On-Vt;r.object.position.addScaledVector(B,Rn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const On=new V(C.x,C.y,0);On.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),dr=!0;const Rn=new V(C.x,C.y,0);Rn.unproject(r.object),r.object.position.sub(Rn).add(On),r.object.updateMatrixWorld(),Vt=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Vt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Vt).add(r.object.position):(S3.origin.copy(r.object.position),S3.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(S3.direction))<t$?e.lookAt(r.target):(lC.setFromNormalAndCoplanarPoint(r.object.up,r.target),S3.intersectPlane(lC,r.target))))}else r.object instanceof $i&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),dr=!0);return h=1,P=!1,dr||be.distanceToSquared(r.object.position)>u||8*(1-Fe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),be.copy(r.object.position),Fe.copy(r.object.quaternion),dr=!1,!0):!1}})(),this.connect=le=>{le===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=le,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ft),r.domElement.addEventListener("pointerdown",ut),r.domElement.addEventListener("pointercancel",we),r.domElement.addEventListener("wheel",Ce)},this.dispose=()=>{var le,Oe,et,se,be,Fe;(le=r.domElement)==null||le.removeEventListener("contextmenu",ft),(Oe=r.domElement)==null||Oe.removeEventListener("pointerdown",ut),(et=r.domElement)==null||et.removeEventListener("pointercancel",we),(se=r.domElement)==null||se.removeEventListener("wheel",Ce),(be=r.domElement)==null||be.ownerDocument.removeEventListener("pointermove",Z),(Fe=r.domElement)==null||Fe.ownerDocument.removeEventListener("pointerup",G),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",vt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new U8,f=new U8;let h=1;const m=new V,g=new Ie,v=new Ie,y=new Ie,x=new Ie,_=new Ie,b=new Ie,S=new Ie,R=new Ie,T=new Ie,B=new V,C=new Ie;let P=!1;const I=[],k={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function W(le){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=le:f.theta-=le}function $(le){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=le:f.phi-=le}const ee=(()=>{const le=new V;return function(et,se){le.setFromMatrixColumn(se,0),le.multiplyScalar(-et),m.add(le)}})(),ce=(()=>{const le=new V;return function(et,se){r.screenSpacePanning===!0?le.setFromMatrixColumn(se,1):(le.setFromMatrixColumn(se,0),le.crossVectors(r.object.up,le)),le.multiplyScalar(et),m.add(le)}})(),N=(()=>{const le=new V;return function(et,se){const be=r.domElement;if(be&&r.object instanceof hn&&r.object.isPerspectiveCamera){const Fe=r.object.position;le.copy(Fe).sub(r.target);let Ze=le.length();Ze*=Math.tan(r.object.fov/2*Math.PI/180),ee(2*et*Ze/be.clientHeight,r.object.matrix),ce(2*se*Ze/be.clientHeight,r.object.matrix)}else be&&r.object instanceof $i&&r.object.isOrthographicCamera?(ee(et*(r.object.right-r.object.left)/r.object.zoom/be.clientWidth,r.object.matrix),ce(se*(r.object.top-r.object.bottom)/r.object.zoom/be.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function H(le){r.object instanceof hn&&r.object.isPerspectiveCamera||r.object instanceof $i&&r.object.isOrthographicCamera?h/=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(le){r.object instanceof hn&&r.object.isPerspectiveCamera||r.object instanceof $i&&r.object.isOrthographicCamera?h*=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function oe(le){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Oe=r.domElement.getBoundingClientRect(),et=le.clientX-Oe.left,se=le.clientY-Oe.top,be=Oe.width,Fe=Oe.height;C.x=et/be*2-1,C.y=-(se/Fe)*2+1,B.set(C.x,C.y,1).unproject(r.object).sub(r.object.position).normalize()}function te(le){return Math.max(r.minDistance,Math.min(r.maxDistance,le))}function ge(le){g.set(le.clientX,le.clientY)}function Pe(le){oe(le),S.set(le.clientX,le.clientY)}function Me(le){x.set(le.clientX,le.clientY)}function de(le){v.set(le.clientX,le.clientY),y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Oe=r.domElement;Oe&&(W(2*Math.PI*y.x/Oe.clientHeight),$(2*Math.PI*y.y/Oe.clientHeight)),g.copy(v),r.update()}function Ve(le){R.set(le.clientX,le.clientY),T.subVectors(R,S),T.y>0?H(q()):T.y<0&&j(q()),S.copy(R),r.update()}function ve(le){_.set(le.clientX,le.clientY),b.subVectors(_,x).multiplyScalar(r.panSpeed),N(b.x,b.y),x.copy(_),r.update()}function O(le){oe(le),le.deltaY<0?j(q()):le.deltaY>0&&H(q()),r.update()}function F(le){let Oe=!1;switch(le.code){case r.keys.UP:N(0,r.keyPanSpeed),Oe=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),Oe=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),Oe=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),Oe=!0;break}Oe&&(le.preventDefault(),r.update())}function Y(){if(I.length==1)g.set(I[0].pageX,I[0].pageY);else{const le=.5*(I[0].pageX+I[1].pageX),Oe=.5*(I[0].pageY+I[1].pageY);g.set(le,Oe)}}function ie(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const le=.5*(I[0].pageX+I[1].pageX),Oe=.5*(I[0].pageY+I[1].pageY);x.set(le,Oe)}}function re(){const le=I[0].pageX-I[1].pageX,Oe=I[0].pageY-I[1].pageY,et=Math.sqrt(le*le+Oe*Oe);S.set(0,et)}function he(){r.enableZoom&&re(),r.enablePan&&ie()}function Le(){r.enableZoom&&re(),r.enableRotate&&Y()}function ke(le){if(I.length==1)v.set(le.pageX,le.pageY);else{const et=ct(le),se=.5*(le.pageX+et.x),be=.5*(le.pageY+et.y);v.set(se,be)}y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Oe=r.domElement;Oe&&(W(2*Math.PI*y.x/Oe.clientHeight),$(2*Math.PI*y.y/Oe.clientHeight)),g.copy(v)}function He(le){if(I.length==1)_.set(le.pageX,le.pageY);else{const Oe=ct(le),et=.5*(le.pageX+Oe.x),se=.5*(le.pageY+Oe.y);_.set(et,se)}b.subVectors(_,x).multiplyScalar(r.panSpeed),N(b.x,b.y),x.copy(_)}function je(le){const Oe=ct(le),et=le.pageX-Oe.x,se=le.pageY-Oe.y,be=Math.sqrt(et*et+se*se);R.set(0,be),T.set(0,Math.pow(R.y/S.y,r.zoomSpeed)),H(T.y),S.copy(R)}function We(le){r.enableZoom&&je(le),r.enablePan&&He(le)}function pt(le){r.enableZoom&&je(le),r.enableRotate&&ke(le)}function ut(le){var Oe,et;r.enabled!==!1&&(I.length===0&&((Oe=r.domElement)==null||Oe.ownerDocument.addEventListener("pointermove",Z),(et=r.domElement)==null||et.ownerDocument.addEventListener("pointerup",G)),xt(le),le.pointerType==="touch"?qe(le):Ne(le))}function Z(le){r.enabled!==!1&&(le.pointerType==="touch"?Re(le):Ge(le))}function G(le){var Oe,et,se;it(le),I.length===0&&((Oe=r.domElement)==null||Oe.releasePointerCapture(le.pointerId),(et=r.domElement)==null||et.ownerDocument.removeEventListener("pointermove",Z),(se=r.domElement)==null||se.ownerDocument.removeEventListener("pointerup",G)),r.dispatchEvent(o),l=a.NONE}function we(le){it(le)}function Ne(le){let Oe;switch(le.button){case 0:Oe=r.mouseButtons.LEFT;break;case 1:Oe=r.mouseButtons.MIDDLE;break;case 2:Oe=r.mouseButtons.RIGHT;break;default:Oe=-1}switch(Oe){case Hl.DOLLY:if(r.enableZoom===!1)return;Pe(le),l=a.DOLLY;break;case Hl.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enablePan===!1)return;Me(le),l=a.PAN}else{if(r.enableRotate===!1)return;ge(le),l=a.ROTATE}break;case Hl.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(r.enableRotate===!1)return;ge(le),l=a.ROTATE}else{if(r.enablePan===!1)return;Me(le),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ge(le){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;de(le);break;case a.DOLLY:if(r.enableZoom===!1)return;Ve(le);break;case a.PAN:if(r.enablePan===!1)return;ve(le);break}}function Ce(le){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(le.preventDefault(),r.dispatchEvent(s),O(le),r.dispatchEvent(o))}function vt(le){r.enabled===!1||r.enablePan===!1||F(le)}function qe(le){switch(gt(le),I.length){case 1:switch(r.touches.ONE){case Vl.ROTATE:if(r.enableRotate===!1)return;Y(),l=a.TOUCH_ROTATE;break;case Vl.PAN:if(r.enablePan===!1)return;ie(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Vl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;he(),l=a.TOUCH_DOLLY_PAN;break;case Vl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Le(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Re(le){switch(gt(le),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ke(le),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;He(le),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;We(le),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pt(le),r.update();break;default:l=a.NONE}}function ft(le){r.enabled!==!1&&le.preventDefault()}function xt(le){I.push(le)}function it(le){delete k[le.pointerId];for(let Oe=0;Oe<I.length;Oe++)if(I[Oe].pointerId==le.pointerId){I.splice(Oe,1);return}}function gt(le){let Oe=k[le.pointerId];Oe===void 0&&(Oe=new Ie,k[le.pointerId]=Oe),Oe.set(le.pageX,le.pageY)}function ct(le){const Oe=le.pointerId===I[0].pointerId?I[1]:I[0];return k[Oe.pointerId]}t!==void 0&&this.connect(t),this.update()}};class F7 extends Yr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new a$(t)}),this.register(function(t){return new m$(t)}),this.register(function(t){return new g$(t)}),this.register(function(t){return new y$(t)}),this.register(function(t){return new u$(t)}),this.register(function(t){return new c$(t)}),this.register(function(t){return new d$(t)}),this.register(function(t){return new f$(t)}),this.register(function(t){return new o$(t)}),this.register(function(t){return new h$(t)}),this.register(function(t){return new l$(t)}),this.register(function(t){return new p$(t)}),this.register(function(t){return new i$(t)}),this.register(function(t){return new v$(t)}),this.register(function(t){return new x$(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Qs.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ti(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Qs.decodeText(new Uint8Array(e.slice(0,4)))===qB){try{o[Wt.KHR_BINARY_GLTF]=new w$(e)}catch(c){i&&i(c);return}s=JSON.parse(o[Wt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Qs.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new D$(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case Wt.KHR_MATERIALS_UNLIT:o[c]=new s$;break;case Wt.KHR_DRACO_MESH_COMPRESSION:o[c]=new b$(s,this.dracoLoader);break;case Wt.KHR_TEXTURE_TRANSFORM:o[c]=new _$;break;case Wt.KHR_MESH_QUANTIZATION:o[c]=new A$;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function r$(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Wt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class i${constructor(e){this.parser=e,this.name=Wt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Qe(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new x7(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new v7(c),u.distance=f;break;case"spot":u=new y7(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Aa(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class s${constructor(){this.name=Wt.KHR_MATERIALS_UNLIT}getMaterialType(){return _i}extendParams(e,t,r){const i=[];e.color=new Qe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class o${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class a${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ie(a,a)}return Promise.all(s)}}class l${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class u${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Qe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class c${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class d${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Qe(a[0],a[1],a[2]),Promise.all(s)}}class f${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class h${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Qe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class p${constructor(e){this.parser=e,this.name=Wt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class m${constructor(e){this.parser=e,this.name=Wt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class g${constructor(e){this.parser=e,this.name=Wt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class y${constructor(e){this.parser=e,this.name=Wt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class v${constructor(e){this.name=Wt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,h=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(m),c,f,h,i.mode,i.filter),m})})}else return null}}class x${constructor(e){this.name=Wt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==ji.TRIANGLES&&u.mode!==ji.TRIANGLE_STRIP&&u.mode!==ji.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,m=[];for(const g of f){const v=new St,y=new V,x=new cr,_=new V(1,1,1),b=new t7(g.geometry,g.material,h);for(let S=0;S<h;S++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,S),l.SCALE&&_.fromBufferAttribute(l.SCALE,S),b.setMatrixAt(S,v.compose(y,x,_));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&g.geometry.setAttribute(S,l[S]);Jt.prototype.copy.call(b,g),this.parser.assignFinalMaterial(b),m.push(b)}return c.isGroup?(c.clear(),c.add(...m),c):m[0]}))}}const qB="glTF",Vf=12,cC={JSON:1313821514,BIN:5130562};class w${constructor(e){this.name=Wt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Vf);if(this.header={magic:Qs.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==qB)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Vf,i=new DataView(e,Vf);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===cC.JSON){const l=new Uint8Array(e,Vf+s,o);this.content=Qs.decodeText(l)}else if(a===cC.BIN){const l=Vf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class b${constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Wt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=$8[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=$8[c]||c.toLowerCase();if(o[c]!==void 0){const h=r.accessors[e.attributes[c]],m=ld[h.componentType];u[f]=m.name,l[f]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(h){for(const m in h.attributes){const g=h.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}f(h)},a,u)})})}}class _${constructor(){this.name=Wt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class A${constructor(){this.name=Wt.KHR_MESH_QUANTIZATION}}class XB extends qd{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-t,f=(r-t)/c,h=f*f,m=h*f,g=e*u,v=g-u,y=-2*m+3*h,x=m-h,_=1-y,b=x-h+f;for(let S=0;S!==a;S++){const R=o[v+S+a],T=o[v+S+l]*c,B=o[g+S+a],C=o[g+S]*c;s[S]=_*R+b*T+y*B+x*C}return s}}const S$=new cr;class C$ extends XB{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return S$.fromArray(s).normalize().toArray(s),s}}const ji={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ld={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},dC={9728:Pn,9729:bn,9984:np,9985:i1,9986:sd,9987:so},fC={33071:mr,33648:vd,10497:Ka},E5={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$8={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...JB>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},pa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},T$={CUBICSPLINE:void 0,LINEAR:Tu,STEP:wd},P5={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function M$(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Yp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:io})),n.DefaultMaterial}function kl(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Aa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function E$(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return r&&(n.morphAttributes.position=c),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function P$(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function I$(n){let e;const t=n.extensions&&n.extensions[Wt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+I5(t.attributes):e=n.indices+":"+I5(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+I5(n.targets[r]);return e}function I5(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function e4(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function R$(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const B$=new St;class D${constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new r$,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new DR(this.options.manager):this.textureLoader=new GR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ti(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};kl(s,a,i),Aa(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Wt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Qs.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=E5[i.type],a=ld[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new $t(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=E5[i.type],u=ld[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==f){const x=Math.floor(h/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let b=t.cache.get(_);b||(v=new u(a,x*m,i.count*m/c),b=new Op(v,m/c),t.cache.add(_,b)),y=new Qa(b,l,h%m/c,g)}else a===null?v=new u(i.count*l):v=new u(a,h,i.count*l),y=new $t(v,l,g);if(i.sparse!==void 0){const x=E5.SCALAR,_=ld[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,R=new _(o[1],b,i.sparse.count*x),T=new u(o[2],S,i.sparse.count*l);a!==null&&(y=new $t(y.array.slice(),y.itemSize,y.normalized));for(let B=0,C=R.length;B<C;B++){const P=R[B];if(y.setX(P,T[B*l]),l>=2&&y.setY(P,T[B*l+1]),l>=3&&y.setZ(P,T[B*l+2]),l>=4&&y.setW(P,T[B*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return c.magFilter=dC[h.magFilter]||bn,c.minFilter=dC[h.minFilter]||so,c.wrapS=fC[h.wrapS]||Ka,c.wrapT=fC[h.wrapT]||Ka,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,m){let g=h;t.isImageBitmapLoader===!0&&(g=function(v){const y=new vn(v);y.needsUpdate=!0,h(y)}),t.load(Qs.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||R$(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Wt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Wt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Wt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Np,Wn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Or,Wn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Yp}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Wt.KHR_MATERIALS_UNLIT]){const f=i[Wt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Qe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ws);const c=s.alphaMode||P5.OPAQUE;if(c===P5.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===P5.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==_i&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ie(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==_i&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==_i&&(a.emissive=new Qe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==_i&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Aa(f,s),t.associations.set(f,{materials:e}),s.extensions&&kl(i,f,s),f})}createUniqueName(e){const t=Zt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Wt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return hC(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=I$(u),f=i[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[Wt.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=hC(new kt,u,t),i[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?M$(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let m=0,g=c.length;m<g;m++){const v=c[m],y=o[m];let x;const _=u[m];if(y.mode===ji.TRIANGLES||y.mode===ji.TRIANGLE_STRIP||y.mode===ji.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new e7(v,_):new or(v,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===ji.TRIANGLE_STRIP?x.geometry=aC(x.geometry,G9):y.mode===ji.TRIANGLE_FAN&&(x.geometry=aC(x.geometry,Hg));else if(y.mode===ji.LINES)x=new Is(v,_);else if(y.mode===ji.LINE_STRIP)x=new Jo(v,_);else if(y.mode===ji.LINE_LOOP)x=new n7(v,_);else if(y.mode===ji.POINTS)x=new r7(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&P$(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Aa(x,s),y.extensions&&kl(i,x,y),t.assignFinalMaterial(x),f.push(x)}for(let m=0,g=f.length;m<g;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&kl(i,f[0],s),f[0];const h=new Bo;s.extensions&&kl(i,h,s),t.associations.set(h,{meshes:e});for(let m=0,g=f.length;m<g;m++)h.add(f[m]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new hn(XI.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new $i(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Aa(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const h=new St;s!==null&&h.fromArray(s.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new Fp(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=r.channels.length;c<f;c++){const h=r.channels[c],m=r.samplers[h.sampler],g=h.target,v=g.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,x=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",x)),l.push(m),u.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],h=c[1],m=c[2],g=c[3],v=c[4],y=[];for(let x=0,_=f.length;x<_;x++){const b=f[x],S=h[x],R=m[x],T=g[x],B=v[x];if(b===void 0)continue;b.updateMatrix();let C;switch(pa[B.path]){case pa.weights:C=Sd;break;case pa.rotation:C=$a;break;case pa.position:case pa.scale:default:C=Cd;break}const P=b.name?b.name:b.uuid,I=T.interpolation!==void 0?T$[T.interpolation]:Tu,k=[];pa[B.path]===pa.weights?b.traverse(function(q){q.morphTargetInfluences&&k.push(q.name?q.name:q.uuid)}):k.push(P);let U=R.array;if(R.normalized){const q=e4(U.constructor),W=new Float32Array(U.length);for(let $=0,ee=U.length;$<ee;$++)W[$]=U[$]*q;U=W}for(let q=0,W=k.length;q<W;q++){const $=new C(k[q]+"."+pa[B.path],S.array,U,I);T.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(ce){const N=this instanceof $a?C$:XB;return new N(this.times,this.values,this.getValueSize()/3,ce)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push($)}}return new Td(i,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(m){m.isSkinnedMesh&&m.bind(h,B$)});for(let m=0,g=f.length;m<g;m++)c.add(f[m]);return c})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new d1:u.length>1?c=new Bo:u.length===1?c=u[0]:c=new Jt,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),Aa(c,s),s.extensions&&kl(r,c,s),s.matrix!==void 0){const f=new St;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Bo;r.name&&(s.name=i.createUniqueName(r.name)),Aa(s,r),r.extensions&&kl(t,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[h,m]of i.associations)(h instanceof Wn||h instanceof vn)&&f.set(h,m);return c.traverse(h=>{const m=i.associations.get(h);m!=null&&f.set(h,m)}),f};return i.associations=u(s),s})}}function k$(n,e,t){const r=e.attributes,i=new ul;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new V(l[0],l[1],l[2]),new V(u[0],u[1],u[2])),a.normalized){const c=e4(ld[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new V,l=new V;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],m=h.min,g=h.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),h.normalized){const v=e4(ld[h.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new cl;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function hC(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=$8[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Aa(n,e),k$(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?E$(n,e.targets,t):n})}const R5=new WeakMap;class L$ extends Yr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Ti(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(R5.has(e)){const l=R5.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),R5.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new kt;e.index&&t.setIndex(new $t(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new $t(o,a))}return t}_loadLibrary(e,t){const r=new Ti(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=O$.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function O$(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,h=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(f,h,m,u),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(h)}});break}};function t(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let h,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)h=new o.Mesh,m=a.DecodeBufferToMesh(l,h);else if(g===o.POINT_CLOUD)h=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in c){const x=self[f[y]];let _,b;if(u.useUniqueIDs)b=c[y],_=a.GetAttributeByUniqueId(h,b);else{if(b=a.GetAttributeId(h,o[c[y]]),b===-1)continue;_=a.GetAttribute(h,b)}v.attributes.push(i(o,a,h,y,x,_))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,h)),o.destroy(h),v}function r(o,a,l){const c=l.num_faces()*3,f=c*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const m=new Uint32Array(o.HEAPF32.buffer,h,c).slice();return o._free(h),{array:m,itemSize:1}}function i(o,a,l,u,c,f){const h=f.num_components(),g=l.num_points()*h,v=g*c.BYTES_PER_ELEMENT,y=s(o,c),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,x);const _=new c(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:u,array:_,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let C3;const B5=()=>{if(C3)return C3;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);h[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<f.length;++g)h[m++]=h[g]<60?r[h[g]]:(h[g]-60)*64+h[++g];return h.buffer.slice(0,m)}function l(f,h,m,g,v,y){const x=s.exports.sbrk,_=m+3&-4,b=x(_*g),S=x(v.length),R=new Uint8Array(s.exports.memory.buffer);R.set(v,S);const T=f(b,m,g,S,v.length);if(T===0&&y&&y(b,_,g),h.set(R.subarray(b,b+m*g)),x(b-x(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return C3={ready:o,supported:!0,decodeVertexBuffer(f,h,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,h,m,g,s.exports[u[v]])},decodeIndexBuffer(f,h,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,h,m,g)},decodeIndexSequence(f,h,m,g){l(s.exports.meshopt_decodeIndexSequence,f,h,m,g)},decodeGltfBuffer(f,h,m,g,v,y){l(s.exports[c[v]],f,h,m,g,s.exports[u[y]])}},C3};let T3=null,KB="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function YB(n,e,t){return r=>{t&&t(r),n&&(T3||(T3=new L$),T3.setDecoderPath(typeof n=="string"?n:KB),r.setDRACOLoader(T3)),e&&r.setMeshoptDecoder(typeof B5=="function"?B5():B5)}}function a0(n,e=!0,t=!0,r){return e0(F7,n,YB(e,t,r))}a0.preload=(n,e=!0,t=!0,r)=>e0.preload(F7,n,YB(e,t,r));a0.clear=n=>e0.clear(F7,n);a0.setDecoderPath=n=>{KB=n};const QB=Q.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},c)=>{const f=qi(T=>T.invalidate),h=qi(T=>T.camera),m=qi(T=>T.gl),g=qi(T=>T.events),v=qi(T=>T.setEvents),y=qi(T=>T.set),x=qi(T=>T.get),_=qi(T=>T.performance),b=e||h,S=r||g.connected||m.domElement,R=Q.useMemo(()=>new n$(b),[b]);return $p(()=>{R.enabled&&R.update()},-1),Q.useEffect(()=>(s&&R.connect(s===!0?S:s),R.connect(S),()=>void R.dispose()),[s,S,t,R,f]),Q.useEffect(()=>{const T=P=>{f(),t&&_.regress(),o&&o(P)},B=P=>{a&&a(P)},C=P=>{l&&l(P)};return R.addEventListener("change",T),R.addEventListener("start",B),R.addEventListener("end",C),()=>{R.removeEventListener("start",B),R.removeEventListener("end",C),R.removeEventListener("change",T)}},[o,a,l,R,f,v]),Q.useEffect(()=>{if(n){const T=x().controls;return y({controls:R}),()=>y({controls:T})}},[n,R]),Q.createElement("primitive",Mt({ref:c,object:R,enableDamping:i},u))}),D5=parseInt(Lu.replace(/\D+/g,""))>=154?"opaque_fragment":"output_fragment";class F$ extends Np{constructor(e){super(e),this.onBeforeCompile=(t,r)=>{const{isWebGL2:i}=r.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${D5}>`,`
        ${i?`#include <${D5}>`:`#extension GL_OES_standard_derivatives : enable
#include <${D5}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${parseInt(Lu.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const N$=Q.forwardRef((n,e)=>{const[t]=Q.useState(()=>new F$(null));return Q.createElement("primitive",Mt({},n,{object:t,ref:e,attach:"material"}))});let Ll,Wf;const U$=Q.createContext(null),pC=new St,mC=new V,G$=Q.forwardRef(({children:n,range:e,limit:t=1e3,...r},i)=>{const s=Q.useRef(null),[o,a]=Q.useState([]),[[l,u,c]]=Q.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);Q.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),$p(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),pC.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Ll=0;Ll<o.length;Ll++)Wf=o[Ll].current,Wf.getWorldPosition(mC).applyMatrix4(pC),mC.toArray(l,Ll*3),s.current.geometry.attributes.position.needsUpdate=!0,Wf.matrixWorldNeedsUpdate=!0,Wf.color.toArray(u,Ll*3),s.current.geometry.attributes.color.needsUpdate=!0,c.set([Wf.size],Ll),s.current.geometry.attributes.size.needsUpdate=!0});const f=Q.useMemo(()=>({getParent:()=>s,subscribe:h=>(a(m=>[...m,h]),()=>a(m=>m.filter(g=>g.current!==h.current)))}),[]);return Q.createElement("points",Mt({userData:{instances:o},matrixAutoUpdate:!1,ref:gB([i,s]),raycast:()=>null},r),Q.createElement("bufferGeometry",null,Q.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:pu}),Q.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:pu}),Q.createElement("bufferAttribute",{attach:"attributes-size",count:c.length,array:c,itemSize:1,usage:pu})),Q.createElement(U$.Provider,{value:f},n))}),z$=Q.forwardRef(({children:n,positions:e,colors:t,sizes:r,stride:i=3,...s},o)=>{const a=Q.useRef(null);return $p(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),r&&(l.size.needsUpdate=!0)}),Q.createElement("points",Mt({ref:gB([o,a])},s),Q.createElement("bufferGeometry",null,Q.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/i,array:e,itemSize:i,usage:pu}),t&&Q.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/i,array:t,itemSize:3,usage:pu}),r&&Q.createElement("bufferAttribute",{attach:"attributes-size",count:r.length/i,array:r,itemSize:1,usage:pu})),n)}),H$=Q.forwardRef((n,e)=>n.positions instanceof Float32Array?Q.createElement(z$,Mt({},n,{ref:e})):Q.createElement(G$,Mt({},n,{ref:e})));var $B={exports:{}},V$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W$=V$,j$=W$;function eD(){}function tD(){}tD.resetWarningCache=eD;var Z$=function(){function n(r,i,s,o,a,l){if(l!==j$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tD,resetWarningCache:eD};return t.PropTypes=t,t};$B.exports=Z$();var nD=$B.exports;function N7({all:n,scene:e,camera:t}){const r=qi(({gl:o})=>o),i=qi(({camera:o})=>o),s=qi(({scene:o})=>o);return Q.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),r.compile(e||s,t||i);const a=new q9(128);new J9(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const rD=()=>{const{progress:n}=nX();return me(tX,{children:me("span",{className:"canvas-load",children:me("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:n.toFixed(2)})})})},J$=()=>{const n=a0("./planet/scene.gltf");return me("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},q$=()=>me(M7,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:nt(Q.Suspense,{fallback:me(rD,{}),children:[me(QB,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),me(J$,{}),me(N7,{all:!0})]})}),X$=({isMobile:n})=>{const e=a0("./desktop_pc/scene.gltf");return nt("mesh",{children:[me("hemisphereLight",{intensity:.15,groundColor:"black"}),me("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),me("pointLight",{intensity:1}),me("primitive",{object:e.scene,scale:n?.7:.75,position:n?[0,-3,-2.2]:[0,-4.25,-1.5],rotation:[-.01,-.2,-.1]})]})},K$=()=>{const[n,e]=Q.useState(!1);return Q.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const r=i=>{e(i.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[]),me(ro,{children:n?me(ro,{}):nt(M7,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[nt(Q.Suspense,{fallback:me(rD,{}),children:[me(QB,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),me(X$,{isMobile:n})]}),me(N7,{all:!0})]})})};function ud(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(t),!0).forEach(function(r){ud(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iD(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}new Ie;new Ie;var Vi=function n(e,t,r){var i=this;iD(this,n),ud(this,"dot2",function(s,o){return i.x*s+i.y*o}),ud(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},Y$=[new Vi(1,1,0),new Vi(-1,1,0),new Vi(1,-1,0),new Vi(-1,-1,0),new Vi(1,0,1),new Vi(-1,0,1),new Vi(1,0,-1),new Vi(-1,0,-1),new Vi(0,1,1),new Vi(0,-1,1),new Vi(0,1,-1),new Vi(0,-1,-1)],vC=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],xC=new Array(512),wC=new Array(512),Q$=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=vC[t]^e&255:r=vC[t]^e>>8&255,xC[t]=xC[t+256]=r,wC[t]=wC[t+256]=Y$[r%12]}};Q$(0);function $$(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function bC(n){var e=$$(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var eee=function n(e){var t=this;iD(this,n),ud(this,"seed",0),ud(this,"init",function(r){t.seed=r,t.value=bC(r)}),ud(this,"value",bC(this.seed)),this.init(e)},tee=new eee(Math.random()),nee={radius:1,center:[0,0,0]};function ree(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tee,r=yC(yC({},nee),e),i=r.radius,s=r.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,u=t.value()*2-1,c=t.value()*2-1,f=Math.sqrt(l*l+u*u+c*c);l=a*l/f,u=a*u/f,c=a*c/f,n[o]=l*i+s[0],n[o+1]=u*i+s[1],n[o+2]=c*i+s[2]}return n}const iee=n=>{const e=Q.useRef(),[t]=Q.useState(()=>ree(new Float32Array(5001),{radius:1.2}));return $p((r,i)=>{e.current.rotation.x-=i/10,e.current.rotation.y-=i/15}),me("group",{rotation:[0,0,Math.PI/4],children:me(H$,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:me(N$,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},see=()=>me("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:nt(M7,{camera:{position:[0,0,1]},children:[me(Q.Suspense,{fallback:null,children:me(iee,{})}),me(N7,{all:!0})]})}),sD=Q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),x1=Q.createContext({});function oee(){return Q.useContext(x1).visualElement}const U7=Q.createContext(null),w1=typeof document<"u",_C=w1?Q.useLayoutEffect:Q.useEffect,oD=Q.createContext({strict:!1});function aee(n,e,t,r){const i=oee(),s=Q.useContext(oD),o=Q.useContext(U7),a=Q.useContext(sD).reducedMotion,l=Q.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return Q.useInsertionEffect(()=>{u&&u.update(t,o)}),_C(()=>{u&&u.render()}),Q.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?_C:Q.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Jc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function lee(n,e,t){return Q.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Jc(t)&&(t.current=r))},[e])}function mp(n){return typeof n=="string"||Array.isArray(n)}function b1(n){return typeof n=="object"&&typeof n.start=="function"}const G7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z7=["initial",...G7];function _1(n){return b1(n.animate)||z7.some(e=>mp(n[e]))}function aD(n){return!!(_1(n)||n.variants)}function uee(n,e){if(_1(n)){const{initial:t,animate:r}=n;return{initial:t===!1||mp(t)?t:void 0,animate:mp(r)?r:void 0}}return n.inherit!==!1?e:{}}function cee(n){const{initial:e,animate:t}=uee(n,Q.useContext(x1));return Q.useMemo(()=>({initial:e,animate:t}),[AC(e),AC(t)])}function AC(n){return Array.isArray(n)?n.join(" "):n}const SC={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gp={};for(const n in SC)gp[n]={isEnabled:e=>SC[n].some(t=>!!e[t])};function dee(n){for(const e in n)gp[e]={...gp[e],...n[e]}}function lD(n){const e=Q.useRef(null);return e.current===null&&(e.current=n()),e.current}const Ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fee=1;function hee(){return lD(()=>{if(Ph.hasEverUpdated)return fee++})}const uD=Q.createContext({}),cD=Q.createContext({}),pee=Symbol.for("motionComponentSymbol");function mee({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&dee(n);function s(a,l){let u;const c={...Q.useContext(sD),...a,layoutId:gee(a)},{isStatic:f}=c,h=cee(a),m=f?void 0:hee(),g=r(a,f);if(!f&&w1){h.visualElement=aee(i,g,c,e);const v=Q.useContext(cD),y=Q.useContext(oD).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,y,n,m,v))}return Q.createElement(x1.Provider,{value:h},u&&h.visualElement?Q.createElement(u,{visualElement:h.visualElement,...c}):null,t(i,a,m,lee(g,h.visualElement,l),g,f,h.visualElement))}const o=Q.forwardRef(s);return o[pee]=i,o}function gee({layoutId:n}){const e=Q.useContext(uD).id;return e&&n!==void 0?e+"-"+n:n}function yee(n){function e(r,i={}){return mee(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const vee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H7(n){return typeof n!="string"||n.includes("-")?!1:!!(vee.indexOf(n)>-1||/[A-Z]/.test(n))}const $g={};function xee(n){Object.assign($g,n)}const A1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gu=new Set(A1);function dD(n,{layout:e,layoutId:t}){return Gu.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!$g[n]||n==="opacity")}const fi=n=>!!(n&&n.getVelocity),wee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bee=A1.length;function _ee(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<bee;o++){const a=A1[o];if(n[a]!==void 0){const l=wee[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const fD=n=>e=>typeof e=="string"&&e.startsWith(n),hD=fD("--"),t4=fD("var(--"),Aee=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Pd=(n,e,t)=>Math.min(Math.max(t,n),e),zu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ih={...zu,transform:n=>Pd(0,1,n)},M3={...zu,default:1},Rh=n=>Math.round(n*1e5)/1e5,yp=/(-)?([\d]*\.?[\d])+/g,n4=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,See=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function l0(n){return typeof n=="string"}const u0=n=>({test:e=>l0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),wa=u0("deg"),eo=u0("%"),bt=u0("px"),Cee=u0("vh"),Tee=u0("vw"),CC={...eo,parse:n=>eo.parse(n)/100,transform:n=>eo.transform(n*100)},TC={...zu,transform:Math.round},pD={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,size:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,rotate:wa,rotateX:wa,rotateY:wa,rotateZ:wa,scale:M3,scaleX:M3,scaleY:M3,scaleZ:M3,skew:wa,skewX:wa,skewY:wa,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Ih,originX:CC,originY:CC,originZ:bt,zIndex:TC,fillOpacity:Ih,strokeOpacity:Ih,numOctaves:TC};function V7(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,c=!0;for(const f in e){const h=e[f];if(hD(f)){s[f]=h;continue}const m=pD[f],g=Aee(h,m);if(Gu.has(f)){if(l=!0,o[f]=g,!c)continue;h!==(m.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=_ee(n.transform,t,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${h} ${m}`}}const W7=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mD(n,e,t){for(const r in e)!fi(e[r])&&!dD(r,t)&&(n[r]=e[r])}function Mee({transformTemplate:n},e,t){return Q.useMemo(()=>{const r=W7();return V7(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Eee(n,e,t){const r=n.style||{},i={};return mD(i,r,n),Object.assign(i,Mee(n,e,t)),n.transformValues?n.transformValues(i):i}function Pee(n,e,t){const r={},i=Eee(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Iee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function e2(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Iee.has(n)}let gD=n=>!e2(n);function Ree(n){n&&(gD=e=>e.startsWith("on")?!e2(e):n(e))}try{Ree(require("@emotion/is-prop-valid").default)}catch{}function Bee(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(gD(i)||t===!0&&e2(i)||!e&&!e2(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function MC(n,e,t){return typeof n=="string"?n:bt.transform(e+t*n)}function Dee(n,e,t){const r=MC(e,n.x,n.width),i=MC(t,n.y,n.height);return`${r} ${i}`}const kee={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lee={offset:"strokeDashoffset",array:"strokeDasharray"};function Oee(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?kee:Lee;n[s.offset]=bt.transform(-r);const o=bt.transform(e),a=bt.transform(t);n[s.array]=`${o} ${a}`}function j7(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,f){if(V7(n,l,u,f),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:m,dimensions:g}=n;h.transform&&(g&&(m.transform=h.transform),delete h.transform),g&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=Dee(g,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),s!==void 0&&Oee(h,s,o,a,!1)}const yD=()=>({...W7(),attrs:{}}),Z7=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Fee(n,e,t,r){const i=Q.useMemo(()=>{const s=yD();return j7(s,e,{enableHardwareAcceleration:!1},Z7(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};mD(s,n.style,n),i.style={...s,...i.style}}return i}function Nee(n=!1){return(t,r,i,s,{latestValues:o},a)=>{const u=(H7(t)?Fee:Pee)(r,o,a,t),f={...Bee(r,typeof t=="string",n),...u,ref:s},{children:h}=r,m=Q.useMemo(()=>fi(h)?h.get():h,[h]);return i&&(f["data-projection-id"]=i),Q.createElement(t,{...f,children:m})}}const J7=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function vD(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const xD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wD(n,e,t,r){vD(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(xD.has(i)?i:J7(i),e.attrs[i])}function q7(n,e){const{style:t}=n,r={};for(const i in t)(fi(t[i])||e.style&&fi(e.style[i])||dD(i,n))&&(r[i]=t[i]);return r}function bD(n,e){const t=q7(n,e);for(const r in n)if(fi(n[r])||fi(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[i]=n[r]}return t}function X7(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const t2=n=>Array.isArray(n),Uee=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Gee=n=>t2(n)?n[n.length-1]||0:n;function ag(n){const e=fi(n)?n.get():n;return Uee(e)?e.toValue():e}function zee({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Hee(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const _D=n=>(e,t)=>{const r=Q.useContext(x1),i=Q.useContext(U7),s=()=>zee(n,e,r,i);return t?s():lD(s)};function Hee(n,e,t,r){const i={},s=r(n,{});for(const h in s)i[h]=ag(s[h]);let{initial:o,animate:a}=n;const l=_1(n),u=aD(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||o===!1;const f=c?a:o;return f&&typeof f!="boolean"&&!b1(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=X7(n,m);if(!g)return;const{transitionEnd:v,transition:y,...x}=g;for(const _ in x){let b=x[_];if(Array.isArray(b)){const S=c?b.length-1:0;b=b[S]}b!==null&&(i[_]=b)}for(const _ in v)i[_]=v[_]}),i}const Vee={useVisualState:_D({scrapeMotionValuesFromProps:bD,createRenderState:yD,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}j7(t,r,{enableHardwareAcceleration:!1},Z7(e.tagName),n.transformTemplate),wD(e,t)}})},Wee={useVisualState:_D({scrapeMotionValuesFromProps:q7,createRenderState:W7})};function jee(n,{forwardMotionProps:e=!1},t,r){return{...H7(n)?Vee:Wee,preloadedFeatures:t,useRender:Nee(e),createVisualElement:r,Component:n}}function ko(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const AD=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function S1(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const Zee=n=>e=>AD(e)&&n(e,S1(e));function Uo(n,e,t,r){return ko(n,e,Zee(t),r)}const Jee=(n,e)=>t=>e(n(t)),ja=(...n)=>n.reduce(Jee);function SD(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const EC=SD("dragHorizontal"),PC=SD("dragVertical");function CD(n){let e=!1;if(n==="y")e=PC();else if(n==="x")e=EC();else{const t=EC(),r=PC();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function TD(){const n=CD(!0);return n?(n(),!1):!0}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function IC(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||TD())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&a[r](s,o)};return Uo(n.current,t,i,{passive:!n.getProps()[r]})}class qee extends pl{mount(){this.unmount=ja(IC(this.node,!0),IC(this.node,!1))}unmount(){}}class Xee extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ja(ko(this.node.current,"focus",()=>this.onFocus()),ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MD=(n,e)=>e?n===e?!0:MD(n,e.parentElement):!1,ts=n=>n;function k5(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,S1(t))}class Kee extends pl{constructor(){super(...arguments),this.removeStartListeners=ts,this.removeEndListeners=ts,this.removeAccessibleListeners=ts,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Uo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();MD(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)},{passive:!(r.onTap||r.onPointerUp)}),o=Uo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ja(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||k5("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=ko(this.node.current,"keyup",o),k5("down",(a,l)=>{this.startPress(a,l)})},t=ko(this.node.current,"keydown",e),r=()=>{this.isPressing&&k5("cancel",(s,o)=>this.cancelPress(s,o))},i=ko(this.node.current,"blur",r);this.removeAccessibleListeners=ja(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&r(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!TD()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&r(e,t)}mount(){const e=this.node.getProps(),t=Uo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ko(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ja(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const r4=new WeakMap,L5=new WeakMap,Yee=n=>{const e=r4.get(n.target);e&&e(n)},Qee=n=>{n.forEach(Yee)};function $ee({root:n,...e}){const t=n||document;L5.has(t)||L5.set(t,{});const r=L5.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Qee,{root:n,...e})),r[i]}function ete(n,e,t){const r=$ee(e);return r4.set(n,t),r.observe(n),()=>{r4.delete(n),r.unobserve(n)}}const tte={some:0,all:1};class nte extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:tte[i]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=c?f:h;m&&m(u)};return ete(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(rte(e,t))&&this.startObserver()}unmount(){}}function rte({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ite={inView:{Feature:nte},tap:{Feature:Kee},focus:{Feature:Xee},hover:{Feature:qee}};function ED(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const ste=n=>/^\-?\d*\.?\d+$/.test(n),ote=n=>/^0[^.\s]+$/.test(n),Go={delta:0,timestamp:0},PD=1/60*1e3,ate=typeof performance<"u"?()=>performance.now():()=>Date.now(),ID=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(ate()),PD);function lte(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,h=f?e:t;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const ute=40;let i4=!0,vp=!1,s4=!1;const c0=["read","update","preRender","render","postRender"],C1=c0.reduce((n,e)=>(n[e]=lte(()=>vp=!0),n),{}),Jr=c0.reduce((n,e)=>{const t=C1[e];return n[e]=(r,i=!1,s=!1)=>(vp||dte(),t.schedule(r,i,s)),n},{}),tl=c0.reduce((n,e)=>(n[e]=C1[e].cancel,n),{}),O5=c0.reduce((n,e)=>(n[e]=()=>C1[e].process(Go),n),{}),cte=n=>C1[n].process(Go),RD=n=>{vp=!1,Go.delta=i4?PD:Math.max(Math.min(n-Go.timestamp,ute),1),Go.timestamp=n,s4=!0,c0.forEach(cte),s4=!1,vp&&(i4=!1,ID(RD))},dte=()=>{vp=!0,i4=!0,s4||ID(RD)};function K7(n,e){n.indexOf(e)===-1&&n.push(e)}function Y7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Q7{constructor(){this.subscriptions=[]}add(e){return K7(this.subscriptions,e),()=>Y7(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $7(n,e){return e?n*(1e3/e):0}const fte=n=>!isNaN(parseFloat(n));class hte{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Go;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Jr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Jr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=fte(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Q7);const r=this.events[e].add(t);return e==="change"?()=>{r(),Jr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$7(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Id(n,e){return new hte(n,e)}const ex=(n,e)=>t=>!!(l0(t)&&See.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),BD=(n,e,t)=>r=>{if(!l0(r))return r;const[i,s,o,a]=r.match(yp);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},pte=n=>Pd(0,255,n),F5={...zu,transform:n=>Math.round(pte(n))},au={test:ex("rgb","red"),parse:BD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+F5.transform(n)+", "+F5.transform(e)+", "+F5.transform(t)+", "+Rh(Ih.transform(r))+")"};function mte(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const o4={test:ex("#"),parse:mte,transform:au.transform},qc={test:ex("hsl","hue"),parse:BD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+eo.transform(Rh(e))+", "+eo.transform(Rh(t))+", "+Rh(Ih.transform(r))+")"},Hr={test:n=>au.test(n)||o4.test(n)||qc.test(n),parse:n=>au.test(n)?au.parse(n):qc.test(n)?qc.parse(n):o4.parse(n),transform:n=>l0(n)?n:n.hasOwnProperty("red")?au.transform(n):qc.transform(n)},DD="${c}",kD="${n}";function gte(n){var e,t;return isNaN(n)&&l0(n)&&(((e=n.match(yp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(n4))===null||t===void 0?void 0:t.length)||0)>0}function n2(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,r=0;const i=n.match(n4);i&&(t=i.length,n=n.replace(n4,DD),e.push(...i.map(Hr.parse)));const s=n.match(yp);return s&&(r=s.length,n=n.replace(yp,kD),e.push(...s.map(zu.parse))),{values:e,numColors:t,numNumbers:r,tokenised:n}}function LD(n){return n2(n).values}function OD(n){const{values:e,numColors:t,tokenised:r}=n2(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?DD:kD,a<t?Hr.transform(s[a]):Rh(s[a]));return o}}const yte=n=>typeof n=="number"?0:n;function vte(n){const e=LD(n);return OD(n)(e.map(yte))}const nl={test:gte,parse:LD,createTransformer:OD,getAnimatableNone:vte},xte=new Set(["brightness","contrast","saturate","opacity"]);function wte(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(yp)||[];if(!r)return n;const i=t.replace(r,"");let s=xte.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const bte=/([a-z-]*)\(.*?\)/g,a4={...nl,getAnimatableNone:n=>{const e=n.match(bte);return e?e.map(wte).join(" "):n}},_te={...pD,color:Hr,backgroundColor:Hr,outlineColor:Hr,fill:Hr,stroke:Hr,borderColor:Hr,borderTopColor:Hr,borderRightColor:Hr,borderBottomColor:Hr,borderLeftColor:Hr,filter:a4,WebkitFilter:a4},tx=n=>_te[n];function nx(n,e){let t=tx(n);return t!==a4&&(t=nl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const FD=n=>e=>e.test(n),Ate={test:n=>n==="auto",parse:n=>n},ND=[zu,bt,eo,wa,Tee,Cee,Ate],jf=n=>ND.find(FD(n)),Ste=[...ND,Hr,nl],Cte=n=>Ste.find(FD(n));function Tte(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Mte(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function T1(n,e,t){const r=n.getProps();return X7(r,e,t!==void 0?t:r.custom,Tte(n),Mte(n))}function Ete(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Id(t))}function Pte(n,e){const t=T1(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Gee(s[o]);Ete(n,o,a)}}function Ite(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(ste(c)||ote(c))?c=parseFloat(c):!Cte(c)&&nl.test(u)&&(c=nx(l,u)),n.addValue(l,Id(c,{owner:n})),t[l]===void 0&&(t[l]=c),c!==null&&n.setBaseTarget(l,c))}}function Rte(n,e){return e?(e[n]||e.default||e).from:void 0}function Bte(n,e,t){const r={};for(const i in n){const s=Rte(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function r2(n){return!!(fi(n)&&n.add)}const Dte="framerAppearId",kte="data-"+J7(Dte);let Lte=ts,i2=ts;const lg=n=>n*1e3,Ote={current:!1},rx=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ix=n=>e=>1-n(1-e),sx=n=>n*n,Fte=ix(sx),ox=rx(sx),An=(n,e,t)=>-t*n+t*e+n;function N5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Nte({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=N5(l,a,n+1/3),s=N5(l,a,n),o=N5(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const U5=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Ute=[o4,au,qc],Gte=n=>Ute.find(e=>e.test(n));function RC(n){const e=Gte(n);let t=e.parse(n);return e===qc&&(t=Nte(t)),t}const UD=(n,e)=>{const t=RC(n),r=RC(e),i={...t};return s=>(i.red=U5(t.red,r.red,s),i.green=U5(t.green,r.green,s),i.blue=U5(t.blue,r.blue,s),i.alpha=An(t.alpha,r.alpha,s),au.transform(i))};function GD(n,e){return typeof n=="number"?t=>An(n,e,t):Hr.test(n)?UD(n,e):HD(n,e)}const zD=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>GD(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},zte=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=GD(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},HD=(n,e)=>{const t=nl.createTransformer(e),r=n2(n),i=n2(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ja(zD(r.values,i.values),t):o=>`${o>0?e:n}`},xp=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},BC=(n,e)=>t=>An(n,e,t);function Hte(n){return typeof n=="number"?BC:typeof n=="string"?Hr.test(n)?UD:HD:Array.isArray(n)?zD:typeof n=="object"?zte:BC}function Vte(n,e,t){const r=[],i=t||Hte(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=ja(l,a)}r.push(a)}return r}function VD(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;i2(s===e.length),i2(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Vte(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<n.length-2&&!(u<n[c+1]);c++);const f=xp(n[c],n[c+1],u);return o[c](f)};return t?u=>l(Pd(n[0],n[s-1],u)):l}function Wte(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=xp(0,e,r);n.push(An(t,1,i))}}function jte(n){const e=[0];return Wte(e,n.length-1),e}function Zte(n,e){return n.map(t=>t*e)}const WD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Jte=1e-7,qte=12;function Xte(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=WD(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Jte&&++a<qte);return o}function jD(n,e,t,r){if(n===e&&t===r)return ts;const i=s=>Xte(s,0,1,n,t);return s=>s===0||s===1?s:WD(i(s),e,r)}const ZD=n=>1-Math.sin(Math.acos(n)),ax=ix(ZD),Kte=rx(ax),JD=jD(.33,1.53,.69,.99),lx=ix(JD),Yte=rx(lx),Qte=n=>(n*=2)<1?.5*lx(n):.5*(2-Math.pow(2,-10*(n-1))),$te={linear:ts,easeIn:sx,easeInOut:ox,easeOut:Fte,circIn:ZD,circInOut:Kte,circOut:ax,backIn:lx,backInOut:Yte,backOut:JD,anticipate:Qte},DC=n=>{if(Array.isArray(n)){i2(n.length===4);const[e,t,r,i]=n;return jD(e,t,r,i)}else if(typeof n=="string")return $te[n];return n},ene=n=>Array.isArray(n)&&typeof n[0]!="number";function tne(n,e){return n.map(()=>e||ox).splice(0,n.length-1)}function l4({keyframes:n,ease:e=ox,times:t,duration:r=300}){n=[...n];const i=ene(e)?e.map(DC):DC(e),s={done:!1,value:n[0]},o=Zte(t&&t.length===n.length?t:jte(n),r);function a(){return VD(o,n,{ease:Array.isArray(i)?i:tne(n,i)})}let l=a();return{next:u=>(s.value=l(u),s.done=u>=r,s),flipTarget:()=>{n.reverse(),l=a()}}}const G5=.001,nne=.01,kC=10,rne=.05,ine=1;function sne({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Lte(n<=kC*1e3);let o=1-e;o=Pd(rne,ine,o),n=Pd(nne,kC,n/1e3),o<1?(i=u=>{const c=u*o,f=c*n,h=c-t,m=u4(u,o),g=Math.exp(-f);return G5-h/m*g},s=u=>{const f=u*o*n,h=f*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,g=Math.exp(-f),v=u4(Math.pow(u,2),o);return(-i(u)+G5>0?-1:1)*((h-m)*g)/v}):(i=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-G5+c*f},s=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const a=5/n,l=ane(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const one=12;function ane(n,e,t){let r=t;for(let i=1;i<one;i++)r=r-n(r)/e(r);return r}function u4(n,e){return n*Math.sqrt(1-e*e)}const lne=["duration","bounce"],une=["stiffness","damping","mass"];function LC(n,e){return e.some(t=>n[t]!==void 0)}function cne(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!LC(n,une)&&LC(n,lne)){const t=sne(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const dne=5;function qD({keyframes:n,restDelta:e,restSpeed:t,...r}){let i=n[0],s=n[n.length-1];const o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:h}=cne(r);let m=fne,g=c?-(c/1e3):0;const v=l/(2*Math.sqrt(a*u));function y(){const x=s-i,_=Math.sqrt(a/u)/1e3,b=Math.abs(x)<5;if(t||(t=b?.01:2),e||(e=b?.005:.5),v<1){const S=u4(_,v);m=R=>{const T=Math.exp(-v*_*R);return s-T*((g+v*_*x)/S*Math.sin(S*R)+x*Math.cos(S*R))}}else if(v===1)m=S=>s-Math.exp(-_*S)*(x+(g+_*x)*S);else{const S=_*Math.sqrt(v*v-1);m=R=>{const T=Math.exp(-v*_*R),B=Math.min(S*R,300);return s-T*((g+v*_*x)*Math.sinh(B)+S*x*Math.cosh(B))/S}}}return y(),{next:x=>{const _=m(x);if(h)o.done=x>=f;else{let b=g;if(x!==0)if(v<1){const T=Math.max(0,x-dne);b=$7(_-m(T),x-T)}else b=0;const S=Math.abs(b)<=t,R=Math.abs(s-_)<=e;o.done=S&&R}return o.value=o.done?s:_,o},flipTarget:()=>{g=-g,[i,s]=[s,i],y()}}}qD.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const fne=n=>0;function hne({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const u=o+l,c=s===void 0?u:s(u);return c!==u&&(l=c-o),{next:f=>{const h=-l*Math.exp(-f/r);return a.done=!(h>i||h<-i),a.value=a.done?c:c+h,a},flipTarget:()=>{}}}const pne={decay:hne,keyframes:l4,tween:l4,spring:qD};function XD(n,e,t=0){return n-e-t}function mne(n,e=0,t=0,r=!0){return r?XD(e+-n,e,t):e-(n-e)+t}function gne(n,e,t,r){return r?n>=e+t:n<=-t}const yne=n=>{const e=({delta:t})=>n(t);return{start:()=>Jr.update(e,!0),stop:()=>tl.update(e)}};function s2({duration:n,driver:e=yne,elapsed:t=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:c,onRepeat:f,onUpdate:h,type:m="keyframes",...g}){const v=t;let y,x=0,_=n,b=!1,S=!0,R;const T=pne[o.length>2?"keyframes":m]||l4,B=o[0],C=o[o.length-1];let P={done:!1,value:B};const{needsInterpolation:I}=T;I&&I(B,C)&&(R=VD([0,100],[B,C],{clamp:!1}),o=[0,100]);const k=T({...g,duration:n,keyframes:o});function U(){x++,i==="reverse"?(S=x%2===0,t=mne(t,_,s,S)):(t=XD(t,_,s),i==="mirror"&&k.flipTarget()),b=!1,f&&f()}function q(){y&&y.stop(),c&&c()}function W(ee){S||(ee=-ee),t+=ee,b||(P=k.next(Math.max(0,t)),R&&(P.value=R(P.value)),b=S?P.done:t<=0),h&&h(P.value),b&&(x===0&&(_=_!==void 0?_:t),x<r?gne(t,_,s,S)&&U():q())}function $(){l&&l(),y=e(W),y.start()}return a&&$(),{stop:()=>{u&&u(),y&&y.stop()},set currentTime(ee){t=v,W(ee)},sample:ee=>{t=v;const ce=n&&typeof n=="number"?Math.max(n*.5,50):50;let N=0;for(W(0);N<=ee;){const H=ee-N;W(Math.min(H,ce)),N+=ce}return P}}}function vne(n){return!n||Array.isArray(n)||typeof n=="string"&&KD[n]}const hh=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,KD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function xne(n){if(n)return Array.isArray(n)?hh(n):KD[n]}function wne(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:r,duration:i,easing:xne(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const OC={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},z5={},YD={};for(const n in OC)YD[n]=()=>(z5[n]===void 0&&(z5[n]=OC[n]()),z5[n]);function bne(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const _ne=new Set(["opacity","clipPath","filter","transform"]),E3=10;function Ane(n,e,{onUpdate:t,onComplete:r,...i}){if(!(YD.waapi()&&_ne.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:u}=i;if(i.type==="spring"||!vne(i.ease)){if(i.repeat===1/0)return;const f=s2({...i,elapsed:0});let h={done:!1,value:o[0]};const m=[];let g=0;for(;!h.done&&g<2e4;)h=f.sample(g),m.push(h.value),g+=E3;o=m,a=g-E3,u="linear"}const c=wne(n.owner.current,e,o,{...i,delay:-l,duration:a,ease:u});return c.onfinish=()=>{n.set(bne(o,i)),Jr.update(()=>c.cancel()),r&&r()},{get currentTime(){return c.currentTime||0},set currentTime(f){c.currentTime=f},stop:()=>{const{currentTime:f}=c;if(f){const h=s2({...i,autoplay:!1});n.setWithVelocity(h.sample(f-E3).value,h.sample(f).value,E3)}Jr.update(()=>c.cancel())}}}function QD(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(tl.read(r),n(s-e))};return Jr.read(r,!0),()=>tl.read(r)}function Sne({keyframes:n,elapsed:e,onUpdate:t,onComplete:r}){const i=()=>{t&&t(n[n.length-1]),r&&r()};return e?{stop:QD(i,-e)}:i()}function Cne({keyframes:n,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:f,onComplete:h,onStop:m}){const g=n[0];let v;function y(S){return t!==void 0&&S<t||r!==void 0&&S>r}function x(S){return t===void 0?r:r===void 0||Math.abs(t-S)<Math.abs(r-S)?t:r}function _(S){v&&v.stop(),v=s2({keyframes:[0,1],velocity:0,...S,driver:c,onUpdate:R=>{f&&f(R),S.onUpdate&&S.onUpdate(R)},onComplete:h,onStop:m})}function b(S){_({type:"spring",stiffness:o,damping:a,restDelta:l,...S})}if(y(g))b({velocity:e,keyframes:[g,x(g)]});else{let S=i*e+g;typeof u<"u"&&(S=u(S));const R=x(S),T=R===t?-1:1;let B,C;const P=I=>{B=C,C=I,e=$7(I-B,Go.delta),(T===1&&I>R||T===-1&&I<R)&&b({keyframes:[I,R],velocity:e})};_({type:"decay",keyframes:[g,0],velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:y(S)?P:void 0})}return{stop:()=>v&&v.stop()}}const Tne={type:"spring",stiffness:500,damping:25,restSpeed:10},Mne=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Ene={type:"keyframes",duration:.8},Pne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ine=(n,{keyframes:e})=>e.length>2?Ene:Gu.has(n)?n.startsWith("scale")?Mne(e[1]):Tne:Pne,c4=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&nl.test(e)&&!e.startsWith("url("));function Rne({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function FC(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function NC(n){return typeof n=="number"?0:nx("",n)}function $D(n,e){return n[e]||n.default||n}function Bne(n,e,t,r){const i=c4(e,t);let s=r.from!==void 0?r.from:n.get();return s==="none"&&i&&typeof t=="string"?s=nx(e,t):FC(s)&&typeof t=="string"?s=NC(t):!Array.isArray(t)&&FC(t)&&typeof s=="string"&&(t=NC(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const ux=(n,e,t,r={})=>i=>{const s=$D(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-lg(o);const l=Bne(e,n,t,s),u=l[0],c=l[l.length-1],f=c4(n,u),h=c4(n,c);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!f||!h||Ote.current||s.type===!1)return Sne(m);if(s.type==="inertia")return Cne(m);if(Rne(s)||(m={...m,...Ine(n,m)}),m.duration&&(m.duration=lg(m.duration)),m.repeatDelay&&(m.repeatDelay=lg(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=Ane(e,n,m);if(g)return g}return s2(m)};function Dne(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>d4(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=d4(n,e,t);else{const i=typeof e=="function"?T1(n,e,t.custom):e;r=ek(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function d4(n,e,t={}){const r=T1(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>ek(n,r,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return kne(n,e,u+l,c,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(t.delay)])}function ek(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const u=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const h=n.getValue(f),m=a[f];if(!h||m===void 0||c&&One(c,f))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!h.hasAnimated){const y=n.getProps()[kte];y&&(g.elapsed=window.HandoffAppearAnimations(y,f,h,Jr))}let v=h.start(ux(f,h,m,n.shouldReduceMotion&&Gu.has(f)?{type:!1}:g));r2(l)&&(l.add(f),v=v.then(()=>l.remove(f))),u.push(v)}return Promise.all(u).then(()=>{o&&Pte(n,o)})}function kne(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(n.variantChildren).sort(Lne).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(d4(u,e,{...s,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Lne(n,e){return n.sortNodePosition(e)}function One({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const Fne=[...G7].reverse(),Nne=G7.length;function Une(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Dne(n,t,r)))}function Gne(n){let e=Une(n);const t=Hne();let r=!0;const i=(l,u)=>{const c=T1(n,u);if(c){const{transition:f,transitionEnd:h,...m}=c;l={...l,...m,...h}}return l};function s(l){e=l(n)}function o(l,u){const c=n.getProps(),f=n.getVariantContext(!0)||{},h=[],m=new Set;let g={},v=1/0;for(let x=0;x<Nne;x++){const _=Fne[x],b=t[_],S=c[_]!==void 0?c[_]:f[_],R=mp(S),T=_===u?b.isActive:null;T===!1&&(v=x);let B=S===f[_]&&S!==c[_]&&R;if(B&&r&&n.manuallyAnimateOnMount&&(B=!1),b.protectedKeys={...g},!b.isActive&&T===null||!S&&!b.prevProp||b1(S)||typeof S=="boolean")continue;const C=zne(b.prevProp,S);let P=C||_===u&&b.isActive&&!B&&R||x>v&&R;const I=Array.isArray(S)?S:[S];let k=I.reduce(i,{});T===!1&&(k={});const{prevResolvedValues:U={}}=b,q={...U,...k},W=$=>{P=!0,m.delete($),b.needsAnimating[$]=!0};for(const $ in q){const ee=k[$],ce=U[$];g.hasOwnProperty($)||(ee!==ce?t2(ee)&&t2(ce)?!ED(ee,ce)||C?W($):b.protectedKeys[$]=!0:ee!==void 0?W($):m.add($):ee!==void 0&&m.has($)?W($):b.protectedKeys[$]=!0)}b.prevProp=S,b.prevResolvedValues=k,b.isActive&&(g={...g,...k}),r&&n.blockInitialAnimation&&(P=!1),P&&!B&&h.push(...I.map($=>({animation:$,options:{type:_,...l}})))}if(m.size){const x={};m.forEach(_=>{const b=n.getBaseTarget(_);b!==void 0&&(x[_]=b)}),h.push({animation:x})}let y=!!h.length;return r&&c.initial===!1&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,u,c){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),t[l].isActive=u;const h=o(c,l);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function zne(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ED(e,n):!1}function Ol(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hne(){return{animate:Ol(!0),whileInView:Ol(),whileHover:Ol(),whileTap:Ol(),whileDrag:Ol(),whileFocus:Ol(),exit:Ol()}}class Vne extends pl{constructor(e){super(e),e.animationState||(e.animationState=Gne(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),b1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Wne=0;class jne extends pl{constructor(){super(...arguments),this.id=Wne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Zne={animation:{Feature:Vne},exit:{Feature:jne}},UC=(n,e)=>Math.abs(n-e);function Jne(n,e){const t=UC(n.x,e.x),r=UC(n.y,e.y);return Math.sqrt(t**2+r**2)}class tk{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=V5(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=Jne(u.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:h}=u,{timestamp:m}=Go;this.history.push({...h,timestamp:m});const{onStart:g,onMove:v}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=H5(c,this.transformPagePoint),Jr.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:h}=this.handlers,m=V5(u.type==="pointercancel"?this.lastMoveEventInfo:H5(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),h&&h(u,m)},!AD(e))return;this.handlers=t,this.transformPagePoint=r;const i=S1(e),s=H5(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Go;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,V5(s,this.history)),this.removeListeners=ja(Uo(window,"pointermove",this.handlePointerMove),Uo(window,"pointerup",this.handlePointerUp),Uo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tl.update(this.updatePoint)}}function H5(n,e){return e?{point:e(n.point)}:n}function GC(n,e){return{x:n.x-e.x,y:n.y-e.y}}function V5({point:n},e){return{point:n,delta:GC(n,nk(e)),offset:GC(n,qne(e)),velocity:Xne(e,.1)}}function qne(n){return n[0]}function nk(n){return n[n.length-1]}function Xne(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=nk(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>lg(e)));)t--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mi(n){return n.max-n.min}function f4(n,e=0,t=.01){return Math.abs(n-e)<=t}function zC(n,e,t,r=.5){n.origin=r,n.originPoint=An(e.min,e.max,n.origin),n.scale=Mi(t)/Mi(e),(f4(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=An(t.min,t.max,n.origin)-n.originPoint,(f4(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Bh(n,e,t,r){zC(n.x,e.x,t.x,r?r.originX:void 0),zC(n.y,e.y,t.y,r?r.originY:void 0)}function HC(n,e,t){n.min=t.min+e.min,n.max=n.min+Mi(e)}function Kne(n,e,t){HC(n.x,e.x,t.x),HC(n.y,e.y,t.y)}function VC(n,e,t){n.min=e.min-t.min,n.max=n.min+Mi(e)}function Dh(n,e,t){VC(n.x,e.x,t.x),VC(n.y,e.y,t.y)}function Yne(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?An(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?An(t,n,r.max):Math.min(n,t)),n}function WC(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Qne(n,{top:e,left:t,bottom:r,right:i}){return{x:WC(n.x,t,i),y:WC(n.y,e,r)}}function jC(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function $ne(n,e){return{x:jC(n.x,e.x),y:jC(n.y,e.y)}}function ere(n,e){let t=.5;const r=Mi(n),i=Mi(e);return i>r?t=xp(e.min,e.max-r,n.min):r>i&&(t=xp(n.min,n.max-i,e.min)),Pd(0,1,t)}function tre(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const h4=.35;function nre(n=h4){return n===!1?n=0:n===!0&&(n=h4),{x:ZC(n,"left","right"),y:ZC(n,"top","bottom")}}function ZC(n,e,t){return{min:JC(n,e),max:JC(n,t)}}function JC(n,e){return typeof n=="number"?n:n[e]||0}const qC=()=>({translate:0,scale:1,origin:0,originPoint:0}),kh=()=>({x:qC(),y:qC()}),XC=()=>({min:0,max:0}),Gn=()=>({x:XC(),y:XC()});function Ws(n){return[n("x"),n("y")]}function rk({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function rre({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function ire(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function W5(n){return n===void 0||n===1}function p4({scale:n,scaleX:e,scaleY:t}){return!W5(n)||!W5(e)||!W5(t)}function jl(n){return p4(n)||ik(n)||n.z||n.rotate||n.rotateX||n.rotateY}function ik(n){return KC(n.x)||KC(n.y)}function KC(n){return n&&n!=="0%"}function o2(n,e,t){const r=n-t,i=e*r;return t+i}function YC(n,e,t,r,i){return i!==void 0&&(n=o2(n,i,r)),o2(n,t,r)+e}function m4(n,e=0,t=1,r,i){n.min=YC(n.min,e,t,r,i),n.max=YC(n.max,e,t,r,i)}function sk(n,{x:e,y:t}){m4(n.x,e.translate,e.scale,e.originPoint),m4(n.y,t.translate,t.scale,t.originPoint)}function sre(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sk(n,o)),r&&jl(s.latestValues)&&Xc(n,s.latestValues))}e.x=QC(e.x),e.y=QC(e.y)}function QC(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Sa(n,e){n.min=n.min+e,n.max=n.max+e}function $C(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=An(n.min,n.max,s);m4(n,e[t],e[r],o,e.scale)}const ore=["x","scaleX","originX"],are=["y","scaleY","originY"];function Xc(n,e){$C(n.x,e,ore),$C(n.y,e,are)}function ok(n,e){return rk(ire(n.getBoundingClientRect(),e))}function lre(n,e,t){const r=ok(n,t),{scroll:i}=e;return i&&(Sa(r.x,i.offset.x),Sa(r.y,i.offset.y)),r}const ure=new WeakMap;class cre{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(S1(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:f,onDragStart:h}=this.getProps();if(c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CD(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ws(g=>{let v=this.getAxisMotionValue(g).get()||0;if(eo.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[g];x&&(v=Mi(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),h&&h(l,u);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:f,onDirectionLock:h,onDrag:m}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(f&&this.currentDirection===null){this.currentDirection=dre(g),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new tk(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!P3(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Yne(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Jc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Qne(r.layoutBox,e):this.constraints=!1,this.elastic=nre(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ws(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=tre(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lre(r,i.root,this.visualElement.getTransformPagePoint());let o=$ne(i.layout.layoutBox,s);if(t){const a=t(rre(o));this.hasMutatedConstraints=!!a,a&&(o=rk(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ws(c=>{if(!P3(c,t,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(ux(e,r,0,t))}stopAnimation(){Ws(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ws(t=>{const{drag:r}=this.getProps();if(!P3(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-An(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Jc(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ws(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=ere({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ws(o=>{if(!P3(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(An(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;ure.set(this.visualElement,this);const e=this.visualElement.current,t=Uo(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Jc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=ko(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ws(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=h4,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function P3(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function dre(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class fre extends pl{constructor(e){super(e),this.removeGroupControls=ts,this.removeListeners=ts,this.controls=new cre(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ts}unmount(){this.removeGroupControls(),this.removeListeners()}}class hre extends pl{constructor(){super(...arguments),this.removePointerDownListener=ts}onPointerDown(e){this.session=new tk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:r,onEnd:(s,o)=>{delete this.session,i&&i(s,o)}}}mount(){this.removePointerDownListener=Uo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pre(){const n=Q.useContext(U7);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=Q.useId();return Q.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function eT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(bt.test(n))n=parseFloat(n);else return n;const t=eT(n,e.target.x),r=eT(n,e.target.y);return`${t}% ${r}%`}},ak=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mre(n){const e=ak.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function g4(n,e,t=1){const[r,i]=mre(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():t4(i)?g4(i,e,t+1):i}function gre(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!t4(s))return;const o=g4(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!t4(s))continue;const o=g4(s,r);o&&(e[i]=o,t&&t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const tT="_$css",yre={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),s=[];i&&(n=n.replace(ak,m=>(s.push(m),tT)));const o=nl.parse(n);if(o.length>5)return r;const a=nl.createTransformer(n),l=typeof o[0]!="number"?1:0,u=t.x.scale*e.x,c=t.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const f=An(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=f),typeof o[3+l]=="number"&&(o[3+l]/=f);let h=a(o);if(i){let m=0;h=h.replace(tT,()=>{const g=s[m];return m++,g})}return h}};class vre extends kr.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;xee(xre),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Jr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lk(n){const[e,t]=pre(),r=Q.useContext(uD);return kr.createElement(vre,{...n,layoutGroup:r,switchLayoutGroup:Q.useContext(cD),isPresent:e,safeToRemove:t})}const xre={borderRadius:{...Zf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zf,borderTopRightRadius:Zf,borderBottomLeftRadius:Zf,borderBottomRightRadius:Zf,boxShadow:yre};function wre(n,e,t={}){const r=fi(n)?n:Id(n);return r.start(ux("",r,e,t)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const uk=["TopLeft","TopRight","BottomLeft","BottomRight"],bre=uk.length,nT=n=>typeof n=="string"?parseFloat(n):n,rT=n=>typeof n=="number"||bt.test(n);function _re(n,e,t,r,i,s){i?(n.opacity=An(0,t.opacity!==void 0?t.opacity:1,Are(r)),n.opacityExit=An(e.opacity!==void 0?e.opacity:1,0,Sre(r))):s&&(n.opacity=An(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<bre;o++){const a=`border${uk[o]}Radius`;let l=iT(e,a),u=iT(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||rT(l)===rT(u)?(n[a]=Math.max(An(nT(l),nT(u),r),0),(eo.test(u)||eo.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=An(e.rotate||0,t.rotate||0,r))}function iT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Are=ck(0,.5,ax),Sre=ck(.5,.95,ts);function ck(n,e,t){return r=>r<n?0:r>e?1:t(xp(n,e,r))}function sT(n,e){n.min=e.min,n.max=e.max}function Wi(n,e){sT(n.x,e.x),sT(n.y,e.y)}function oT(n,e,t,r,i){return n-=e,n=o2(n,1/t,r),i!==void 0&&(n=o2(n,1/i,r)),n}function Cre(n,e=0,t=1,r=.5,i,s=n,o=n){if(eo.test(e)&&(e=parseFloat(e),e=An(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=An(s.min,s.max,r);n===s&&(a-=e),n.min=oT(n.min,e,t,a,i),n.max=oT(n.max,e,t,a,i)}function aT(n,e,[t,r,i],s,o){Cre(n,e[t],e[r],e[i],e.scale,s,o)}const Tre=["x","scaleX","originX"],Mre=["y","scaleY","originY"];function lT(n,e,t,r){aT(n.x,e,Tre,t?t.x:void 0,r?r.x:void 0),aT(n.y,e,Mre,t?t.y:void 0,r?r.y:void 0)}function uT(n){return n.translate===0&&n.scale===1}function dk(n){return uT(n.x)&&uT(n.y)}function y4(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function cT(n){return Mi(n.x)/Mi(n.y)}class Ere{constructor(){this.members=[]}add(e){K7(this.members,e),e.scheduleRender()}remove(e){if(Y7(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dT(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:c}=t;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Pre=(n,e)=>n.depth-e.depth;class Ire{constructor(){this.children=[],this.isDirty=!1}add(e){K7(this.children,e),this.isDirty=!0}remove(e){Y7(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pre),this.isDirty=!1,this.children.forEach(e)}}function Rre(n){window.MotionDebug&&window.MotionDebug.record(n)}const fT=["","X","Y","Z"],hT=1e3;let Bre=0;const Zl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=Bre++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Zl.totalNodes=Zl.resolvedTargetDeltas=Zl.recalculatedProjection=0,this.nodes.forEach(Lre),this.nodes.forEach(Ure),this.nodes.forEach(Gre),this.nodes.forEach(Ore),Rre(Zl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ire)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Q7),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),n){let f;const h=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=QD(h,250),Ph.hasAnimatedSinceResize&&(Ph.hasAnimatedSinceResize=!1,this.nodes.forEach(mT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||jre,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),_=!this.targetLayout||!y4(this.targetLayout,g)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...$D(v,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!h&&this.animationProgress===0&&mT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pT);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Zre),this.potentialNodes.clear()),this.nodes.forEach(Nre),this.nodes.forEach(Dre),this.nodes.forEach(kre),this.clearAllSnapshots(),O5.update(),O5.preRender(),O5.render())}clearAllSnapshots(){this.nodes.forEach(Fre),this.sharedNodes.forEach(Hre)}scheduleUpdateProjection(){Jr.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!dk(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||jl(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Jre(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Gn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Sa(a.x,l.offset.x),Sa(a.y,l.offset.y)),a}removeElementScroll(o){const a=Gn();Wi(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Wi(a,o);const{scroll:h}=this.root;h&&(Sa(a.x,-h.offset.x),Sa(a.y,-h.offset.y))}Sa(a.x,c.offset.x),Sa(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Gn();Wi(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Xc(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),jl(c.latestValues)&&Xc(l,c.latestValues)}return jl(this.latestValues)&&Xc(l,this.latestValues),l}removeTransform(o){const a=Gn();Wi(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jl(u.latestValues))continue;p4(u.latestValues)&&u.updateSnapshot();const c=Gn(),f=u.measurePageBox();Wi(c,f),lT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return jl(this.latestValues)&&lT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((!!this.resumingFrom||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout?(this.relativeParent=h,this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),Dh(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gn(),this.targetWithTransforms=Gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?Kne(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wi(this.target,this.layout.layoutBox),sk(this.target,this.targetDelta)):Wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target?(this.relativeParent=h,this.relativeTarget=Gn(),this.relativeTargetOrigin=Gn(),Dh(this.relativeTargetOrigin,this.target,h.target),Wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||p4(this.parent.latestValues)||ik(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Wi(this.layoutCorrected,this.layout.layoutBox),sre(this.layoutCorrected,this.treeScale,this.path,l);const{target:h}=a;if(!h)return;this.projectionDelta||(this.projectionDelta=kh(),this.projectionDeltaWithTransform=kh());const m=this.treeScale.x,g=this.treeScale.y,v=this.projectionTransform;Bh(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=dT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),Zl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=kh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Gn(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=m!==g,y=this.getStack(),x=!y||y.members.length<=1,_=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Wre));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const R=S/1e3;gT(f.x,o.x,R),gT(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vre(this.relativeTarget,this.relativeTargetOrigin,h,R),b&&y4(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Gn()),Wi(b,this.relativeTarget)),v&&(this.animationValues=c,_re(c,u,this.latestValues,R,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jr.update(()=>{Ph.hasAnimatedSinceResize=!0,this.currentAnimation=wre(0,hT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&hk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Gn();const f=Mi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Mi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Wi(a,l),Xc(a,c),Bh(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ere),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<fT.length;c++){const f="rotate"+fT[c];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ag(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ag(o.pointerEvents)||""),this.hasProjected&&!jl(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=dT(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in $g){if(h[v]===void 0)continue;const{correct:y,applyTo:x}=$g[v],_=u.transform==="none"?h[v]:y(h[v],f);if(x){const b=x.length;for(let S=0;S<b;S++)u[x[S]]=_}else u[v]=_}return this.options.layoutId&&(u.pointerEvents=f===this?ag(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(pT),this.root.sharedNodes.clear()}}}function Dre(n){n.updateLayout()}function kre(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Ws(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Mi(h);h.min=r[f].min,h.max=h.min+m}):hk(s,t.layoutBox,r)&&Ws(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],m=Mi(r[f]);h.max=h.min+m});const a=kh();Bh(a,r,t.layoutBox);const l=kh();o?Bh(l,n.applyTransform(i,!0),t.measuredBox):Bh(l,r,t.layoutBox);const u=!dk(a);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Gn();Dh(g,t.layoutBox,h.layoutBox);const v=Gn();Dh(v,r,m.layoutBox),y4(g,v)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Lre(n){Zl.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Ore(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Fre(n){n.clearSnapshot()}function pT(n){n.clearMeasurements()}function Nre(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function mT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function Ure(n){n.resolveTargetDelta()}function Gre(n){n.calcProjection()}function zre(n){n.resetRotation()}function Hre(n){n.removeLeadSnapshot()}function gT(n,e,t){n.translate=An(e.translate,0,t),n.scale=An(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function yT(n,e,t,r){n.min=An(e.min,t.min,r),n.max=An(e.max,t.max,r)}function Vre(n,e,t,r){yT(n.x,e.x,t.x,r),yT(n.y,e.y,t.y,r)}function Wre(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const jre={duration:.45,ease:[.4,0,.1,1]};function Zre(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(n.path[s].instance){t=n.path[s];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function vT(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function Jre(n){vT(n.x),vT(n.y)}function hk(n,e,t){return n==="position"||n==="preserve-aspect"&&!f4(cT(e),cT(t),.2)}const qre=fk({attachResizeListener:(n,e)=>ko(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),j5={current:void 0},pk=fk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!j5.current){const n=new qre(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),j5.current=n}return j5.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Xre={pan:{Feature:hre},drag:{Feature:fre,ProjectionNode:pk,MeasureLayout:lk}},Kre=new Set(["width","height","top","left","right","bottom","x","y"]),mk=n=>Kre.has(n),Yre=n=>Object.keys(n).some(mk),xT=n=>n===zu||n===bt,wT=(n,e)=>parseFloat(n.split(", ")[e]),bT=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return wT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?wT(s[1],n):0}},Qre=new Set(["x","y","z"]),$re=A1.filter(n=>!Qre.has(n));function eie(n){const e=[];return $re.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const _T={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:bT(4,13),y:bT(5,14)},tie=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=_T[u](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),n[u]=_T[u](l,s)}),n},nie=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(mk);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let c=t[l],f=jf(c);const h=e[l];let m;if(t2(h)){const g=h.length,v=h[0]===null?1:0;c=h[v],f=jf(c);for(let y=v;y<g;y++)m?i2(jf(h[y])===m):m=jf(h[y])}else m=jf(h);if(f!==m)if(xT(f)&&xT(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&m===bt&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(c===0||h===0)?c===0?u.set(m.transform(c)):e[l]=f.transform(h):(o||(s=eie(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=tie(e,n,a);return s.length&&s.forEach(([c,f])=>{n.getValue(c).set(f)}),n.render(),w1&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function rie(n,e,t,r){return Yre(e)?nie(n,e,t,r):{target:e,transitionEnd:r}}const iie=(n,e,t,r)=>{const i=gre(n,e,r);return e=i.target,r=i.transitionEnd,rie(n,e,t,r)},v4={current:null},gk={current:!1};function sie(){if(gk.current=!0,!!w1)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>v4.current=n.matches;n.addListener(e),e()}else v4.current=!1}function oie(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(fi(s))n.addValue(i,s),r2(r)&&r.add(i);else if(fi(o))n.addValue(i,Id(s,{owner:n})),r2(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Id(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const yk=Object.keys(gp),aie=yk.length,AT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lie=z7.length;class uie{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Jr.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=_1(t),this.isVariantNode=aD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{});for(const f in c){const h=c[f];a[f]!==void 0&&fi(h)&&(h.set(a[f],!1),r2(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),gk.current||sie(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tl.update(this.notifyUpdate),tl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Gu.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Jr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s,o){let a,l;for(let u=0;u<aie;u++){const c=yk[u],{isEnabled:f,Feature:h,ProjectionNode:m,MeasureLayout:g}=gp[c];m&&(a=m),f(t)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),g&&(l=g))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:f,dragConstraints:h,layoutScroll:m,layoutRoot:g}=t;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!f||h&&Jc(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<AT.length;r++){const i=AT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=oie(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<lie;r++){const i=z7[r],s=this.props[i];(mp(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Id(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=X7(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!fi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Q7),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class vk extends uie{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Bte(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Ite(this,r,o);const a=iie(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function cie(n){return window.getComputedStyle(n)}class die extends vk{readValueFromInstance(e,t){if(Gu.has(t)){const r=tx(t);return r&&r.default||0}else{const r=cie(e),i=(hD(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ok(e,t)}build(e,t,r,i){V7(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return q7(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){vD(e,t,r,i)}}class fie extends vk{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gu.has(t)){const r=tx(t);return r&&r.default||0}return t=xD.has(t)?t:J7(t),e.getAttribute(t)}measureInstanceViewportBox(){return Gn()}scrapeMotionValuesFromProps(e,t){return bD(e,t)}build(e,t,r,i){j7(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){wD(e,t,r,i)}mount(e){this.isSVGTag=Z7(e.tagName),super.mount(e)}}const hie=(n,e)=>H7(n)?new fie(e,{enableHardwareAcceleration:!1}):new die(e,{enableHardwareAcceleration:!0}),pie={layout:{ProjectionNode:pk,MeasureLayout:lk}},mie={...Zne,...ite,...Xre,...pie},qr=yee((n,e)=>jee(n,e,mie,hie)),lr={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},gie=()=>nt("section",{className:"relative w-full h-screen mx-auto",children:[nt("div",{className:`absolute inset-0 top-[120px] max-w-7xl mx-auto ${lr.paddingX} flex flex-row items-start gap-5`,children:[nt("div",{className:"flex flex-col justify-center items-center mt-5",children:[me("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),me("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),nt("div",{children:[nt("h1",{className:`${lr.heroHeadText} text-white`,children:["Hi, I'm ",me("span",{className:"text-[#915EFF]",children:"Muhammad"})]}),nt("p",{className:`${lr.heroSubText} mt-2 text-white-100`,children:["Lorem, ipsum dolor sit amet consectetur ",me("br",{className:"sm:block hidden"}),"adipisicing elit. Qui, facilis!"]})]})]}),me(K$,{}),me("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:me("a",{href:"#about",children:me("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:me(qr.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),yie="/assets/backend-cba85aea.png",vie="/assets/creator-9359a6ba.png",xie="/assets/mobile-3e7128c2.png",wie="/assets/web-e53e8bec.png",bie="/assets/github-ee2344e6.png",_ie="/assets/menu-8bc4ab63.svg",Aie="/assets/close-bd9e206a.svg",Sie="/assets/css-8f30e4d3.png",Cie="/assets/docker-602a695a.png",Tie="/assets/figma-89339807.png",Mie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB1FBMVEUAAAD3Uh7zUB3zUB70UR30UB71UB70UB7/Xx/zUR3zUR71Th3zUR7zUB32VSLzUB7zUB30UR7zUR33Tx/0UB7zUB70UB70UR7zUh/zUR3zUR3zUB31UB70UB70UR70Tx7zUB7zUR3zUB3zUB70UB30UB3zUB30UB30UR70UR70UR7/AAD/fwD1ThvzUB7zUB30Tx3/TBn0UR70UR30UB31VRzzUB70Uh70UR7zUB3zUR7/VQDzUR3zUR7wSx70UB7yUR7yTx3yUB/zUR3zTSH1URzzUB3zUR70UR71UR/1UB30UB31UB3zUB30UB71Tx3yVRjwTRz0URzzUB3/VSrrTif0Uh/0UB32TxrsSCT2UB/zUR3zUB7zTx7zUB7zUB3zUh/zUR7zTx/0UB3yUh70UR30UR70UB3xTx70UR3zUB7zUBz1UR/0UB30UR70UB7yTh7zUB31UBz1Ux30UR70UR30Tx/0UR70USDzUxv0UR7yUh/xTiDxUBrzUR7xUhvzUB72UiD3TR7/PwDzUB3zUR3zUR30UB3/RRf0UR70UR3zUR7yUhzwVRz0UR70UR3zUR3zUR7wUB3zUB30VR/yTBn0UB3pVRXyTx7xUBr0UR7////mY6gFAAAAmnRSTlMAInK41vMzuwic/hrIzh7d4cDfIH+IdXRzcXBvZmVkY/2A5reUkbXp0pAyAQI3hedgCnfvXxvKXalW+wO2VRHaVD1S+Bc1+rDbUWiST/lMTRUkSPcGDUpGHQ45RfZDsYtB9UB7O/EZpTry/Fk4eO7BKqI2NKrVMOwvLusoJyblJeQfIQTN3orXC0uTQj4S3LzPoCPgGBTEDFMTww/LsAAAAAFiS0dEm+/YV4QAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAwQKADldxWHDAAAGjElEQVR42u3d6X8TRRgH8E3SJM0WCjZGUUQDPRAK1IoitEULWK1HRVAExLOKWq33bb2wFvCoFmpFn7/WF1WbNruTOZ7JzDP7/F7xgkzn+3kmye7sk90o4nA4HA6Hw+FwOBwOh8PhcDgcDocTVHL5Qkex2FHI5zLBLZXh/5RLwXM7KzE0JK50hu3t2gQbsrk7ZG/3FmjK1ly2vCGLk73hitO8oYrTvWGKRd4QxWJveOJW3tDErb1hiWW8IYnlvOGIZb2hiOW9YYhVvCGI1bz0xape6mJ1L3HxTaCRnmq2Kky7xixmMYtZTCE317IlvgUgU+JbATIl3rY63cyI8/9NNyPi29ammwnx7Y3TzYB4+/rpBi++I4ZMiXfETdMNWnxnnDDdgMV31ROnG6x4R5wy3Z2N/6vaAwC7evtqtf6B3aR3fVLq2yy+e8/ewdV/7tt/YIis+J66YLq11JcN33uQ5qq+ry6cbro4uv8QRfED9RbT3Zn+2uHD9Fb1kZGW0xXUeHSMWo2PjkhMVyB+8CFa4vERqekKxMdIfR8fGZGc7vH0MXoJfTuNy3pPPJw+yASdI5Djj8jO9VHRMJNUjjIfk/bC46JxniBylPnklPwZwH7RQE/RuJp6UsELT4tGOkXi+vHpZ1TO8Z4VDXWGwtnicyeUTmqHRWONEugROKtUX4BzosHO+78joOqF50Wj5bzvA7nwguo+TV748ed758uLyl54STTey573+rzyqvpO3JTg0HJwErwWT2t4AV4TfMH53c/1elFnfnDxjdQR/d69PabnBXgzfcxqj781fmsGdLM9IlhjAy+8/Q69Gs9eBIPE7w4SE+99D8zy/gekVvXEQTDN1Icf0anxx+ZeAIC1AT/5tOqz+LPPARm8cUX6taqxvOvAHou/wPKuB3sr/vIrsAP2VDw3BLbAXooxvU1gD8Vf7wKbYO/EuN4EsGfib74F22CvxN8hexPBHonRvcngDUeI7vq5Tn0P7QFvFDvq57rUA+0Ci1Zk2/q5bHhTwcLZtqef64et0E6wcEW2o5+ry0Z9RWDhbOfLkuIuXW/nJmg3WLgiZfu5fhzWBFeg/WBhjacl/0BF84S/7gIsrLFkP1esd/fIMjgBw2nBJqLkXyjreHPgBjw5KJjUguSf0Plu2uYIfFk0qX6Mq+8pKTgCnxRNSrafq6ABvuIILFyNsv1cVzTAM47AZ0STku3nmiEEHsXo55ohtKSvYlS4g9CHFsp7WOdDK+8I/BPGp7TO11LVEbhfNKmfLR54uDq0XIjMj7S0Di2jUuzmWHrC+Fha8+TBzekhQK/x2ZLm6aGTDQAAgF/SJvSr5Q0AB1s8q+dLi8nTWfzN8haP7gUAUzD8Pp94lCX3G0WzbctqjwswHB7W3rU03Yq3UePWYFi6pLkvbX55yYJYAgzF2vnGWVyVvPKAcTkNf1XLgAGGDszu+/fa0qzstSWcli10sRwYAHaP9dVqfWPSVw+xWtSwV7U0WDF4LQDIYktgzCYPXLEdMG4bD6rYChi7UQtTbAOM34qHKLYAttFsiSfGB9tpp0UTo4NtNUxjibHB9n72gCRGBtv8mQfGUWZ9YG28AYRr7nZ/yGMsjq9dbxzv+rXYa6+xeHm6qW9j2Wuv4fv40B/NA6786en7F6HGSzeSBryx5HF9jcRDKTd6ODfktVd/VY+nDXjU3/VsUuMy8mWsdt4EQKvGF9LHO+t1fTVrLOq/0rjLQ7tv5KFe4z0Y/VeO6qsl/ks02rj3XvVVPScabM7v9axV479FY614X1/1Gs+Lhpr3v77KNUbpv3JZX9Uao/RfgevbHiqIUfqv3N/KU35Vo/RfeXB7WmnxsmiUBTJehVVt3n/lyU21ZWss6L8q0Kmviti0/8qfW4hLihdWkl++OEnMKy122H/l6JPLYf+Voxo77L9yJHbYf+Xq+9hd/5W742pX/VdeXYUhtp5tin1+aJoNsd+PxcMX+/7gQ2yx/4+2xBVTeHgpppjG42nxxFQeQIwlpvOIaRwxpYeIY4hpPSbeXEzLay6m5jUV0/OaiSl6TcQ0vfpiqt5QHwyPLabs1RHT9qqLqXtVxfS9auIQvCriMLzy4lC8suJwvHLikLwy4rC8rcWheVuJw/OKxSF6ReIwveniUL1p4nC9yeKQvVHU1XTXuc3dUdDprMSN3LjSGYWeUsMPDculKAvJ5QsdxWJHIZ+LOBwOh8PhcDgcDofD4XA4HA6Hw+EElX8Ax5Dzlr1WtMMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMDRUMTA6MDA6MDIrMDA6MDBIE/HDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTA0VDEwOjAwOjAyKzAwOjAwOU5JfwAAAABJRU5ErkJggg==",Eie="/assets/html-a85ec1a3.png",Pie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACkVBMVEUAAAD/1gAAAAFWSAH2zgDDpACNdgBgUQE/NQEhHAERDgEJCAEBAQEbFwEkHgFmVgGMdQC4mgD1zgD3zwCjiQBRRAEKCAEIBwFHPAGSewDvyQDtxwB4ZQEUEQENCwFvXQHeugD70wCLdQAQDQEGBQGAawD50QDYtQA2LQErJAHMqwC6nACylQCpjgAEAwGagQCxlQCligAODAHFpQAtJgEWEgHhvQCEbwDsxgAMCgGghgB7ZwESDwEYFAGZgAC0lwAvJwGPeADPrgDqxADJqQCTewA+NAFdTgHrxQBrWgELCQH+1QAwKAHBogBYSgEDAwFxXwH0zQD40ACDbgD80wBTRgHLqgDVswDzzAAqIwGHcQD60gC8ngBFOgFBNwHatwBjUwF/awCcgwCrkABGOwG/oACWfgACAgETEAHbuAAoIgEiHQGhhwCiiADGpgAFBAG3mgBURgExKQGnjADowwAHBgFeTwHQrwDSsAC5mwCCbQAuJwGmiwD91ABLPwGqjwBDOAHpxAB0YQHuyAApIgHKqgCFcAC7nQBZSwFhUQFJPQFCNwFOQQGzlgA0LAFyYAFMQAHRrwAaFgGQeQAfGgF+agGojQAyKgHxygCRegBEOQE3LgGvkwAXEwHmwQA9MwE6MQFzYQEsJQHgvABXSQGGcAAVEgFnVgG1mABfUAHTsQBpWAF5ZgE7MgF1YgHUsgAZFQE1LAHAoQA8MgGukgDwyQBsWwFKPgFVRwHyywDOrQBtWwHcuQAdGAE5MAF9aQHEpACehQBPQgG+nwDnwgBlVQGIcgCwlAAmIAEcFwHjvgDkvwB8aAHWtADIqABcTQGfhQBSRQEPDQFoVwFANgHivgAzKwEeGQFqWQEjHQH///9xKO5qAAAAAXRSTlMAQObYZgAAAAFiS0dE2u4DJoIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAwQKAS+wCuXTAAAFo0lEQVR42u3b+VtUVRgHcM9hEYYBwqkBwQUEIVAnhEDQFAQFZRQCUdnUTGEwKEsWEwMXhDS31Iwss02LFnIvK9ttsT3b/5t+SKaZc+5y5unJub5+vz/ec8885/PcuXPnvOfcMWMQBEEQBEEQBEEQBEEQBEEQBEEQBEEUwm7CAAwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwwwwAADDDDAAAMMMMAAAwzw/wXmQkIMzg0NCx8bEWmLstuiYyJib4sbRxrsuP0Op3BufML4RKrgpAkTuVYmTU6mCE6Zksr1kjY1nRw4405ulMwsYuBpqdw4zumkwDNc3CyuuwiBs829nNtnkgFn5HCVxOcSAaffzdWSl08DPIurJoEEuKBQGcxnUwDPUffyewpufnDKXHWvbR6BK1wku4rnl5SOK12wsMzuf7x8EYV7eLHYWjHbPdqWu8TneGQcjedwpvi0Xeo7O64cPVx1bzWNf1o1VULjMr+utcuvf8tXUJk8rBTaour8+1bXc86jGhrJTA+bhLZVYucSF1+9hlABIFtou0/qvfZ+N6USzzqhbSz1qqX4GF5PHdwsPoUdxMFrxMYW4mCHR2hs3UB85eEBsbUtgza4XJo75LS7KYMf1JgGlj1EGJy0UWvmG/Ew3dXDR7Qn+5s6GomCl+rVN6KXddJcH16vW9Lp6t5MEfxomkEZa9UWNzkw6zGs3G19rJcauLfPuFiZuY0YmCVuNanPbs+iBWY7Mk3EVTsdpMCsP8KsCL9rgBSYpe/0mK2ID7opgRl7PNrsIu+uIQVmBXvMLvITDlJgxkr2moj31dICM7b/gLH4IDUwY2FP2o12thSRAzN2aE+8vvhwHT0wY4lHntIVH6UIZizl6SEdcM4zJMGMsWnbtcXHqIIZW/GsFvg5umDGjj8vgz0nCINZ5wuyeAZlMKt+UQK/ZHWw47+AWX6F2L3P6uBSJbDuHruDYveXLQR+pbtfPrhBHPFJjefuqYoFOp+ZK3Z/1TLgxgYnf00+PCyO+HXplDcOcF6vM9utk3auWQXcvItzbs+Wjp8SR/ymeHlndXHO+Vs6nyvexFXWAHeW/zPLsa0UW0ZE8NtCIf76v0iX9uazWvH9gEIrgHtbbN4lIWEJ/7T0XDnidx/0eBceIjU3jyaL3c9YAJx11mdAE8/5XaDzEviCT/PmTT4Nq7Vu44XSUkTQwRff8d8w6Vmc5G0L3S3/VTr07+Wd6r86/K5ctHLEiN0vBRs8U97i7Ywdfo8x5s6YH6nxzlXKaM/3i8W2vTvET/9AbUZ8A8GXdV46srV96NRsGPF2/UhuPOO/9F8zWT6lKdhXOJYHlo+9PT/RKl+VbfGWJtM76jW+IDXBBp+oCAzsszBWqf3duNTwadH09sHPWrVaK4M/Hw4PyNvms2KSn8MDzufBB7sTAhlwuG/XjoC9Q24LVDyu5KkPOOeiX9cvAgU3WaJq2RyvPOAv/XuGFgfmDbFIIf4rl+KAY8Tf2CtfB+K92m+VlYd2u9KAN8qz3m8i1b2FA9ZZW+qIUhnxeK3ZQZuqtyvOSsulA4fNRzxHs+eiMjVv6jlrLYh/O2L2Uvug3sLKd1UK3uLvrbbloXeezWjArcf1u/4wZMZNm1BjwU0tnT/q7lqwhxhuFa39yfBO9vxs8rJW0Mq0p8u7NPdZ7TPdWtbYoXsrX/vF9LWAINalC479KjyUPWd7flPqmjylTP4Hc7X7gsKrPcEtxCcOr13+e9413mX7Y+Rkz/7SQJYpwlr+7Fsy1+bik2x/na88uu6yWj9LrS3diAAMMMAAAwwwwAADDDDAAAMMMMAAA3xrgxEEQRAEQRAEQRAEQRAEQRAEQRAEuWXyNzdzSI4Dd9tRAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTAzLTA0VDEwOjAwOjAyKzAwOjAwSBPxwwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wMy0wNFQxMDowMDowMiswMDowMDlOSX8AAAAASUVORK5CYII=",Iie="/assets/mongodb-54000b2b.png",Rie="/assets/nodejs-e0130c56.png",Bie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC+lBMVEUAAABV1NRSwN1SwN5TwN5SwN5SwN1SwN5SwN1Swd1Vu91Qwt1Swd1Twd1Twd1SwN1Twd5Twd5Swd1SwN5VxuJRwdxSwN1Twd5TwN5Swd4A//9IttpTwt1Twd1Vwt5Swd5Twd1Uwd0/v79Uwd5Swd1SwN5TwN9VwuBSwd1SwN5TwdtTwd1Rv9pSwN5TwN1Twd1Twd5Tw9tVwN1TwN5Twd5Twd1SwN5Vv9ROxNdTwN5SwN1Twt1Rv99Vwtpaw+FTwt5TwN1Twd1TwN1TwN1Twd5Twd5Swd5Twd1Swd1SwN1SwNxTwN1Rw95Swd1Rv9xSwd1Swd5SwN5Twd5VvOJ///9Swd1MzOVSwt9fv99SwN1Vv91RwN5SwN5SwN1TwN1PwdtVxuJSwd5mzMxSwd5TwN9Twd1UwN5Swd5Swd1SwN5SwN5Swd1Sv99Swd5Twd5TwN1Swd5TwtxTwd5Uwt9TwN1SwN5RxdxTwN5VweBVv99Twd5Vw91SwN5Pv99Swd5RweBTwN5Twd1TwN5Twd5SwN1Uwd1Pv99SwN1SwN1Twd1Tv9xZv9hSwd1TwN1Twt1Vv9tTwN5OxOFTwN5Twd1Twd5SwNxVqv9Twd5Swd5SwN5Swd1SwN5SwN1SwN9Swd1Vw9xVwN9VxN5RwN1SwN5cuedTwd9TwN5Swd5SwN1TwN5Swd5Twd5Twd5UwN5Twd5RwN1Twd5TwN1Uv9xbyNpTwN5Tv99Twd5SwN5TwN1Twd1SwN1Swd5Sv91NvN1Twd1Vwd1Sw+FTwN1QwN9TwN1SwN1TwN1Swd5Twd1SwN1SwN5Swd9SwN5Swd1Tv9xSwd1Swd5TwN1Rv95SwN1Sv95Twd1SwN1Rv99TwN1TwN1Rwd1TwN5TwN5Swd1Swd1RweBQvdpSwN5Swd1Vv99SwN5Qu+RSv91SwN1SwN1Twd5Twd5RwN1Swd5Swd5Rwt1Svd5Rwd9SwtxSwd5Swd1Tv95Twd1Swd5TwN1SwN1Twd5Twt1TwN5TwN5Twd7///9l1TinAAAA/HRSTlMABlqkxOHVvJdTDyZssdbu+Nq2ZglC3vu0RwEHXMc/V9dbBGfn+Ukq9Mk67BzM/qJGKy1WjeCbDA2c/XE4FRE3n7diPbLcPt/3mCV6L6ks/HxvpRsCxgpQCNg8TtGgzR0SlQXrMYBV8OTU8aEo232SwkO7WK+jFvIhMOMexSCqMtmJrJbAZBByTb5ZFHnlLiTpGpNrukoDdMt+iH+CQc8zOSdF6gtoh6bthvO1T16MasrdYQ69QISOwZnI0kQXgTYijynQubjDrqf6YLO/NJGF5m2LXZD2SIqDS3duY3gZI5TOGHYTaXuw6F81np1UH3A7rZpl73X1c9NMq+JmbhbdAAAAAWJLR0T9SwmT6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDBAoBMD0C6CYAAAkSSURBVGje7ZlbYE5XFscXcmnHJQkqhIy6fE1Iv48gpR/iLhlKXCIxI1WiGlFaFGlDNYx76jZI61JxH6JBqFZdRqY6iNKh06BotR1TOh2mYzqmM/N7mIdzTr5z2eHkoW/W21l77fU/++y11/rvdUQeyAP5yaRa9RpBwSGhDz38s3tZ1axVu05YeETdevWr6v+RBugS2bBRlNqmcZNow4jgn1fNf9NITPJoMwVE8xYtzTaex6riPyYWq7RqbTdpFGIziXvcvf8oL+Br0za+XfsOCdp03xMdzRadntTU/qDOXbomdusO0MM9QFuAnjpYr94+APqYFtE3CYDkX/TTFf0BnnINUBcYEHgc2AOAlEHGTgyOBPANGVphkjoM6O7Wf1q4/XXStTcekCYiMrw7AL/8ldliBBCX6hKgEZBhVXV6GoCRz4iMGgbgG51mMcgcAzzrEmAsMNqufC4LYFzM0GyA8SPs47WBwS4Bng9ssUkmRADEJQBMjHEMvwC86BJgEjDZqR41xQj5SaOcoy8BU10CRAADFfrMaZr/3qrEMxnwugRIAp5RDUzPAfC8rBp7BajjEiAXmKHQD5+prSBblWCfAh51CTAOeNWpTp1l7EHd5s7R14A8lwDZQDunejZA6ByAXztHuwHZLgHmKqNoHkD2/OFBAAscwwuBRS4B5gCL7cq+kUDu4yL5EYC/rQp/gEuAF4HX7QG0BIhdKiKyLAxYvkJx0H7jEmAl0Ma2wasAX3vtYbUfmFvgPP5vuASYDLxpVa0BWGs8rQNYb7XwAm6r5gog1hKJb6UAG/rVLCzc2LqwcNOyVoB/s2WJserYVsuWQOrdGrN62/bfxqGQHUN2tmg0Ybhm1w8oinIL0BtYmdrvuZ27lnBfCa499u0ZUgzMdF0yXwfGFFEFiRsH7HbpfuievUonYUkleV6v15tXkhTmUxlE78u/v/fEldGWyb7g0GQgvMt+Ww3t4gGS38m1QKSENkm7p/sDQ5JNbxw6u+nS+pIOMMhp+y7ACNn6bPX3DuYEZmW9Xyl7SU0/ZH6bwzrFSAA2ZCqSdwSQpL1warR50T0OKP0/lm1YjBx0xA8sExGRnUCkki5M9gHviojI0RTg4d9lGB6Cjjl5eEN9LGFsqYgcBPqLiGzyAL+vnByEbxIRqQWMFJEP1upx7Xvelqv2JOur26yRp23AcRGRD4GW+9UAXeOAP4iInKhIRAXpk/QdbG+ynH9Sc39qqaHJL9OKTluAJoG6OHj37sGBTTwN0EjkZT/4K8j1sY80iO4VAXX0OABnzpowdwEfS+pxIMjIAKsPazMzjKQWNQk4XCB/BM6Ya0crbScS9YOVB5B12rL8JkBY/WLA10XTFHQIBMpuPVef9QE9M88B9SwBeT4WIKOriEjmTIBo2/WhYxYwL9hUpjqYY/gTXVkDWPInoGi+dX7pBoApBUYtPzXcvoOfAuWAp1SPYmtauKBpZ5TrZg4asPUkwFiRFeFA7QJHiPTTM4bBNzOsABt09UU9LJ1kNbMuUD5dtgPBqgSi3TqSVwR4lUV0bpmvZYkpCgcdc4FLEgLsU0X5ZwB8bFxq7ADn9YH1ACxUeegJHJbkSniipPYxLUA+sQPMNs5QGNBAebeZAZRLLLBUedXMA5KHmmmdWQwG0LUI2KK86McAOeIFLiuTn+UTXansE70HwFWVh8vAXvkcGDdcMaxlP2MJ7ewAetisKNdyu6LefzEeeEHmjwcuOoev+TVHX+rPx63+vzKxQIAjDgedvEDR1yJ/BnzzHOO7gXDAcy1w9TSJzk2veYA4oKF9/vVJBkmOaggw21az0sKAv+QCs1RxZGzxACB4MuCvaZ3frgRgTpSIyKgMgJHxFoNmQFbaacC3UQ/biyb/elh28wHFkgFst5zib8IB9nbSr4+HAJLXmNsdHwGjpSADGGZsYNuv9O+/2Zyuj6fKNiDYdBSOaBs2pcJhxxsA3NxT8Z2ulwGviFwA+LZiZnyttWtXBpZaXS84nXKAtwztX/Xr7neNTYeqllYyx33TVVPUM2jFFGB5orpk7j8HfGhU57/p1GSuzlxv2TYlSNMnT7vQXEQWGVxogkfVVwhUCM8EI8Sy6ouUrivRs+usoY7MUN0gactHH7ntBzZV0JaUYyr/S8uAnVp77Sbw9ysnDFJ46HvVhK2dK3hgmUEqRNKSgOzGTvOCvUDCVu3hIXMMz0yvjMdX62lqxOVMudgsvpp2feSS03gBQLqk3r7Qf05SYFrkP1rfk51ufCLHwmaTQu/sAMo22g5i/YGxQOyNkHDLAT/e+eh9+fXWlwbkKOl7edjNkgiv1xtR0iAsRWWQO3apyxvCOsBHlSQOCHV9w1kF/HPFwsttQlLu7zoypM3lhfnxQFFzl/5Tf6iocmkxjfatu7MrTPnJVj25pvjAtWqBOfEuASYAORYi830kELKptLCwsLCwXWlpbxxU4R3glkuAdOCEVfUvc/nUSO8QJ1Eb5BLgMnDHds6nmt653V2gj43TXwVquAT4Dvi3vSOYAJQXiogkTgQ8Z20GvYBolwCLgHRHw8kDnLstUm2RsmG0CYhwCZABOM/7Yh9QJ1HeB5jlyDajgB0uAYIrUqlF1gPMXQ8wzMlzCgB/gTuAHOBrBdWbZpyAJEXCaQ7Q2B1AEaDKWZmhep5VpZzGAC7b7zuAL1QDo4Irp9KdgEiXe9ASqKkaaKGxvTmqL7EMGO8S4EdA9ddqkJFhzyhav72AH10C3ACKnb2JaQD+OICQmsrue22XAB1MnLdCbkcDlC1+NQLgh8/s45eq0JFqqljtt+MBxl8Qme4F8HewHYUTwH9cAlz3A4WWVonWHcj7QESk438BCLFwmXjA09FtRQuy/s3I/7QMgF36ZTvq8xQA/9OBjkrUIhWFr1RuAaw04m/0XY3zvRE4Rm21rs3dL/XLg+wEOOAaIDUE4FT7+Blnr67SbzpvWq7aiTV0WnNwQZfp+V26U6Wupshrybb6O+a8vaC/PdFmkrWsKr9jiy2/e4t2Kk5W5vktZpuydKmS9A30fOvUquSneFrPQIP1f49IFSWtXu3snJaHT165JxeJuTK1zhhPXu+m1eSBPJCfTP4P2qckJ0elpLAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDMtMDRUMTA6MDA6MDIrMDA6MDBIE/HDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAzLTA0VDEwOjAwOjAyKzAwOjAwOU5JfwAAAABJRU5ErkJggg==",Die="/assets/redux-07db265e.png",kie="/assets/tailwind-6ece120d.png",Lie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACT1BMVEUAAAAZdtLg7fn///+BtOYwg9ZVmd5wquOMuuioy+7D2/PR5Pbf7Pnv9fzw9vzs9Pvb6vi/2fKrze+XweuAs+ZppuJKk9wqgNU8i9l6sOW41fHo8frN4fWiyO13ruRMlNwie9Q3iNjZ6Pj8/f6szu91reQ2h9hLlNy10/Gkye05idi00vD+/v+cxOwad9L1+f2SvuojfNSLuugvg9bT5faCtOYnftV5r+UdeNPG3fSNu+lnpeFJkttfoODD3PNWm95and9Nldy71/Lh7fm31PGWweuJueibw+vi7vlFkNszhte61vFhoeAsgdYof9XM4fX9/v9YnN5jouBvqeNxq+PJ3/Q0htcrgdbK3/X6/P5tqOKaw+v0+f3z+P1opeLx9vw9i9mgx+wbd9Kz0vCVwOp0rOSfxuypzO5Mldyuz+9goOClye3p8vvO4vWvz+/y9/0eedMhe9Tu9fzS5PaTv+psp+IgetPm8Pp9suYfetPk7/oceNNZnN+Ywuux0fAwhNeexuxGkdtRl93r8/v2+v3I3vT3+v1bnd97seVen9++2PJDj9rW5/clfdR6r+WjyO3o8vuFtufE3PSKuegnf9WPvOk7itm61vJiouDt9PvC2vPe6/i51fEpgNUtgtYyhdc6itk/jdnL4PXV5vfP4/aRvelcnt+Uv+qZwuvl7/pmpOFnpOEkfNTY6PfW5venyu5HkdvX5/fH3vT5+/5Cj9o4iNhXm96x0PBEkNpTmN3U5feHuOhlo+G20/H4+/6tzu92reROltx/s+bB2vMmftSrdjnjAAAAAXRSTlMAQObYZgAAAAFiS0dEAxEMTPIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAwQKARAGbMjuAAAEfUlEQVR42u3c6VcTZxTHcW8GhBREFLC4IRIDGjAWsTSiSAsFFQVjrNKUUGrclxpwR1S0SlWsu7gvuGvdrdbWrtr+YZWjR48nd7bTF/jc+X1fknkm+RyyMHcm9OuHEEIIIYQQQgghhBBCCCGEEEIWIgUDGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGGCAAQYYYIABBhhggAEGGGDbYJf2f0vQ33li/6Rk9wcpqa4BaWkDXekpgwZnZGYN+VAmOHvosOE6K9JGjMwZlSsKPDo5z2yZJ32MN18IuGCsx9rScSLAvsIiq0vHCwD7vROsL/1IfXDxMDtLJyoPLplka+nHqoNL7Xm1TxQHBybbXJqkOLjM7tIpaoOneuwuLVcbPM320gqlwZ/aX/qZ0uBK/U2qPh9XXZM8fXDljHd/PlNlcK3OK9gza3bd27ur718zJ/jmtuw+AM8Nsc2Lf+Tp/JYh36sdZfLewtq4u6z7Yv7rGxe8PxOPhviH/qXxCvYZHf5K52C5MdJ7c4PC4EAT4w1+rbt9fU2zpuUqDP6G+wUvNFpRXx2OKgwuZ7yROuM7ySaFwQkMeJFCY1rb4MUMeIlk8FIGPFcyeBkDXi4ZvIIBr5QMXsWAGyWDG7kzDKWCwdzHkuYWDA6xhw4ZcsE+/mApIyAVTKt58bc+qeA1OvOBWGaLTHBIdySSGvJLBLeu1Z8CrSv3ywPTeqPB16RQVBy4JGI468vbEBAGpmST8abL2yILvDHdbKK7aXObJDAVhE2H2FuS2gWBaaiFuX3eVkFg2mblVMX2Djlgmm5FHMuRA/bvsHQ+alGpFPDLA2NLp8VTd4oB03e7rIh3V4gBU36nFfH3e8SAKbrXytV44X1iwESjuyyII/vlgIkqfjAXuw4IAlPg4GpT8SFJYKI272ETcHCIKDBR8ZG1xuKjwsBEB441G4qnSgMTHe9uMgC75YFf7mub/nFyc5tAMNGJk1YutxQEJjp1WgdcJhRMiWd4cJdUMLUUsuCzYsEUOMceQvjFguk8+zrOlQvmvxNxQTC4gAM3CAZf5MCtgsE93AXzqr5L+xLaTXe6nPvbUlXwJe3yftMJLgO+oi5Y8+wwuT76KvedCIXBmha5dt5gk+vce9YNpcGaFrvZo7dFyS0O/KPiYE0Lds1uZd+i2dPlRReUB/c+s7ffvhM33eLnHndJArj34/Xe/ZwHr08RtudnuWM6h8PdUsCvmuB6mHJ3hsGFEEU+WWDTHpHDwBUOAz8iZ4F/euwwcAI5Czwr6izwiGJyFLiznhwFXhN/malkcMzL7EIt8BMb/0YrOKaWlAdT28/Vc8JWuOGnv/B7UHBqmfvrsUFNxtxnv3XorVZ0TBvt+b3sj7w/uUOjqr/+Nvraltpz6cTnG150L3z6z5neKt3XNmeN+tdkSZ+C+yKAAQYYYIABBhhgNcAIIYQQQgghhBBCCCGEEEIIIcf0H6s0di86BKRLAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTAzLTA0VDEwOjAwOjAyKzAwOjAwSBPxwwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wMy0wNFQxMDowMDowMiswMDowMDlOSX8AAAAASUVORK5CYII=",Oie="/assets/threejs-1d0654a8.svg",Fie="/assets/meta-e386841a.png",Nie="/assets/shopify-c0fdbc80.png",Uie="/assets/starbucks-af2a76fc.png",Gie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAMAAAAJixmgAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAC61BMVEUAAAB/AAC4HBy0Hh63GRm1Gxu2HBy4HBy2Gxu2Gxu3Gxu3HBy2Gxu3HBy3HBy3HBy2HBy2HBy3HBy2Gxu3HBy3Gxu2Gxu3Gxu3HBy2Gxu3HBy3HBz/AAC5Fxe3HR22HBy2Gxu3HBy2Gxu3Gxu2Gxu2HBy3HBy2HBy4HByqAAC4Ghq2HR23Gxu3HBy3Gxu2Gxu2Gxu2HBy2HBy2GxuvHx+3Ghq2Ghq2HBy2HBy2Gxu0Hh62HBy2HBy3HBy2Ghq/Hx+0Gxu3HBy2HBy2HBy4HBy2JCS/AAC1Gxu2HBy2Gxu3Gxu2HBy3Gxu3Hx+2Gxu3Gxu3Gxu0GBi0Hx+3Gxu2HBy2HBy3HBy3Gxu3Gxu2Gxu3HBy3HBy3HBy2HBy8ISG4HBy2Gxu3HBy3HBy2HBy4HR22GhrMMzOqKiq2HR23Gxu3HBy2Gxu3Gxu3HBy3HBy3Gxu2HBy2HBy2Gxu2HBy3GhqyGRm3HBy3Gxu2HBy2GxuzHBy3Ghq5Hh63Gxu3Gxu3Gxu2Gxu2GBi2Gxu3GxuwExO3Gxu3Gxu2HBy2Gxu3Gxu1Gxu6HR22HBy2HR23HBy2HBy3Gxu3Hh62Gxu2HByqHBy0Ghq3Ghq2HBy3Gxu2Gxu2HBy3Gxu2Gxu1HR27GRm2HBy2HBy2HBy2Gxu2HBy3HBy3HBy4GRm3GxuyGRm6Gxu2HBy4Gxu2Gxu3Gxu3Gxu2HBy3HBy3HR22Gxu7Ghq3Gxu4Ghq2HR21Ghq2Gxu1GRm5Fxe2HBy2HBy2Gxu3HBy3HBy7IiK2Gxu2JCS3HR23Gxu1HR23Gxu2Gxu3HR22HR23Gxu3Gxu2Gxu2Ghq2Gxu3Gxu4HBy3Gxu0HBy3Gxu3HBy2HBy2Gxu2Gxu2Gxu1Gxu4Gxu3HBy3HR22HBy5Hh63HBy1HBy/FRW2Gxu2HBy4HBy2Gxu3Gxu3HBy3Ghq3Gxu0GBi3HR24Ghq3HBy3HBy4Gxu1HBy4HBy2Gxu3Gxu3HBy5HBy2HBy3HBz///8/zmpMAAAA93RSTlMAAhIiMkJRYWZ3eYiNmaCqtLvHzNHd3u7938ihARYrW3CHn8PT4vKGWgMdPF18nLfm+9CbEDlff776EbP+xE0IN2vGxTYHBF6R99WibyCT9pIfGFVY2vzk3Il1WdmYF0jwj31qRTEFBkbxRxxnsvX4kHRcPycK4Pn0sRtEM4CvhDgVsO8N526/uIFJGvMjZGO5Ge3sCTBWqcrU4cF4Vx7XYn6lzb3PKKcUJTVTca7L6epyVBNSOmkmyTsL2Kym66sP5Q49wDSLjE97qJ2KQ57SbJU+pKOtlOguZUG1YIUh41AMwpckupaaaNYpTky8ji8tc4NLdixtayMj2QAAAAFiS0dE+DtjZ2YAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAwQKARFxa/h4AAAJx0lEQVR42u2ce1xUZRrHjw3gjNM0A8cJ5SYBXmBMQIHhNmmUDDKoKAhK5haY1xKUQUPRNK1UTPCSJqkVrqxaarkmrooVm+R62axttSy72GXb2u26u/PvzqAiDO+c8573nMF5n3N+f/gRmPed82WGc573ec93GEaJEiVKlChRokSJEiVKlChRokSJEiUM0+s2lZ9/QG+1po/2dt0dekNgEMuyfY3O3BnsSj+HM/3a/9vf9d2+zh+HBBr0obrbtX006t4B/n6q23r5NmNYeIT/gMi7ogzRMQMHOSTJoIEx0YaowZFD/CPCfYYzNs409O5h8X0TEh1eTWLC8PgRdw81xcXeKtKk5BRzVKoxzdHDSTOmRplTkpN6EDXdpNZmGDMdtzbBFp3mHlWYd1FHjrp3WFaww4cSfN+Ie+8f7Q3W7AhrjmWMwyeTmGvLM0lJPdY6LshHWW9mfFC+dYIEsBMLdLkOapKgV4uBnliomyTyCIqCiyez0YF6m06nm6LVas0ajaZE7cwDQ1z/lji/NDu/PcX5Y5s+MJqdXHytKBGRqQ8WTiM5P/1uHNkr+9DULEPow6VlhdMfmZA+g+T3PDN9gt+swrLSh22GoKmziQ4iN3/OSCFPOffRx+YJe4by/hZ9xfwFlfYqqc+WVfbKBSUVesvCRcKO6PFq9WLMU1SeRcA1dowxQ6teouqJuje9pkBjYx8S8kIvtfPOOn845mSZxmVPDFi+oudLvBXJC554ErvuGT6fZ7o8jElWWnR5plW3toafGWHVZjyFcbBP8y3snuE+Ja1es7bWd5ZotWvXrOZ+j6fy/rGN9XReLHLWMzW+uEZVOWtAT2uYdc/yj1+PKt6izf6rGB/OKn9zNAq6DmewwW2QUVeQxFCQqiVa1u1cVo+1mtqwsVOtZrPWMhSl1mpLuHn0mzbgjSq8/vj+OSaB683Ncc/N2qLO02grdFurA59n2W2ujlVDe+cql2VfQHZqwl9g2VyjsX9wcIPr0dtY9vnA6q26Cu32SPWOOX47hdYyEUtfvA6wA3fIVtdFW2vCpbRPf+nlnMbVuxp4y7PUbEST6Pe8C6GBu+sb81+um9W0GZdZY3GO+wP272hPvWYv/6PC973yasX+AweFFHxTuk+jFTL+NXZZxeuHRmGsDvZq6v8oWePOfnh7VAhR5yMzwH2yAKJe0cqQO/ocbuqBhl7VG0d0IfNELN5mN3edsHm2iMnmHdWV/emY986ABTmWctFr9ONdrufHYkRP6CyI1BGSF0RNZSc2SdSVaOk8b4tEk55884hdMti3dtjelrIP06mcf1rKeYtDt7SKpw23ZpQ7pE3an29MvnyRxFMXWfLixNC2WgO90W9/6nrxNq3YG408No/0crSvZbyXmovvtNcf2e94q2PbuI8I+FSR19qpba753/Xa9P1Gkb3EZq8dUWYBw5z23u7UX0i3tc8IeiMNf/LsuZKXTlfW1PipVHbu7dNBTU3cm8iJdtXempqa8wHrt7f9tfo9QRsfLcRX5ewTWE+wKCu/bMlOt4XVNp6GIk/XO8btdz921oX3j+LtzeqzyU/TM5bxTr9N+wGy5/03ce/KD5GFrX/bcd6Rf58h5sKUfZFz8kttEZ5GlogD9thd/ajiJOfAnGyRlcfHnouDSxqO9el0ccDnORYweZ4Lv0V14mutSg/d38Q2zlZEuDhgzg7/qnEedtzeNklRS+9B/iEfTOYZJqr+LuaZ/PJG1KgTUi3569Z1m3uyim/QJ2KADXyz2xu6X+o+lbDXHe9+bwX/YmywGOArvNN/5P4iGD6TdEH8yuddZj/EP2KLGOAC/vlTugxo+ELqFsCX5zpVO1cxBtjFADdj1IEHOlV5g73R6Jk7oqNcvAenMH2cnHcdTnHY8RZK+8pbmwXNjdeQZ2PdIxREDpyF9Z67tnpN+/BrL3Yt47Su68E3WI/9ihz4W6wnuOraTRm8mPFujqVklP8D65HfkQM/ivUEoWOqrVVMD6QV7z20nBwYbwHf7GM7uMeI77gqqmKozHFS4H/SycucIQVuoRS4DymwhlLgtaTAcygFriUFnkgpMHOJjPcgrbzMN2TAq6kFPkcGrKUWeAAZ8APUAkeQAX9PLXAs0fbj+FhqgZkDJMBH6eVlRpAA6ygGvkACXEYxsIkE+A2KgVsJNr0zWykGZiYLB55EMy9zQjiwnmrg0p67QcM38oNw4H9RDbxTOPBcqoEZwbekbqKbl0kVCvxvyoF/FAr8LuXAKUKBh1IO/JNQ4J8pB54p8Jbo8hmUAzO7hQHvop2XiRIGfJZ64EhiIYLSXBYGXEk9cJKgJXFmOvXATIMQ4Dvp52WqhQAvAwC8RgjwUgDAh4UAfwEAWCUEeCwA4DABHyazMgwAcPsNc7jKGgReJh8fuAIEcB0+cG8QwKfwgR8BATwa+8M+E0eCAOaz8m6mLwxefCvPBgQY28r7BQgwtpV3HgjwClzgPUCAca28z6Hw4lp5GWCAr+AB/woGGNPKOwQGGNPK+xoMcK91kvl3lCQLB9gChxfPyrsICBjLyvsYEDCWlXc/IOAqjM8xotW/QwfDysuFxItj5bWAAsaw8jSggDGsvDmggDGsvGmggPmtvIOweJl6PuB4YMC8Vt5dwIB5rbxCYMC8Vt73wID5rDya/Tt0eKy8EGi8fFaeDhzwBbj+HTomuP4dOtxWXr8vwQFzW3mT4PFyW3l6gMClcP07dDitvN8AAnNaeYsBAnNZeZsg8nJZeYEggX+E69+hkwLXv0PnJ7j+HTqerTz6/Tt0dsP179CJguvfoRMJ179Dx6OV9wFQYE9WXmYSUGBmIVz/Dh0PVt5+sMAerDwzWGAPVt5psMAquP4dOmgrD4Z/h85VuP4dOvlw/Tt06uD6d+icguvfoYOy8hJHAwZmYuD6d+ggrLxQ0MAIK+910MAIK88fNPAKwP4dOt2svIGwebtbeY8BB74C179DZwtc/w4dO1z/Dh13K29QL+DA7laeBTqvu5V3ETzwd3D9O3TcrLx94IG7Wnmw/Dt0jsP179DpYuU1ygC4i5X3HxkAr4Xr36FTC9i/Q6eTlZcgB97OVl68LIDPwfXv0BkA179Dp5OV1yQL4Nh5cP07dA7A9e/Q6bDyHpQJcIeVd0QmwB1WXrJMgG9YeRD9O3SuW3lT5cJ7w8rTywa4FK5/h84PcP07dHYC9u/QOQnXv0MnFa5/h067ldcmI+B2K2+BjIDbrbz/ygjYZeVB9e/Q2e1wsHLidVl5w2QFHOlw/E9WwJfh+nfoJGXC9e/QWWiUFy9TvV9mwGvMMgM+fFpmwKoJMgMOC2OUKFGiRIkSJUqUKFGiRInv5P9tQPlOmmp4dgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wMy0wNFQxMDowMDowMiswMDowMEgT8cMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDMtMDRUMTA6MDA6MDIrMDA6MDA5Tkl/AAAAAElFTkSuQmCC",zie="/assets/carrent-2dc9d12a.png",Hie="/assets/jobit-19e87857.png",Vie="/assets/tripguide-09aa6838.png",ST=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],Wie=[{title:"Full Stack Web Development",icon:wie},{title:"App Development",icon:xie},{title:"AI/Chatbot Development",icon:yie},{title:"Wordpress Development",icon:vie}],jie=[{name:"HTML 5",icon:Eie},{name:"CSS 3",icon:Sie},{name:"JavaScript",icon:Pie},{name:"TypeScript",icon:Lie},{name:"React JS",icon:Bie},{name:"Redux Toolkit",icon:Die},{name:"Tailwind CSS",icon:kie},{name:"Node JS",icon:Rie},{name:"MongoDB",icon:Iie},{name:"Three JS",icon:Oie},{name:"git",icon:Mie},{name:"figma",icon:Tie},{name:"docker",icon:Cie}],Zie=[{title:"React.js Developer",company_name:"Starbucks",icon:Uie,iconBg:"#383E56",date:"March 2020 - April 2021",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"React Native Developer",company_name:"Tesla",icon:Gie,iconBg:"#E6DEDD",date:"Jan 2021 - Feb 2022",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Web Developer",company_name:"Shopify",icon:Nie,iconBg:"#383E56",date:"Jan 2022 - Jan 2023",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]},{title:"Full stack Developer",company_name:"Meta",icon:Fie,iconBg:"#E6DEDD",date:"Jan 2023 - Present",points:["Developing and maintaining web applications using React.js and other related technologies.","Collaborating with cross-functional teams including designers, product managers, and other developers to create high-quality products.","Implementing responsive design and ensuring cross-browser compatibility.","Participating in code reviews and providing constructive feedback to other developers."]}],Jie=[{testimonial:"I thought it was impossible to make a website as beautiful as our product, but he proved me wrong.",name:"Brandon Lee",designation:"CFO",company:"Acme Co",image:"https://randomuser.me/api/portraits/men/4.jpg"},{testimonial:"I've never met a web developer who truly cares about their clients' success like he does.",name:"Chris Brown",designation:"COO",company:"DEF Corp",image:"https://randomuser.me/api/portraits/men/5.jpg"},{testimonial:"After Rick optimized our website, our traffic increased by 50%. We can't thank them enough!",name:"Dr. Wang",designation:"CTO",company:"456 Enterprises",image:"https://randomuser.me/api/portraits/men/6.jpg"}],qie=[{name:"Project 1",description:"Web-based platform that allows users to search, book, and manage car rentals from various providers, providing a convenient and efficient solution for transportation needs.",tags:[{name:"react",color:"blue-text-gradient"},{name:"mongodb",color:"green-text-gradient"},{name:"tailwind",color:"pink-text-gradient"}],image:zie,source_code_link:"https://github.com/"},{name:"Project 2",description:"Web application that enables users to search for job openings, view estimated salary ranges for positions, and locate available jobs based on their current location.",tags:[{name:"react",color:"blue-text-gradient"},{name:"mongoDB",color:"green-text-gradient"},{name:"tailwind",color:"pink-text-gradient"}],image:Hie,source_code_link:"https://github.com/"},{name:"Project 3",description:"A comprehensive travel booking platform that allows users to book flights, hotels, and rental cars, and offers curated recommendations for popular destinations.",tags:[{name:"nextjs",color:"blue-text-gradient"},{name:"firebase",color:"green-text-gradient"},{name:"css",color:"pink-text-gradient"}],image:Vie,source_code_link:"https://github.com/"}],Xie=()=>{const[n,e]=Q.useState(""),[t,r]=Q.useState(!1),[i,s]=Q.useState(!1);return Q.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):(s(!1),e(""))};window.addEventListener("scroll",o);const a=()=>{document.querySelectorAll("section[id]").forEach(u=>{const c=u.getAttribute("id"),f=u.offsetHeight,h=u.getBoundingClientRect().top-f*.2;h<0&&h+f>0&&e(c)})};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",o),window.removeEventListener("scroll",a)}},[]),me("nav",{className:`${lr.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${i?"bg-primary":"bg-transparent"}`,children:nt("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[me(N_,{to:"/",className:"flex items-center gap-2",onClick:()=>{window.scrollTo(0,0)},children:nt("p",{className:"text-white text-[22px] font-bold cursor-pointer flex ",children:["MB. ",me("span",{className:"sm:block hidden",children:" | Portfolio"})]})}),nt("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:[me(N_,{to:"/contentGenerator",className:"flex items-center gap-2",children:"AI Content Tool"}),ST.map(o=>me("li",{className:`${n===o.id?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,children:me("a",{href:`#${o.id}`,children:o.title})},o.id))]}),nt("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[me("img",{src:t?Aie:_ie,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>r(!t)}),me("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:me("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:ST.map(o=>me("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.id?"text-white":"text-secondary"}`,onClick:()=>{r(!t)},children:me("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})},d0=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),Yd=(n,e,t,r)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:r,ease:"easeOut"}}}),CT=(n,e,t,r)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:r,ease:"easeOut"}}}),Kie=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),f0=(n,e)=>function(){return nt(qr.section,{variants:Kie(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${lr.padding} max-w-7xl mx-auto relative z-0`,id:e,children:[me("span",{className:"hash-span",children:""}),me(n,{})]})},Yie=({index:n,title:e,icon:t})=>me("div",{className:"xs:w-[250px] w-full",children:me(qr.div,{variants:Yd("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:nt("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[me("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),me("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),Qie=()=>nt(ro,{children:[nt(qr.div,{variants:d0(),children:[me("p",{className:`${lr.sectionSubText} text-center`,children:"Introduction"}),me("h2",{className:`${lr.sectionHeadText} text-center`,children:"Overview."})]}),me(qr.p,{variants:Yd("","",.1,1),className:"mt-4 text-secondary mx-auto text-justify text-[17px] max-w-3xl leading-[30px]",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab earum aliquid labore illo eaque officiis! Necessitatibus labore officiis nesciunt ducimus ratione assumenda suscipit dolorum explicabo laudantium laboriosam. Minima mollitia delectus quae sequi quos ab necessitatibus adipisci. Tempora, quam soluta adipisci quaerat pariatur vero rem quidem. Ex numquam repudiandae eligendi voluptatum necessitatibus distinctio maxime illum esse, sed eum molestiae dolore, minima qui debitis animi quasi quod voluptates ad, est"}),me("div",{className:"mt-20 flex flex-wrap gap-7",children:Wie.map((n,e)=>me(Yie,{index:e,...n},n.title))})]}),$ie=f0(Qie,"about"),ese=()=>nt(ro,{children:[me(qr.div,{variants:d0(),children:me("h2",{className:`${lr.sectionHeadText} text-center`,children:"Technologies."})}),me(qr.p,{variants:Yd("","",.1,1),className:"mt-4 mb-10 text-secondary mx-auto text-justify text-[17px] max-w-2xl leading-[30px]",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ab earum aliquid labore illo eaque officiis! Necessitatibus labore officiis nesciunt ducimus"}),me("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:jie.map(n=>me("div",{className:"w-28 h-28 bg-slate-300 p-2 rounded-full hover:-translate-y-5 duration-200",children:me("img",{src:n.icon,alt:n.name})},n.name))})]}),tse=f0(ese,"tech");var M1={},xk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(xk);var wk=xk.exports;M1.__esModule=!0;M1.default=void 0;var nse=cx(Q),ma=cx(nD),rse=cx(wk);function cx(n){return n&&n.__esModule?n:{default:n}}const bk=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:r="#FFF",children:i})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",r),nse.default.createElement("div",{className:(0,rse.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},i));bk.propTypes={children:ma.default.oneOfType([ma.default.arrayOf(ma.default.node),ma.default.node]).isRequired,className:ma.default.string,animate:ma.default.bool,layout:ma.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:ma.default.string};var ise=bk;M1.default=ise;var E1={};function x4(){return x4=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},x4.apply(this,arguments)}function sse(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,w4(n,e)}function w4(n,e){return w4=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},w4(n,e)}function ose(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var b4=new Map,I3=new WeakMap,TT=0,_k=void 0;function ase(n){_k=n}function lse(n){return n?(I3.has(n)||(TT+=1,I3.set(n,TT.toString())),I3.get(n)):"0"}function use(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?lse(n.root):n[e])}).toString()}function cse(n){var e=use(n),t=b4.get(e);if(!t){var r=new Map,i,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&i.some(function(c){return a.intersectionRatio>=c});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(function(c){c(u,a)})})},n);i=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:r},b4.set(e,t)}return t}function dx(n,e,t,r){if(t===void 0&&(t={}),r===void 0&&(r=_k),typeof window.IntersectionObserver>"u"&&r!==void 0){var i=n.getBoundingClientRect();return e(r,{isIntersecting:r,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=cse(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),b4.delete(o))}}var dse=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function MT(n){return typeof n.children!="function"}var a2=function(n){sse(e,n);function e(r){var i;return i=n.call(this,r)||this,i.node=null,i._unobserveCb=null,i.handleNode=function(s){i.node&&(i.unobserve(),!s&&!i.props.triggerOnce&&!i.props.skip&&i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=s||null,i.observeNode()},i.handleChange=function(s,o){s&&i.props.triggerOnce&&i.unobserve(),MT(i.props)||i.setState({inView:s,entry:o}),i.props.onChange&&i.props.onChange(s,o)},i.state={inView:!!r.initialInView,entry:void 0},i}var t=e.prototype;return t.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,s=i.threshold,o=i.root,a=i.rootMargin,l=i.trackVisibility,u=i.delay,c=i.fallbackInView;this._unobserveCb=dx(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},c)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!MT(this.props)){var i=this.state,s=i.inView,o=i.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,c=ose(a,dse);return Q.createElement(u||"div",x4({ref:this.handleNode},c),l)},e}(Q.Component);a2.displayName="InView";a2.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function fse(n){var e=n===void 0?{}:n,t=e.threshold,r=e.delay,i=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,c=e.fallbackInView,f=Q.useRef(),h=Q.useState({inView:!!u}),m=h[0],g=h[1],v=Q.useCallback(function(x){f.current!==void 0&&(f.current(),f.current=void 0),!l&&x&&(f.current=dx(x,function(_,b){g({inView:_,entry:b}),b.isIntersecting&&a&&f.current&&(f.current(),f.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:i,delay:r},c))},[Array.isArray(t)?t.toString():t,o,s,a,l,i,c,r]);Q.useEffect(function(){!f.current&&m.entry&&!a&&!l&&g({inView:!!u})});var y=[v,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}const hse=Object.freeze(Object.defineProperty({__proto__:null,InView:a2,default:a2,defaultFallbackInView:ase,observe:dx,useInView:fse},Symbol.toStringTag,{value:"Module"})),pse=BO(hse);E1.__esModule=!0;E1.default=void 0;var ga=fx(Q),gn=fx(nD),R3=fx(wk),mse=pse;function fx(n){return n&&n.__esModule?n:{default:n}}const Ak=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:r=null,date:i="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:c=null,id:f="",position:h="",style:m=null,textClassName:g="",intersectionObserverProps:v={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:y=!1})=>ga.default.createElement(mse.InView,v,({inView:x,ref:_})=>ga.default.createElement("div",{ref:_,id:f,className:(0,R3.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":h==="left","vertical-timeline-element--right":h==="right","vertical-timeline-element--no-children":n===""}),style:m},ga.default.createElement(ga.default.Fragment,null,ga.default.createElement("span",{style:c,onClick:l,className:(0,R3.default)(a,"vertical-timeline-element-icon",{"bounce-in":x||y,"is-hidden":!(x||y)})},o),ga.default.createElement("div",{style:r,onClick:u,className:(0,R3.default)(g,"vertical-timeline-element-content",{"bounce-in":x||y,"is-hidden":!(x||y)})},ga.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,ga.default.createElement("span",{className:(0,R3.default)(s,"vertical-timeline-element-date")},i)))));Ak.propTypes={children:gn.default.oneOfType([gn.default.arrayOf(gn.default.node),gn.default.node]),className:gn.default.string,contentArrowStyle:gn.default.shape({}),contentStyle:gn.default.shape({}),date:gn.default.node,dateClassName:gn.default.string,icon:gn.default.element,iconClassName:gn.default.string,iconStyle:gn.default.shape({}),iconOnClick:gn.default.func,onTimelineElementClick:gn.default.func,id:gn.default.string,position:gn.default.string,style:gn.default.shape({}),textClassName:gn.default.string,visible:gn.default.bool,intersectionObserverProps:gn.default.shape({root:gn.default.object,rootMargin:gn.default.string,threshold:gn.default.number,triggerOnce:gn.default.bool})};var gse=Ak;E1.default=gse;var Sk={VerticalTimeline:M1.default,VerticalTimelineElement:E1.default};const yse=({experience:n})=>nt(Sk.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:me("div",{className:"flex justify-center items-center w-full h-full",children:me("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[nt("div",{children:[me("h3",{className:"text-white text-[24px] font-bold",children:n.title}),me("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),me("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>me("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),vse=()=>nt(ro,{children:[nt(qr.div,{variants:d0(),children:[me("p",{className:lr.sectionSubText,children:"What I have done so far"}),me("h2",{className:lr.sectionHeadText,children:"Work Experience."})]}),me("div",{className:"mt-20 flex flex-col",children:me(Sk.VerticalTimeline,{children:Zie.map((n,e)=>me(yse,{experience:n},e))})})]}),xse=f0(vse,"work"),wse=({index:n,name:e,description:t,tags:r,image:i,source_code_link:s})=>me(qr.div,{variants:Yd("up","spring",n*.5,.75),children:nt("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[335px] w-full",children:[nt("div",{className:"relative w-full h-[230px]",children:[me("img",{src:i,alt:e,className:"w-full h-full object-cover rounded-2xl"}),me("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:me("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:me("img",{src:bie,alt:"github",className:"w-1/2 h-1/2 object-contain"})})})]}),nt("div",{className:"mt-5",children:[me("h3",{className:"text-white font-bold text-[24px]",children:e}),me("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),me("div",{className:"mt-4 flex flex-wrap gap-2",children:r.map(o=>nt("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},o.name))})]})}),bse=()=>nt(ro,{children:[nt(qr.div,{variants:d0(),children:[me("p",{className:`${lr.sectionSubText} text-center`,children:"My Work"}),me("h2",{className:`${lr.sectionHeadText} text-center`,children:"Projects."})]}),me("div",{className:"w-full flex",children:me(qr.p,{variants:Yd("","",.1,1),className:"mt-3 text-secondary text-justify mx-auto text-[17px] max-w-3xl leading-[30px]",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum blanditiis iure magnam, nihil dignissimos similique quaerat nam, voluptatum minus temporibus vitae officiis est, hic accusamus beatae voluptate sint optio magni facere. Officiis quae modi harum similique rerum error veniam autem, dolor corrupti recusandae iusto cum suscipit odit excepturi magnam tempora dolores natus nulla laudantium temporibus sint. Amet, vero optio."})}),me("div",{className:"mt-20 flex flex-wrap gap-10",children:qie.map((n,e)=>me(wse,{index:e,...n},`project-${e}`))})]}),_se=f0(bse,""),Ase=({index:n,testimonial:e,name:t,designation:r,company:i,image:s})=>nt(qr.div,{variants:Yd("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[320px] w-full",children:[me("p",{className:"text-white font-black text-[48px]",children:'"'}),nt("div",{className:"mt-1",children:[me("p",{className:"text-white tracking-wider text-[18px]",children:e}),nt("div",{className:"mt-7 flex justify-between items-center gap-1",children:[nt("div",{className:"flex-1 flex flex-col",children:[nt("p",{className:"text-white font-medium text-[16px]",children:[me("span",{className:"blue-text-gradient",children:"@"})," ",t]}),nt("p",{className:"mt-1 text-secondary text-[12px]",children:[r," of ",i]})]}),me("img",{src:s,alt:`feedback_by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),Sse=()=>nt("div",{className:"mt-12 bg-black-100 rounded-[20px]",children:[me("div",{className:`${lr.padding} bg-tertiary rounded-2xl min-h-[300px]`,children:nt(qr.div,{variants:d0(),children:[me("p",{className:`${lr.sectionSubText} text-center`,children:"What others say"}),me("h2",{className:`${lr.sectionHeadText} text-center`,children:"Testimonials."})]})}),me("div",{className:`${lr.paddingX} mx-auto -mt-20 pb-14 flex flex-wrap gap-7`,children:Jie.map((n,e)=>me(Ase,{index:e,...n},n.name))})]}),wp={_origin:"https://api.emailjs.com"},Cse=(n,e="https://api.emailjs.com")=>{wp._userID=n,wp._origin=e},Ck=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class ET{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Tk=(n,e,t={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new ET(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new ET(o))}),s.open("POST",wp._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),Tse=(n,e,t,r)=>{const i=r||wp._userID;return Ck(i,n,e),Tk("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},Mse=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},Ese=(n,e,t,r)=>{const i=r||wp._userID,s=Mse(t);Ck(i,n,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",i),Tk("/api/v1.0/email/send-form",o)},Pse={init:Cse,send:Tse,sendForm:Ese},Ise=()=>{const n=Q.useRef(),[e,t]=Q.useState({name:"",email:"",message:""}),[r,i]=Q.useState(!1),s=a=>{const{name:l,value:u}=a.target;t({...e,[l]:u})},o=a=>{a.preventDefault(),i(!0),Pse.send("service_r0jcplm","template_1t76uxq",{form_name:e.name,to_name:"Muhammad Bashir",from_email:e.email,to_email:"	me@mohdbashir.com",message:e.message},"Jqq9AvwIuSjoMiA5c").then(()=>{i(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},l=>{i(!1),console.log(l),alert("Something went wrong.")})};return nt("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[nt(qr.div,{variants:CT("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[me("p",{className:`${lr.sectionSubText} text-center`,children:"Get in touch"}),me("h3",{className:`${lr.sectionHeadText} text-center`,children:"Contact."}),nt("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[nt("label",{className:"flex flex-col",children:[me("span",{className:"text-white font-medium mb-4",children:"Your Name"}),me("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border border-slate-500 font-medium"})]}),nt("label",{className:"flex flex-col",children:[me("span",{className:"text-white font-medium mb-4",children:"Your email"}),me("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your email?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border border-slate-500 font-medium"})]}),nt("label",{className:"flex flex-col",children:[me("span",{className:"text-white font-medium mb-4",children:"Your Message"}),me("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What do you want to say?",className:"border border-slate-500 bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none font-medium"})]}),me("button",{type:"submit",className:"bg-white text-tertiary py-3 px-8 rounded-xl outline-none w-fit font-bold shadow-md shadow-primary",children:r?"Sending...":"Send"})]})]}),me(qr.div,{variants:CT("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:me(q$,{})})]})},Rse=f0(Ise,"contact"),Pc="4.4.0";class Bse{constructor(e,t){this.response=e,this.controller=t,this.decoder=new Dse}async*iterMessages(){if(!this.response.body)throw this.controller.abort(),new Error("Attempted to iterate over a response with no body");const e=new Rd,t=Lse(this.response.body);for await(const r of t)for(const i of e.decode(r)){const s=this.decoder.decode(i);s&&(yield s)}for(const r of e.flush()){const i=this.decoder.decode(r);i&&(yield i)}}async*[Symbol.asyncIterator](){let e=!1;try{for await(const t of this.iterMessages())if(!e){if(t.data.startsWith("[DONE]")){e=!0;continue}if(t.event===null)try{yield JSON.parse(t.data)}catch(r){throw console.error("Could not parse message into JSON:",t.data),console.error("From chunk:",t.raw),r}}e=!0}catch(t){if(t instanceof Error&&t.name==="AbortError")return;throw t}finally{e||this.controller.abort()}}}class Dse{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=kse(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}class Rd{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const r=Rd.NEWLINE_CHARS.has(t[t.length-1]||"");let i=t.split(Rd.NEWLINE_REGEXP);return i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){var t;if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Error(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return(t=this.textDecoder)!==null&&t!==void 0||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Error(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Error("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Rd.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Rd.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function kse(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}function Lse(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}let Bi=class _4 extends Error{constructor(e,t,r,i){super(_4.makeMessage(t,r)),this.status=e,this.headers=i;const s=t;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,t){return e!=null&&e.message?typeof e.message=="string"?e.message:JSON.stringify(e.message):e?JSON.stringify(e):t||"Unknown error occurred"}static generate(e,t,r,i){if(!e)return new h0({cause:Bk(t)});const s=t==null?void 0:t.error;return e===400?new px(e,s,r,i):e===401?new mx(e,s,r,i):e===403?new gx(e,s,r,i):e===404?new yx(e,s,r,i):e===409?new vx(e,s,r,i):e===422?new xx(e,s,r,i):e===429?new wx(e,s,r,i):e>=500?new bx(e,s,r,i):new _4(e,s,r,i)}},l2=class extends Bi{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}},h0=class extends Bi{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}},hx=class extends h0{constructor(){super({message:"Request timed out."})}},px=class extends Bi{constructor(){super(...arguments),this.status=400}},mx=class extends Bi{constructor(){super(...arguments),this.status=401}},gx=class extends Bi{constructor(){super(...arguments),this.status=403}},yx=class extends Bi{constructor(){super(...arguments),this.status=404}},vx=class extends Bi{constructor(){super(...arguments),this.status=409}},xx=class extends Bi{constructor(){super(...arguments),this.status=422}},wx=class extends Bi{constructor(){super(...arguments),this.status=429}},bx=class extends Bi{};const Ose=Object.freeze(Object.defineProperty({__proto__:null,APIConnectionError:h0,APIConnectionTimeoutError:hx,APIError:Bi,APIUserAbortError:l2,AuthenticationError:mx,BadRequestError:px,ConflictError:vx,InternalServerError:bx,NotFoundError:yx,PermissionDeniedError:gx,RateLimitError:wx,UnprocessableEntityError:xx},Symbol.toStringTag,{value:"Module"})),Fse=n=>{},Nse=fetch.bind(void 0),Use=!1,Gse=FormData,PT=typeof File<"u"?File:class extends Blob{constructor(){throw new Error("file uploads aren't supported in this environment yet as 'File' is not defined")}};async function zse(n,e){return{...e,body:new Kse(n)}}async function Hse(){throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")}function Vse(n){return!1}const Mk=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",Wse=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Ek(n),Ek=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",jse=n=>Wse(n)||Mk(n)||Vse();async function Pk(n,e,t={}){var r,i,s;if(n=await n,Mk(n)){const a=await n.blob();return e||(e=(r=new URL(n.url).pathname.split(/[\\/]/).pop())!==null&&r!==void 0?r:"unknown_file"),new PT([a],e,t)}const o=await Zse(n);if(e||(e=(i=qse(n))!==null&&i!==void 0?i:"unknown_file"),!t.type){const a=(s=o[0])===null||s===void 0?void 0:s.type;typeof a=="string"&&(t={...t,type:a})}return new PT(o,e,t)}async function Zse(n){var e;let t=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)t.push(n);else if(Ek(n))t.push(await n.arrayBuffer());else if(Xse(n))for await(const r of n)t.push(r);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(e=n==null?void 0:n.constructor)===null||e===void 0?void 0:e.name}; props: ${Jse(n)}`);return t}function Jse(n){return`[${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}function qse(n){var e;return Z5(n.name)||Z5(n.filename)||((e=Z5(n.path))===null||e===void 0?void 0:e.split(/[\\/]/).pop())}const Z5=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},Xse=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";class Kse{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const IT=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",bp=async n=>{const e=await Yse(n.body);return zse(e,n)},Yse=async n=>{const e=new Gse;return await Promise.all(Object.entries(n||{}).map(([t,r])=>A4(e,t,r))),e},A4=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(jse(t)){const r=await Pk(t);n.append(e,r)}else if(Array.isArray(t))await Promise.all(t.map(r=>A4(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,i])=>A4(n,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var Qse=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},$se=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},B3;const eoe=2;async function Ik(n){const{response:e}=n;if(n.options.stream)return new Bse(e,n.controller);const t=e.headers.get("content-type");if(t!=null&&t.includes("application/json")){const i=await e.json();return u2("response",e.status,e.url,e.headers,i),i}const r=await e.text();return u2("response",e.status,e.url,e.headers,r),r}class P1 extends Promise{constructor(e,t=Ik){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new P1(this.responsePromise,async t=>e(await this.parseResponse(t)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class toe{constructor({baseURL:e,maxRetries:t,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=J5("maxRetries",t??eoe),this.timeout=J5("timeout",r),this.httpAgent=i,this.fetch=s??Nse}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...aoe(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${hoe()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:t,...i})))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var t,r,i,s,o,a;const{method:l,path:u,query:c,headers:f={}}=e,h=IT(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,m=this.calculateContentLength(h),g=this.buildURL(u,c);"timeout"in e&&J5("timeout",e.timeout);const v=(t=e.timeout)!==null&&t!==void 0?t:this.timeout,y=(i=(r=e.httpAgent)!==null&&r!==void 0?r:this.httpAgent)!==null&&i!==void 0?i:Fse(),x=v+1e3;typeof((s=y==null?void 0:y.options)===null||s===void 0?void 0:s.timeout)=="number"&&x>((o=y.options.timeout)!==null&&o!==void 0?o:0)&&(y.options.timeout=x),this.idempotencyHeader&&l!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=e.idempotencyKey);const _={...m&&{"Content-Length":m},...this.defaultHeaders(e),...f};IT(e.body)&&!Use&&delete _["Content-Type"],Object.keys(_).forEach(S=>_[S]===null&&delete _[S]);const b={method:l,...h&&{body:h},headers:_,...y&&{agent:y},signal:(a=e.signal)!==null&&a!==void 0?a:null};return this.validateHeaders(_,f),{req:b,url:g,timeout:v}}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,r,i){return Bi.generate(e,t,r,i)}request(e,t=null){return new P1(this.makeRequest(e,t))}async makeRequest(e,t){var r,i,s;const o=await e;t==null&&(t=(r=o.maxRetries)!==null&&r!==void 0?r:this.maxRetries);const{req:a,url:l,timeout:u}=this.buildRequest(o);if(await this.prepareRequest(a,{url:l,options:o}),u2("request",l,o,a.headers),!((i=o.signal)===null||i===void 0)&&i.aborted)throw new l2;const c=new AbortController,f=await this.fetchWithTimeout(l,a,u,c).catch(Bk);if(f instanceof Error){if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new l2;if(t)return this.retryRequest(o,t);throw f.name==="AbortError"?new hx:new h0({cause:f})}const h=roe(f.headers);if(!f.ok){if(t&&this.shouldRetry(f))return this.retryRequest(o,t,h);const m=await f.text().catch(()=>"Unknown"),g=loe(m),v=g?void 0:m;throw u2("response",f.status,l,h,v),this.makeStatusError(f.status,g,v,h)}return{response:f,options:o,controller:c}}requestAPIList(e,t){const r=this.makeRequest(t,null);return new noe(this,r,e)}buildURL(e,t){const r=coe(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return Dk(i)||(t={...i,...t}),t&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new Error(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,i){const{signal:s,...o}=t||{};s&&s.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch(e,{signal:i.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r){var i;t-=1;const s=parseInt((r==null?void 0:r["retry-after"])||""),o=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries,a=this.calculateRetryTimeoutSeconds(t,s,o)*1e3;return await doe(a),this.makeRequest(e,t)}calculateRetryTimeoutSeconds(e,t,r){if(Number.isInteger(t)&&t<=60)return t;const o=r-e,a=Math.min(.5*Math.pow(o-1,2),2),l=Math.random()-.5;return a+l}getUserAgent(){return`${this.constructor.name}/JS ${Pc}`}}class Rk{constructor(e,t,r,i){B3.set(this,void 0),Qse(this,B3,e,"f"),this.options=i,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Error("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e)t.query={...t.query,...e.params};else if("url"in e){const r=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);t.query=void 0,t.path=e.url.toString()}return await $se(this,B3,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(B3=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class noe extends P1{constructor(e,t,r){super(t,async i=>new r(e,i.response,await Ik(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const roe=n=>new Proxy(Object.fromEntries(n.entries()),{get(e,t){const r=t.toString();return e[r.toLowerCase()]||e[r]}}),ioe={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0},RT=n=>typeof n=="object"&&n!==null&&!Dk(n)&&Object.keys(n).every(e=>foe(ioe,e)),soe=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pc,"X-Stainless-OS":DT(Deno.build.os),"X-Stainless-Arch":BT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pc,"X-Stainless-OS":DT(process.platform),"X-Stainless-Arch":BT(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=ooe();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Pc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ooe(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const BT=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",DT=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let D3;const aoe=()=>D3??(D3=soe()),loe=n=>{try{return JSON.parse(n)}catch{return}},uoe=new RegExp("^(?:[a-z]+:)?//","i"),coe=n=>uoe.test(n),doe=n=>new Promise(e=>setTimeout(e,n)),J5=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Error(`${n} must be an integer`);if(e<0)throw new Error(`${n} must be a positive integer`);return e},Bk=n=>n instanceof Error?n:new Error(n),kT=n=>{var e,t,r,i;if(typeof process<"u")return(t=(e=process.env)===null||e===void 0?void 0:e[n])!==null&&t!==void 0?t:void 0;if(typeof Deno<"u")return(i=(r=Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,n)};function Dk(n){if(!n)return!0;for(const e in n)return!1;return!0}function foe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function u2(n,...e){typeof process<"u"&&process.env.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${n}`,...e)}const hoe=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),poe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class I1 extends Rk{constructor(e,t,r,i){super(e,t,r,i),this.object=r.object,this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){return null}nextPageInfo(){return null}}class _x extends Rk{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data}getPaginatedItems(){return this.data}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e,t;if(!(!((e=this.data)===null||e===void 0)&&e.length))return null;const r=(t=this.data[this.data.length-1])===null||t===void 0?void 0:t.id;return r?{params:{after:r}}:null}}class Qr{constructor(e){this.client=e,this.get=e.get.bind(e),this.post=e.post.bind(e),this.patch=e.patch.bind(e),this.put=e.put.bind(e),this.delete=e.delete.bind(e),this.getAPIList=e.getAPIList.bind(e)}}class c2 extends Qr{create(e,t){return this.post("/audio/transcriptions",bp({body:e,...t}))}}c2||(c2={});class d2 extends Qr{create(e,t){return this.post("/audio/translations",bp({body:e,...t}))}}d2||(d2={});class f2 extends Qr{constructor(){super(...arguments),this.transcriptions=new c2(this.client),this.translations=new d2(this.client)}}(function(n){n.Transcriptions=c2,n.Translations=d2})(f2||(f2={}));let h2=class extends Qr{create(e,t){var r;return this.post("/chat/completions",{body:e,...t,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}};h2||(h2={});class p2 extends Qr{constructor(){super(...arguments),this.completions=new h2(this.client)}}(function(n){n.Completions=h2})(p2||(p2={}));class m2 extends Qr{create(e,t){var r;return this.post("/completions",{body:e,...t,stream:(r=e.stream)!==null&&r!==void 0?r:!1})}}m2||(m2={});class g2 extends Qr{create(e,t){return this.post("/embeddings",{body:e,...t})}}g2||(g2={});class y2 extends Qr{create(e,t){return this.post("/edits",{body:e,...t})}}y2||(y2={});class v2 extends Qr{create(e,t){return this.post("/files",bp({body:e,...t}))}retrieve(e,t){return this.get(`/files/${e}`,t)}list(e){return this.getAPIList("/files",kk,e)}del(e,t){return this.delete(`/files/${e}`,t)}retrieveContent(e,t){return this.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}}class kk extends I1{}v2||(v2={});class x2 extends Qr{create(e,t){return this.post("/fine-tunes",{body:e,...t})}retrieve(e,t){return this.get(`/fine-tunes/${e}`,t)}list(e){return this.getAPIList("/fine-tunes",Lk,e)}cancel(e,t){return this.post(`/fine-tunes/${e}/cancel`,t)}listEvents(e,t,r){var i;return this.get(`/fine-tunes/${e}/events`,{query:t,timeout:864e5,...r,stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1})}}class Lk extends I1{}x2||(x2={});class w2 extends Qr{create(e,t){return this.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return RT(e)?this.list({},e):this.getAPIList("/fine_tuning/jobs",Ok,{query:e,...t})}cancel(e,t){return this.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return RT(t)?this.listEvents(e,{},t):this.getAPIList(`/fine_tuning/jobs/${e}/events`,Fk,{query:t,...r})}}class Ok extends _x{}class Fk extends _x{}w2||(w2={});class b2 extends Qr{constructor(){super(...arguments),this.jobs=new w2(this.client)}}(function(n){n.Jobs=w2,n.FineTuningJobsPage=Ok,n.FineTuningJobEventsPage=Fk})(b2||(b2={}));class _2 extends Qr{createVariation(e,t){return this.post("/images/variations",bp({body:e,...t}))}edit(e,t){return this.post("/images/edits",bp({body:e,...t}))}generate(e,t){return this.post("/images/generations",{body:e,...t})}}_2||(_2={});class A2 extends Qr{retrieve(e,t){return this.get(`/models/${e}`,t)}list(e){return this.getAPIList("/models",Nk,e)}del(e,t){return this.delete(`/models/${e}`,t)}}class Nk extends I1{}A2||(A2={});class S2 extends Qr{create(e,t){return this.post("/moderations",{body:e,...t})}}S2||(S2={});var Uk;class xr extends toe{constructor(e){var t,r,{apiKey:i=kT("OPENAI_API_KEY"),organization:s=(t=kT("OPENAI_ORG_ID"))!==null&&t!==void 0?t:null,...o}=e===void 0?{}:e;if(i===void 0)throw new Error("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'my apiKey' }).");const a={apiKey:i,organization:s,baseURL:"https://api.openai.com/v1",...o};if(!a.dangerouslyAllowBrowser&&poe())throw new Error(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:(r=a.timeout)!==null&&r!==void 0?r:6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new m2(this),this.chat=new p2(this),this.edits=new y2(this),this.embeddings=new g2(this),this.files=new v2(this),this.images=new _2(this),this.audio=new f2(this),this.moderations=new S2(this),this.models=new A2(this),this.fineTuning=new b2(this),this.fineTunes=new x2(this),this._options=a,this.apiKey=i,this.organization=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Uk=xr;xr.OpenAI=Uk;xr.APIError=Bi;xr.APIConnectionError=h0;xr.APIConnectionTimeoutError=hx;xr.APIUserAbortError=l2;xr.NotFoundError=yx;xr.ConflictError=vx;xr.RateLimitError=wx;xr.BadRequestError=px;xr.AuthenticationError=mx;xr.InternalServerError=bx;xr.PermissionDeniedError=gx;xr.UnprocessableEntityError=xx;const{APIError:Ece,APIConnectionError:Pce,APIConnectionTimeoutError:moe,APIUserAbortError:goe,NotFoundError:Ice,ConflictError:Rce,RateLimitError:Bce,BadRequestError:Dce,AuthenticationError:kce,InternalServerError:Lce,PermissionDeniedError:Oce,UnprocessableEntityError:Fce}=Ose;(function(n){n.toFile=Pk,n.fileFromPath=Hse,n.Page=I1,n.CursorPage=_x,n.Completions=m2,n.Chat=p2,n.Edits=y2,n.Embeddings=g2,n.Files=v2,n.FileObjectsPage=kk,n.Images=_2,n.Audio=f2,n.Moderations=S2,n.Models=A2,n.ModelsPage=Nk,n.FineTuning=b2,n.FineTunes=x2,n.FineTunesPage=Lk})(xr||(xr={}));var yoe=Object.defineProperty,voe=(n,e,t)=>e in n?yoe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xoe=(n,e,t)=>(voe(n,typeof e!="symbol"?e+"":e,t),t),R1={};R1.byteLength=_oe;R1.toByteArray=Soe;R1.fromByteArray=Moe;var Js=[],Zi=[],woe=typeof Uint8Array<"u"?Uint8Array:Array,q5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Cc=0,boe=q5.length;Cc<boe;++Cc)Js[Cc]=q5[Cc],Zi[q5.charCodeAt(Cc)]=Cc;Zi["-".charCodeAt(0)]=62;Zi["_".charCodeAt(0)]=63;function Gk(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function _oe(n){var e=Gk(n),t=e[0],r=e[1];return(t+r)*3/4-r}function Aoe(n,e,t){return(e+t)*3/4-t}function Soe(n){var e,t=Gk(n),r=t[0],i=t[1],s=new woe(Aoe(n,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Zi[n.charCodeAt(l)]<<18|Zi[n.charCodeAt(l+1)]<<12|Zi[n.charCodeAt(l+2)]<<6|Zi[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Zi[n.charCodeAt(l)]<<2|Zi[n.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Zi[n.charCodeAt(l)]<<10|Zi[n.charCodeAt(l+1)]<<4|Zi[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Coe(n){return Js[n>>18&63]+Js[n>>12&63]+Js[n>>6&63]+Js[n&63]}function Toe(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(Coe(r));return i.join("")}function Moe(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(Toe(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(Js[e>>2]+Js[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Js[e>>10]+Js[e>>4&63]+Js[e<<2&63]+"=")),i.join("")}function Eoe(n,e){let t=Array.from({length:n.length},(r,i)=>({start:i,end:i+1}));for(;t.length>1;){let r=null;for(let i=0;i<t.length-1;i++){const s=n.slice(t[i].start,t[i+1].end),o=e.get(s.join(","));o!=null&&(r==null||o<r[0])&&(r=[o,i])}if(r!=null){const i=r[1];t[i]={start:t[i].start,end:t[i+1].end},t.splice(i+1,1)}else break}return t}function Poe(n,e){return n.length===1?[e.get(n.join(","))]:Eoe(n,e).map(t=>e.get(n.slice(t.start,t.end).join(","))).filter(t=>t!=null)}function Ioe(n){return n.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var S4=class{constructor(n,e){sa(this,"specialTokens");sa(this,"inverseSpecialTokens");sa(this,"patStr");sa(this,"textEncoder",new TextEncoder);sa(this,"textDecoder",new TextDecoder("utf-8"));sa(this,"rankMap",new Map);sa(this,"textMap",new Map);this.patStr=n.pat_str;const t=n.bpe_ranks.split(`
`).filter(Boolean).reduce((r,i)=>{const[s,o,...a]=i.split(" "),l=Number.parseInt(o,10);return a.forEach((u,c)=>r[u]=l+c),r},{});for(const[r,i]of Object.entries(t)){const s=R1.toByteArray(r);this.rankMap.set(s.join(","),i),this.textMap.set(i,s)}this.specialTokens={...n.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[i,s])=>(r[s]=this.textEncoder.encode(i),r),{})}encode(n,e=[],t="all"){const r=new RegExp(this.patStr,"ug"),i=S4.specialTokenRegex(Object.keys(this.specialTokens)),s=[],o=new Set(e==="all"?Object.keys(this.specialTokens):e),a=new Set(t==="all"?Object.keys(this.specialTokens).filter(u=>!o.has(u)):t);if(a.size>0){const u=S4.specialTokenRegex([...a]),c=n.match(u);if(c!=null)throw new Error(`The text contains a special token that is not allowed: ${c[0]}`)}let l=0;for(;;){let u=null,c=l;for(;i.lastIndex=c,u=i.exec(n),!(u==null||o.has(u[0]));)c=u.index+1;const f=(u==null?void 0:u.index)??n.length;for(const m of n.substring(l,f).matchAll(r)){const g=this.textEncoder.encode(m[0]),v=this.rankMap.get(g.join(","));if(v!=null){s.push(v);continue}s.push(...Poe(g,this.rankMap))}if(u==null)break;let h=this.specialTokens[u[0]];s.push(h),l=u.index+u[0].length}return s}decode(n){const e=[];let t=0;for(let s=0;s<n.length;++s){const o=n[s],a=this.textMap.get(o)??this.inverseSpecialTokens[o];a!=null&&(e.push(a),t+=a.length)}const r=new Uint8Array(t);let i=0;for(const s of e)r.set(s,i),i+=s.length;return this.textDecoder.decode(r)}},zk=S4;xoe(zk,"specialTokenRegex",n=>new RegExp(n.map(e=>Ioe(e)).join("|"),"g"));function Roe(n){switch(n){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"text-embedding-ada-002":return"cl100k_base";default:throw new Error("Unknown model")}}var B1={exports:{}},Hk={};function ss(n,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(n)),this._timeouts=n,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Boe=ss;ss.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};ss.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};ss.prototype.retry=function(n){if(this._timeout&&clearTimeout(this._timeout),!n)return!1;var e=new Date().getTime();if(n&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(n),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(n);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),t=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},t),this._options.unref&&this._timer.unref(),!0};ss.prototype.attempt=function(n,e){this._fn=n,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ss.prototype.try=function(n){console.log("Using RetryOperation.try() is deprecated"),this.attempt(n)};ss.prototype.start=function(n){console.log("Using RetryOperation.start() is deprecated"),this.attempt(n)};ss.prototype.start=ss.prototype.try;ss.prototype.errors=function(){return this._errors};ss.prototype.attempts=function(){return this._attempts};ss.prototype.mainError=function(){if(this._errors.length===0)return null;for(var n={},e=null,t=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,o=(n[s]||0)+1;n[s]=o,o>=t&&(e=i,t=o)}return e};(function(n){var e=Boe;n.operation=function(t){var r=n.timeouts(t);return new e(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},n.timeouts=function(t){if(t instanceof Array)return[].concat(t);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in t)r[i]=t[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<r.retries;o++)s.push(this.createTimeout(o,r));return t&&t.forever&&!s.length&&s.push(this.createTimeout(o,r)),s.sort(function(a,l){return a-l}),s},n.createTimeout=function(t,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,t));return s=Math.min(s,r.maxTimeout),s},n.wrap=function(t,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in t)typeof t[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=t[a];t[a]=(function(c){var f=n.operation(r),h=Array.prototype.slice.call(arguments,1),m=h.pop();h.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),m.apply(this,arguments))}),f.attempt(function(){c.apply(t,h)})}).bind(t,l),t[a].options=r}}})(Hk);var Doe=Hk;const koe=Doe,Loe=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class Vk extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Ooe=(n,e,t)=>{const r=t.retries-(e-1);return n.attemptNumber=e,n.retriesLeft=r,n},Foe=n=>Loe.includes(n),Wk=(n,e)=>new Promise((t,r)=>{e={onFailedAttempt:()=>{},retries:10,...e};const i=koe.operation(e);i.attempt(async s=>{try{t(await n(s))}catch(o){if(!(o instanceof Error)){r(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof Vk)i.stop(),r(o.originalError);else if(o instanceof TypeError&&!Foe(o.message))i.stop(),r(o);else{Ooe(o,s,e);try{await e.onFailedAttempt(o)}catch(a){r(a);return}i.retry(o)||r(i.mainError())}}})});B1.exports=Wk;B1.exports.default=Wk;B1.exports.AbortError=Vk;var Noe=B1.exports;const C2=il(Noe);var jk={},Zk={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),g=t?t+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=t?t+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},a.prototype.listenerCount=function(u){var c=t?t+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,m,g){var v=t?t+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,h),!0;case 5:return y.fn.call(y.context,c,f,h,m),!0;case 6:return y.fn.call(y.context,c,f,h,m,g),!0}for(b=1,_=new Array(x-1);b<x;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var S=y.length,R;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,f);break;case 4:y[b].fn.call(y[b].context,c,f,h);break;default:if(!_)for(R=1,_=new Array(x-1);R<x;R++)_[R-1]=arguments[R];y[b].fn.apply(y[b].context,_)}}return!0},a.prototype.on=function(u,c,f){return s(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return s(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var m=t?t+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,y=[],x=g.length;v<x;v++)(g[v].fn!==c||h&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(Zk);var Uoe=Zk.exports,D1={exports:{}},Goe=(n,e)=>(e=e||(()=>{}),n.then(t=>new Promise(r=>{r(e())}).then(()=>t),t=>new Promise(r=>{r(e())}).then(()=>{throw t})));const zoe=Goe;class Jk extends Error{constructor(e){super(e),this.name="TimeoutError"}}const qk=(n,e,t)=>new Promise((r,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){r(n);return}const s=setTimeout(()=>{if(typeof t=="function"){try{r(t())}catch(l){i(l)}return}const o=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,a=t instanceof Error?t:new Jk(o);typeof n.cancel=="function"&&n.cancel(),i(a)},e);zoe(n.then(r,i),()=>{clearTimeout(s)})});D1.exports=qk;D1.exports.default=qk;D1.exports.TimeoutError=Jk;var Hoe=D1.exports,Ax={},Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});function Voe(n,e,t){let r=0,i=n.length;for(;i>0;){const s=i/2|0;let o=r+s;t(n[o],e)<=0?(r=++o,i-=s+1):i=s}return r}Sx.default=Voe;Object.defineProperty(Ax,"__esModule",{value:!0});const Woe=Sx;class joe{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);const r={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(r);return}const i=Woe.default(this._queue,r,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}}Ax.default=joe;Object.defineProperty(jk,"__esModule",{value:!0});const Zoe=Uoe,Xk=Hoe,Joe=Ax,k3=()=>{},qoe=new Xk.TimeoutError;class Xoe extends Zoe{constructor(e){var t,r,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=k3,this._resolveIdle=k3,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Joe.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=k3,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=k3,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(this._intervalId===void 0){const t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((r,i)=>{const s=async()=>{this._pendingCount++,this._intervalCount++;try{const o=this._timeout===void 0&&t.timeout===void 0?e():Xk.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&i(qoe)});r(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async r=>this.add(r,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}var zo=jk.default=Xoe;const Koe=[400,401,402,403,404,405,406,407,408,409],Yoe=n=>{var t,r;if(n.message.startsWith("Cancel")||n.message.startsWith("TimeoutError")||n.name==="TimeoutError"||n.message.startsWith("AbortError")||n.name==="AbortError"||(n==null?void 0:n.code)==="ECONNABORTED")throw n;const e=((t=n==null?void 0:n.response)==null?void 0:t.status)??(n==null?void 0:n.status);if(e&&Koe.includes(+e))throw n;if(((r=n==null?void 0:n.error)==null?void 0:r.code)==="insufficient_quota"){const i=new Error(n==null?void 0:n.message);throw i.name="InsufficientQuotaError",i}};let Cx=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??Yoe;const t="default"in zo?zo.default:zo;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>C2(()=>e(...t).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){return e.signal?Promise.race([this.call(t,...r),new Promise((i,s)=>{var o;(o=e.signal)==null||o.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}};const L3={},Qoe=new Cx({});async function $oe(n,e){return n in L3||(L3[n]=Qoe.fetch(`https://tiktoken.pages.dev/js/${n}.json`,{signal:e==null?void 0:e.signal}).then(t=>t.json()).catch(t=>{throw delete L3[n],t})),new zk(await L3[n],e==null?void 0:e.extendedSpecialTokens)}async function eae(n,e){return $oe(Roe(n),e)}const C4=n=>n.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":n.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":n.startsWith("gpt-4-32k")?"gpt-4-32k":n.startsWith("gpt-4-")?"gpt-4":n;var tae=function(n,e){if(typeof n!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,n.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()};const nae=il(tae);var Kk={exports:{}};const rae=/[\p{Lu}]/u,iae=/[\p{Ll}]/u,LT=/^[\p{Lu}](?![\p{Lu}])/gu,Yk=/([\p{Alpha}\p{N}_]|$)/u,Qk=/[_.\- ]+/,sae=new RegExp("^"+Qk.source),OT=new RegExp(Qk.source+Yk.source,"gu"),FT=new RegExp("\\d+"+Yk.source,"gu"),oae=(n,e,t)=>{let r=!1,i=!1,s=!1;for(let o=0;o<n.length;o++){const a=n[o];r&&rae.test(a)?(n=n.slice(0,o)+"-"+n.slice(o),r=!1,s=i,i=!0,o++):i&&s&&iae.test(a)?(n=n.slice(0,o-1)+"-"+n.slice(o-1),s=i,i=!1,r=!0):(r=e(a)===a&&t(a)!==a,s=i,i=t(a)===a&&e(a)!==a)}return n},aae=(n,e)=>(LT.lastIndex=0,n.replace(LT,t=>e(t))),lae=(n,e)=>(OT.lastIndex=0,FT.lastIndex=0,n.replace(OT,(t,r)=>e(r)).replace(FT,t=>e(t))),$k=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(n)?n=n.map(s=>s.trim()).filter(s=>s.length).join("-"):n=n.trim(),n.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),r=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return n.length===1?e.pascalCase?r(n):t(n):(n!==t(n)&&(n=oae(n,t,r)),n=n.replace(sae,""),e.preserveConsecutiveUppercase?n=aae(n,t):n=t(n),e.pascalCase&&(n=r(n.charAt(0))+n.slice(1)),lae(n,r))};Kk.exports=$k;Kk.exports.default=$k;function uae(n,e){return(e==null?void 0:e[n])||nae(n)}function cae(n,e,t){const r={};for(const i in n)Object.hasOwn(n,i)&&(r[e(i,t)]=n[i]);return r}function NT(n){return Array.isArray(n)?[...n]:{...n}}function dae(n,e){const t=NT(n);for(const[r,i]of Object.entries(e)){const[s,...o]=r.split(".").reverse();let a=t;for(const l of o.reverse()){if(a[l]===void 0)break;a[l]=NT(a[l]),a=a[l]}a[s]!==void 0&&(a[s]={lc:1,type:"secret",id:[i]})}return t}function eL(n){const e=Object.getPrototypeOf(n);return typeof n.lc_name=="function"&&(typeof e.lc_name!="function"||n.lc_name()!==e.lc_name())?n.lc_name():n.name}class Iu{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,eL(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Iu||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},r=Object.keys(this.lc_kwargs).reduce((i,s)=>(i[s]=s in this?this[s]:this.lc_kwargs[s],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(t,Reflect.get(i,"lc_secrets",this)),Object.assign(r,Reflect.get(i,"lc_attributes",this));return Object.keys(t).forEach(i=>{let s=this,o=r;const[a,...l]=i.split(".").reverse();for(const u of l.reverse()){if(!(u in s)||s[u]===void 0)return;(!(u in o)||o[u]===void 0)&&(typeof s[u]=="object"&&s[u]!=null?o[u]={}:Array.isArray(s[u])&&(o[u]=[])),s=s[u],o=o[u]}a in s&&s[a]!==void 0&&(o[a]=o[a]||s[a])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:cae(Object.keys(t).length?dae(r,t):r,uae,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}const fae="__run";class Tx{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new Tx({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class p0 extends Iu{get text(){return this.content}constructor(e,t){typeof e=="string"&&(e={content:e,additional_kwargs:t}),e.additional_kwargs||(e.additional_kwargs={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}class m0 extends p0{static _mergeAdditionalKwargs(e,t){const r={...e};for(const[i,s]of Object.entries(t))if(r[i]===void 0)r[i]=s;else{if(typeof r[i]!=typeof s)throw new Error(`additional_kwargs[${i}] already exists in the message chunk, but with a different type.`);if(typeof r[i]=="string")r[i]=r[i]+s;else if(!Array.isArray(r[i])&&typeof r[i]=="object")r[i]=this._mergeAdditionalKwargs(r[i],s);else throw new Error(`additional_kwargs[${i}] already exists in this message chunk.`)}return r}}class _p extends p0{static lc_name(){return"HumanMessage"}_getType(){return"human"}}class T2 extends m0{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new T2({content:this.content+e.content,additional_kwargs:T2._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class tL extends p0{static lc_name(){return"AIMessage"}_getType(){return"ai"}}class M2 extends m0{static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){return new M2({content:this.content+e.content,additional_kwargs:M2._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class nL extends p0{static lc_name(){return"SystemMessage"}_getType(){return"system"}}class E2 extends m0{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new E2({content:this.content+e.content,additional_kwargs:E2._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs)})}}class P2 extends m0{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new P2({content:this.content+e.content,additional_kwargs:P2._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),name:this.name??""})}}class rL extends p0{static lc_name(){return"ChatMessage"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}}function hae(n){return typeof n._getType=="function"}function ug(n){if(typeof n=="string")return new _p(n);if(hae(n))return n;const[e,t]=n;if(e==="human"||e==="user")return new _p({content:t});if(e==="ai"||e==="assistant")return new tL({content:t});if(e==="system")return new nL({content:t});throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}class I2 extends m0{static lc_name(){return"ChatMessageChunk"}constructor(e,t){typeof e=="string"&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new I2({content:this.content+e.content,additional_kwargs:I2._mergeAdditionalKwargs(this.additional_kwargs,e.additional_kwargs),role:this.role})}}class Mx extends Tx{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Mx({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}class iL extends Iu{}class pae{}var sL={},k1={},Jf={},L1={},T4={},to={},O1={},g0={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getParsedType=n.ZodParsedType=n.objectUtil=n.util=void 0;var e;(function(r){r.assertEqual=a=>a;function i(a){}r.assertIs=i;function s(a){throw new Error}r.assertNever=s,r.arrayToEnum=a=>{const l={};for(const u of a)l[u]=u;return l},r.getValidEnumValues=a=>{const l=r.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),u={};for(const c of l)u[c]=a[c];return r.objectValues(u)},r.objectValues=a=>r.objectKeys(a).map(function(l){return a[l]}),r.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&l.push(u);return l},r.find=(a,l)=>{for(const u of a)if(l(u))return u},r.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function o(a,l=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(l)}r.joinValues=o,r.jsonStringifyReplacer=(a,l)=>typeof l=="bigint"?l.toString():l})(e=n.util||(n.util={})),function(r){r.mergeShapes=(i,s)=>({...i,...s})}(n.objectUtil||(n.objectUtil={})),n.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const t=r=>{switch(typeof r){case"undefined":return n.ZodParsedType.undefined;case"string":return n.ZodParsedType.string;case"number":return isNaN(r)?n.ZodParsedType.nan:n.ZodParsedType.number;case"boolean":return n.ZodParsedType.boolean;case"function":return n.ZodParsedType.function;case"bigint":return n.ZodParsedType.bigint;case"symbol":return n.ZodParsedType.symbol;case"object":return Array.isArray(r)?n.ZodParsedType.array:r===null?n.ZodParsedType.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?n.ZodParsedType.promise:typeof Map<"u"&&r instanceof Map?n.ZodParsedType.map:typeof Set<"u"&&r instanceof Set?n.ZodParsedType.set:typeof Date<"u"&&r instanceof Date?n.ZodParsedType.date:n.ZodParsedType.object;default:return n.ZodParsedType.unknown}};n.getParsedType=t})(g0);var no={};Object.defineProperty(no,"__esModule",{value:!0});no.ZodError=no.quotelessJson=no.ZodIssueCode=void 0;const oL=g0;no.ZodIssueCode=oL.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const mae=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");no.quotelessJson=mae;class M4 extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,oL.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}no.ZodError=M4;M4.create=n=>new M4(n);Object.defineProperty(O1,"__esModule",{value:!0});const Fl=g0,Er=no,gae=(n,e)=>{let t;switch(n.code){case Er.ZodIssueCode.invalid_type:n.received===Fl.ZodParsedType.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Er.ZodIssueCode.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Fl.util.jsonStringifyReplacer)}`;break;case Er.ZodIssueCode.unrecognized_keys:t=`Unrecognized key(s) in object: ${Fl.util.joinValues(n.keys,", ")}`;break;case Er.ZodIssueCode.invalid_union:t="Invalid input";break;case Er.ZodIssueCode.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Fl.util.joinValues(n.options)}`;break;case Er.ZodIssueCode.invalid_enum_value:t=`Invalid enum value. Expected ${Fl.util.joinValues(n.options)}, received '${n.received}'`;break;case Er.ZodIssueCode.invalid_arguments:t="Invalid function arguments";break;case Er.ZodIssueCode.invalid_return_type:t="Invalid function return type";break;case Er.ZodIssueCode.invalid_date:t="Invalid date";break;case Er.ZodIssueCode.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Fl.util.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Er.ZodIssueCode.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Er.ZodIssueCode.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Er.ZodIssueCode.custom:t="Invalid input";break;case Er.ZodIssueCode.invalid_intersection_types:t="Intersection results could not be merged";break;case Er.ZodIssueCode.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Er.ZodIssueCode.not_finite:t="Number must be finite";break;default:t=e.defaultError,Fl.util.assertNever(n)}return{message:t}};O1.default=gae;var yae=ir&&ir.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(to,"__esModule",{value:!0});to.getErrorMap=to.setErrorMap=to.defaultErrorMap=void 0;const aL=yae(O1);to.defaultErrorMap=aL.default;let lL=aL.default;function vae(n){lL=n}to.setErrorMap=vae;function xae(){return lL}to.getErrorMap=xae;var Ex={};(function(n){var e=ir&&ir.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.isAsync=n.isValid=n.isDirty=n.isAborted=n.OK=n.DIRTY=n.INVALID=n.ParseStatus=n.addIssueToContext=n.EMPTY_PATH=n.makeIssue=void 0;const t=to,r=e(O1),i=m=>{const{data:g,path:v,errorMaps:y,issueData:x}=m,_=[...v,...x.path||[]],b={...x,path:_};let S="";const R=y.filter(T=>!!T).slice().reverse();for(const T of R)S=T(b,{data:g,defaultError:S}).message;return{...x,path:_,message:x.message||S}};n.makeIssue=i,n.EMPTY_PATH=[];function s(m,g){const v=(0,n.makeIssue)({issueData:g,data:m.data,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,t.getErrorMap)(),r.default].filter(y=>!!y)});m.common.issues.push(v)}n.addIssueToContext=s;class o{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(g,v){const y=[];for(const x of v){if(x.status==="aborted")return n.INVALID;x.status==="dirty"&&g.dirty(),y.push(x.value)}return{status:g.value,value:y}}static async mergeObjectAsync(g,v){const y=[];for(const x of v)y.push({key:await x.key,value:await x.value});return o.mergeObjectSync(g,y)}static mergeObjectSync(g,v){const y={};for(const x of v){const{key:_,value:b}=x;if(_.status==="aborted"||b.status==="aborted")return n.INVALID;_.status==="dirty"&&g.dirty(),b.status==="dirty"&&g.dirty(),_.value!=="__proto__"&&(typeof b.value<"u"||x.alwaysSet)&&(y[_.value]=b.value)}return{status:g.value,value:y}}}n.ParseStatus=o,n.INVALID=Object.freeze({status:"aborted"});const a=m=>({status:"dirty",value:m});n.DIRTY=a;const l=m=>({status:"valid",value:m});n.OK=l;const u=m=>m.status==="aborted";n.isAborted=u;const c=m=>m.status==="dirty";n.isDirty=c;const f=m=>m.status==="valid";n.isValid=f;const h=m=>typeof Promise<"u"&&m instanceof Promise;n.isAsync=h})(Ex);var uL={};Object.defineProperty(uL,"__esModule",{value:!0});var cL={},dL={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.errorUtil=void 0,function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message}(n.errorUtil||(n.errorUtil={}))})(dL);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.date=n.boolean=n.bigint=n.array=n.any=n.coerce=n.ZodFirstPartyTypeKind=n.late=n.ZodSchema=n.Schema=n.custom=n.ZodReadonly=n.ZodPipeline=n.ZodBranded=n.BRAND=n.ZodNaN=n.ZodCatch=n.ZodDefault=n.ZodNullable=n.ZodOptional=n.ZodTransformer=n.ZodEffects=n.ZodPromise=n.ZodNativeEnum=n.ZodEnum=n.ZodLiteral=n.ZodLazy=n.ZodFunction=n.ZodSet=n.ZodMap=n.ZodRecord=n.ZodTuple=n.ZodIntersection=n.ZodDiscriminatedUnion=n.ZodUnion=n.ZodObject=n.ZodArray=n.ZodVoid=n.ZodNever=n.ZodUnknown=n.ZodAny=n.ZodNull=n.ZodUndefined=n.ZodSymbol=n.ZodDate=n.ZodBoolean=n.ZodBigInt=n.ZodNumber=n.ZodString=n.ZodType=void 0,n.NEVER=n.void=n.unknown=n.union=n.undefined=n.tuple=n.transformer=n.symbol=n.string=n.strictObject=n.set=n.record=n.promise=n.preprocess=n.pipeline=n.ostring=n.optional=n.onumber=n.oboolean=n.object=n.number=n.nullable=n.null=n.never=n.nativeEnum=n.nan=n.map=n.literal=n.lazy=n.intersection=n.instanceof=n.function=n.enum=n.effect=n.discriminatedUnion=void 0;const e=to,t=dL,r=Ex,i=g0,s=no;class o{constructor(E,L,z,ae){this._cachedPath=[],this.parent=E,this.data=L,this._path=z,this._key=ae}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a=(K,E)=>{if((0,r.isValid)(E))return{success:!0,data:E.value};if(!K.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const L=new s.ZodError(K.common.issues);return this._error=L,this._error}}};function l(K){if(!K)return{};const{errorMap:E,invalid_type_error:L,required_error:z,description:ae}=K;if(E&&(L||z))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return E?{errorMap:E,description:ae}:{errorMap:(Ae,De)=>Ae.code!=="invalid_type"?{message:De.defaultError}:typeof De.data>"u"?{message:z??De.defaultError}:{message:L??De.defaultError},description:ae}}class u{constructor(E){this.spa=this.safeParseAsync,this._def=E,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(E){return(0,i.getParsedType)(E.data)}_getOrReturnCtx(E,L){return L||{common:E.parent.common,data:E.data,parsedType:(0,i.getParsedType)(E.data),schemaErrorMap:this._def.errorMap,path:E.path,parent:E.parent}}_processInputParams(E){return{status:new r.ParseStatus,ctx:{common:E.parent.common,data:E.data,parsedType:(0,i.getParsedType)(E.data),schemaErrorMap:this._def.errorMap,path:E.path,parent:E.parent}}}_parseSync(E){const L=this._parse(E);if((0,r.isAsync)(L))throw new Error("Synchronous parse encountered promise.");return L}_parseAsync(E){const L=this._parse(E);return Promise.resolve(L)}parse(E,L){const z=this.safeParse(E,L);if(z.success)return z.data;throw z.error}safeParse(E,L){var z;const ae={common:{issues:[],async:(z=L==null?void 0:L.async)!==null&&z!==void 0?z:!1,contextualErrorMap:L==null?void 0:L.errorMap},path:(L==null?void 0:L.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:E,parsedType:(0,i.getParsedType)(E)},ne=this._parseSync({data:E,path:ae.path,parent:ae});return a(ae,ne)}async parseAsync(E,L){const z=await this.safeParseAsync(E,L);if(z.success)return z.data;throw z.error}async safeParseAsync(E,L){const z={common:{issues:[],contextualErrorMap:L==null?void 0:L.errorMap,async:!0},path:(L==null?void 0:L.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:E,parsedType:(0,i.getParsedType)(E)},ae=this._parse({data:E,path:z.path,parent:z}),ne=await((0,r.isAsync)(ae)?ae:Promise.resolve(ae));return a(z,ne)}refine(E,L){const z=ae=>typeof L=="string"||typeof L>"u"?{message:L}:typeof L=="function"?L(ae):L;return this._refinement((ae,ne)=>{const Ae=E(ae),De=()=>ne.addIssue({code:s.ZodIssueCode.custom,...z(ae)});return typeof Promise<"u"&&Ae instanceof Promise?Ae.then(Ke=>Ke?!0:(De(),!1)):Ae?!0:(De(),!1)})}refinement(E,L){return this._refinement((z,ae)=>E(z)?!0:(ae.addIssue(typeof L=="function"?L(z,ae):L),!1))}_refinement(E){return new He({schema:this,typeName:Ce.ZodEffects,effect:{type:"refinement",refinement:E}})}superRefine(E){return this._refinement(E)}optional(){return je.create(this,this._def)}nullable(){return We.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return N.create(this,this._def)}promise(){return ke.create(this,this._def)}or(E){return oe.create([this,E],this._def)}and(E){return Me.create(this,E,this._def)}transform(E){return new He({...l(this._def),schema:this,typeName:Ce.ZodEffects,effect:{type:"transform",transform:E}})}default(E){const L=typeof E=="function"?E:()=>E;return new pt({...l(this._def),innerType:this,defaultValue:L,typeName:Ce.ZodDefault})}brand(){return new G({typeName:Ce.ZodBranded,type:this,...l(this._def)})}catch(E){const L=typeof E=="function"?E:()=>E;return new ut({...l(this._def),innerType:this,catchValue:L,typeName:Ce.ZodCatch})}describe(E){const L=this.constructor;return new L({...this._def,description:E})}pipe(E){return we.create(this,E)}readonly(){return Ne.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}n.ZodType=u,n.Schema=u,n.ZodSchema=u;const c=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,h=/^[0-9A-HJKMNP-TV-Z]{26}$/,m=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,v="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let y;const x=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,_=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,b=K=>K.precision?K.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${K.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${K.precision}}Z$`):K.precision===0?K.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):K.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function S(K,E){return!!((E==="v4"||!E)&&x.test(K)||(E==="v6"||!E)&&_.test(K))}class R extends u{_parse(E){if(this._def.coerce&&(E.data=String(E.data)),this._getType(E)!==i.ZodParsedType.string){const ne=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(ne,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:ne.parsedType}),r.INVALID}const z=new r.ParseStatus;let ae;for(const ne of this._def.checks)if(ne.kind==="min")E.data.length<ne.value&&(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.too_small,minimum:ne.value,type:"string",inclusive:!0,exact:!1,message:ne.message}),z.dirty());else if(ne.kind==="max")E.data.length>ne.value&&(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.too_big,maximum:ne.value,type:"string",inclusive:!0,exact:!1,message:ne.message}),z.dirty());else if(ne.kind==="length"){const Ae=E.data.length>ne.value,De=E.data.length<ne.value;(Ae||De)&&(ae=this._getOrReturnCtx(E,ae),Ae?(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.too_big,maximum:ne.value,type:"string",inclusive:!0,exact:!0,message:ne.message}):De&&(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.too_small,minimum:ne.value,type:"string",inclusive:!0,exact:!0,message:ne.message}),z.dirty())}else if(ne.kind==="email")g.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"email",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty());else if(ne.kind==="emoji")y||(y=new RegExp(v,"u")),y.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty());else if(ne.kind==="uuid")m.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty());else if(ne.kind==="cuid")c.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty());else if(ne.kind==="cuid2")f.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty());else if(ne.kind==="ulid")h.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty());else if(ne.kind==="url")try{new URL(E.data)}catch{ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"url",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty()}else ne.kind==="regex"?(ne.regex.lastIndex=0,ne.regex.test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty())):ne.kind==="trim"?E.data=E.data.trim():ne.kind==="includes"?E.data.includes(ne.value,ne.position)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.invalid_string,validation:{includes:ne.value,position:ne.position},message:ne.message}),z.dirty()):ne.kind==="toLowerCase"?E.data=E.data.toLowerCase():ne.kind==="toUpperCase"?E.data=E.data.toUpperCase():ne.kind==="startsWith"?E.data.startsWith(ne.value)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:ne.value},message:ne.message}),z.dirty()):ne.kind==="endsWith"?E.data.endsWith(ne.value)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:ne.value},message:ne.message}),z.dirty()):ne.kind==="datetime"?b(ne).test(E.data)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:ne.message}),z.dirty()):ne.kind==="ip"?S(E.data,ne.version)||(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:ne.message}),z.dirty()):i.util.assertNever(ne);return{status:z.value,value:E.data}}_regex(E,L,z){return this.refinement(ae=>E.test(ae),{validation:L,code:s.ZodIssueCode.invalid_string,...t.errorUtil.errToObj(z)})}_addCheck(E){return new R({...this._def,checks:[...this._def.checks,E]})}email(E){return this._addCheck({kind:"email",...t.errorUtil.errToObj(E)})}url(E){return this._addCheck({kind:"url",...t.errorUtil.errToObj(E)})}emoji(E){return this._addCheck({kind:"emoji",...t.errorUtil.errToObj(E)})}uuid(E){return this._addCheck({kind:"uuid",...t.errorUtil.errToObj(E)})}cuid(E){return this._addCheck({kind:"cuid",...t.errorUtil.errToObj(E)})}cuid2(E){return this._addCheck({kind:"cuid2",...t.errorUtil.errToObj(E)})}ulid(E){return this._addCheck({kind:"ulid",...t.errorUtil.errToObj(E)})}ip(E){return this._addCheck({kind:"ip",...t.errorUtil.errToObj(E)})}datetime(E){var L;return typeof E=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:E}):this._addCheck({kind:"datetime",precision:typeof(E==null?void 0:E.precision)>"u"?null:E==null?void 0:E.precision,offset:(L=E==null?void 0:E.offset)!==null&&L!==void 0?L:!1,...t.errorUtil.errToObj(E==null?void 0:E.message)})}regex(E,L){return this._addCheck({kind:"regex",regex:E,...t.errorUtil.errToObj(L)})}includes(E,L){return this._addCheck({kind:"includes",value:E,position:L==null?void 0:L.position,...t.errorUtil.errToObj(L==null?void 0:L.message)})}startsWith(E,L){return this._addCheck({kind:"startsWith",value:E,...t.errorUtil.errToObj(L)})}endsWith(E,L){return this._addCheck({kind:"endsWith",value:E,...t.errorUtil.errToObj(L)})}min(E,L){return this._addCheck({kind:"min",value:E,...t.errorUtil.errToObj(L)})}max(E,L){return this._addCheck({kind:"max",value:E,...t.errorUtil.errToObj(L)})}length(E,L){return this._addCheck({kind:"length",value:E,...t.errorUtil.errToObj(L)})}nonempty(E){return this.min(1,t.errorUtil.errToObj(E))}trim(){return new R({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new R({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new R({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(E=>E.kind==="datetime")}get isEmail(){return!!this._def.checks.find(E=>E.kind==="email")}get isURL(){return!!this._def.checks.find(E=>E.kind==="url")}get isEmoji(){return!!this._def.checks.find(E=>E.kind==="emoji")}get isUUID(){return!!this._def.checks.find(E=>E.kind==="uuid")}get isCUID(){return!!this._def.checks.find(E=>E.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(E=>E.kind==="cuid2")}get isULID(){return!!this._def.checks.find(E=>E.kind==="ulid")}get isIP(){return!!this._def.checks.find(E=>E.kind==="ip")}get minLength(){let E=null;for(const L of this._def.checks)L.kind==="min"&&(E===null||L.value>E)&&(E=L.value);return E}get maxLength(){let E=null;for(const L of this._def.checks)L.kind==="max"&&(E===null||L.value<E)&&(E=L.value);return E}}n.ZodString=R,R.create=K=>{var E;return new R({checks:[],typeName:Ce.ZodString,coerce:(E=K==null?void 0:K.coerce)!==null&&E!==void 0?E:!1,...l(K)})};function T(K,E){const L=(K.toString().split(".")[1]||"").length,z=(E.toString().split(".")[1]||"").length,ae=L>z?L:z,ne=parseInt(K.toFixed(ae).replace(".","")),Ae=parseInt(E.toFixed(ae).replace(".",""));return ne%Ae/Math.pow(10,ae)}class B extends u{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(E){if(this._def.coerce&&(E.data=Number(E.data)),this._getType(E)!==i.ZodParsedType.number){const ne=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(ne,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:ne.parsedType}),r.INVALID}let z;const ae=new r.ParseStatus;for(const ne of this._def.checks)ne.kind==="int"?i.util.isInteger(E.data)||(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:ne.message}),ae.dirty()):ne.kind==="min"?(ne.inclusive?E.data<ne.value:E.data<=ne.value)&&(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_small,minimum:ne.value,type:"number",inclusive:ne.inclusive,exact:!1,message:ne.message}),ae.dirty()):ne.kind==="max"?(ne.inclusive?E.data>ne.value:E.data>=ne.value)&&(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_big,maximum:ne.value,type:"number",inclusive:ne.inclusive,exact:!1,message:ne.message}),ae.dirty()):ne.kind==="multipleOf"?T(E.data,ne.value)!==0&&(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.not_multiple_of,multipleOf:ne.value,message:ne.message}),ae.dirty()):ne.kind==="finite"?Number.isFinite(E.data)||(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.not_finite,message:ne.message}),ae.dirty()):i.util.assertNever(ne);return{status:ae.value,value:E.data}}gte(E,L){return this.setLimit("min",E,!0,t.errorUtil.toString(L))}gt(E,L){return this.setLimit("min",E,!1,t.errorUtil.toString(L))}lte(E,L){return this.setLimit("max",E,!0,t.errorUtil.toString(L))}lt(E,L){return this.setLimit("max",E,!1,t.errorUtil.toString(L))}setLimit(E,L,z,ae){return new B({...this._def,checks:[...this._def.checks,{kind:E,value:L,inclusive:z,message:t.errorUtil.toString(ae)}]})}_addCheck(E){return new B({...this._def,checks:[...this._def.checks,E]})}int(E){return this._addCheck({kind:"int",message:t.errorUtil.toString(E)})}positive(E){return this._addCheck({kind:"min",value:0,inclusive:!1,message:t.errorUtil.toString(E)})}negative(E){return this._addCheck({kind:"max",value:0,inclusive:!1,message:t.errorUtil.toString(E)})}nonpositive(E){return this._addCheck({kind:"max",value:0,inclusive:!0,message:t.errorUtil.toString(E)})}nonnegative(E){return this._addCheck({kind:"min",value:0,inclusive:!0,message:t.errorUtil.toString(E)})}multipleOf(E,L){return this._addCheck({kind:"multipleOf",value:E,message:t.errorUtil.toString(L)})}finite(E){return this._addCheck({kind:"finite",message:t.errorUtil.toString(E)})}safe(E){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:t.errorUtil.toString(E)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:t.errorUtil.toString(E)})}get minValue(){let E=null;for(const L of this._def.checks)L.kind==="min"&&(E===null||L.value>E)&&(E=L.value);return E}get maxValue(){let E=null;for(const L of this._def.checks)L.kind==="max"&&(E===null||L.value<E)&&(E=L.value);return E}get isInt(){return!!this._def.checks.find(E=>E.kind==="int"||E.kind==="multipleOf"&&i.util.isInteger(E.value))}get isFinite(){let E=null,L=null;for(const z of this._def.checks){if(z.kind==="finite"||z.kind==="int"||z.kind==="multipleOf")return!0;z.kind==="min"?(L===null||z.value>L)&&(L=z.value):z.kind==="max"&&(E===null||z.value<E)&&(E=z.value)}return Number.isFinite(L)&&Number.isFinite(E)}}n.ZodNumber=B,B.create=K=>new B({checks:[],typeName:Ce.ZodNumber,coerce:(K==null?void 0:K.coerce)||!1,...l(K)});class C extends u{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(E){if(this._def.coerce&&(E.data=BigInt(E.data)),this._getType(E)!==i.ZodParsedType.bigint){const ne=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(ne,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:ne.parsedType}),r.INVALID}let z;const ae=new r.ParseStatus;for(const ne of this._def.checks)ne.kind==="min"?(ne.inclusive?E.data<ne.value:E.data<=ne.value)&&(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:ne.value,inclusive:ne.inclusive,message:ne.message}),ae.dirty()):ne.kind==="max"?(ne.inclusive?E.data>ne.value:E.data>=ne.value)&&(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:ne.value,inclusive:ne.inclusive,message:ne.message}),ae.dirty()):ne.kind==="multipleOf"?E.data%ne.value!==BigInt(0)&&(z=this._getOrReturnCtx(E,z),(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.not_multiple_of,multipleOf:ne.value,message:ne.message}),ae.dirty()):i.util.assertNever(ne);return{status:ae.value,value:E.data}}gte(E,L){return this.setLimit("min",E,!0,t.errorUtil.toString(L))}gt(E,L){return this.setLimit("min",E,!1,t.errorUtil.toString(L))}lte(E,L){return this.setLimit("max",E,!0,t.errorUtil.toString(L))}lt(E,L){return this.setLimit("max",E,!1,t.errorUtil.toString(L))}setLimit(E,L,z,ae){return new C({...this._def,checks:[...this._def.checks,{kind:E,value:L,inclusive:z,message:t.errorUtil.toString(ae)}]})}_addCheck(E){return new C({...this._def,checks:[...this._def.checks,E]})}positive(E){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(E)})}negative(E){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:t.errorUtil.toString(E)})}nonpositive(E){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(E)})}nonnegative(E){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:t.errorUtil.toString(E)})}multipleOf(E,L){return this._addCheck({kind:"multipleOf",value:E,message:t.errorUtil.toString(L)})}get minValue(){let E=null;for(const L of this._def.checks)L.kind==="min"&&(E===null||L.value>E)&&(E=L.value);return E}get maxValue(){let E=null;for(const L of this._def.checks)L.kind==="max"&&(E===null||L.value<E)&&(E=L.value);return E}}n.ZodBigInt=C,C.create=K=>{var E;return new C({checks:[],typeName:Ce.ZodBigInt,coerce:(E=K==null?void 0:K.coerce)!==null&&E!==void 0?E:!1,...l(K)})};class P extends u{_parse(E){if(this._def.coerce&&(E.data=!!E.data),this._getType(E)!==i.ZodParsedType.boolean){const z=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:z.parsedType}),r.INVALID}return(0,r.OK)(E.data)}}n.ZodBoolean=P,P.create=K=>new P({typeName:Ce.ZodBoolean,coerce:(K==null?void 0:K.coerce)||!1,...l(K)});class I extends u{_parse(E){if(this._def.coerce&&(E.data=new Date(E.data)),this._getType(E)!==i.ZodParsedType.date){const ne=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(ne,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:ne.parsedType}),r.INVALID}if(isNaN(E.data.getTime())){const ne=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(ne,{code:s.ZodIssueCode.invalid_date}),r.INVALID}const z=new r.ParseStatus;let ae;for(const ne of this._def.checks)ne.kind==="min"?E.data.getTime()<ne.value&&(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.too_small,message:ne.message,inclusive:!0,exact:!1,minimum:ne.value,type:"date"}),z.dirty()):ne.kind==="max"?E.data.getTime()>ne.value&&(ae=this._getOrReturnCtx(E,ae),(0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.too_big,message:ne.message,inclusive:!0,exact:!1,maximum:ne.value,type:"date"}),z.dirty()):i.util.assertNever(ne);return{status:z.value,value:new Date(E.data.getTime())}}_addCheck(E){return new I({...this._def,checks:[...this._def.checks,E]})}min(E,L){return this._addCheck({kind:"min",value:E.getTime(),message:t.errorUtil.toString(L)})}max(E,L){return this._addCheck({kind:"max",value:E.getTime(),message:t.errorUtil.toString(L)})}get minDate(){let E=null;for(const L of this._def.checks)L.kind==="min"&&(E===null||L.value>E)&&(E=L.value);return E!=null?new Date(E):null}get maxDate(){let E=null;for(const L of this._def.checks)L.kind==="max"&&(E===null||L.value<E)&&(E=L.value);return E!=null?new Date(E):null}}n.ZodDate=I,I.create=K=>new I({checks:[],coerce:(K==null?void 0:K.coerce)||!1,typeName:Ce.ZodDate,...l(K)});class k extends u{_parse(E){if(this._getType(E)!==i.ZodParsedType.symbol){const z=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:z.parsedType}),r.INVALID}return(0,r.OK)(E.data)}}n.ZodSymbol=k,k.create=K=>new k({typeName:Ce.ZodSymbol,...l(K)});class U extends u{_parse(E){if(this._getType(E)!==i.ZodParsedType.undefined){const z=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:z.parsedType}),r.INVALID}return(0,r.OK)(E.data)}}n.ZodUndefined=U,U.create=K=>new U({typeName:Ce.ZodUndefined,...l(K)});class q extends u{_parse(E){if(this._getType(E)!==i.ZodParsedType.null){const z=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:z.parsedType}),r.INVALID}return(0,r.OK)(E.data)}}n.ZodNull=q,q.create=K=>new q({typeName:Ce.ZodNull,...l(K)});class W extends u{constructor(){super(...arguments),this._any=!0}_parse(E){return(0,r.OK)(E.data)}}n.ZodAny=W,W.create=K=>new W({typeName:Ce.ZodAny,...l(K)});class $ extends u{constructor(){super(...arguments),this._unknown=!0}_parse(E){return(0,r.OK)(E.data)}}n.ZodUnknown=$,$.create=K=>new $({typeName:Ce.ZodUnknown,...l(K)});class ee extends u{_parse(E){const L=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:L.parsedType}),r.INVALID}}n.ZodNever=ee,ee.create=K=>new ee({typeName:Ce.ZodNever,...l(K)});class ce extends u{_parse(E){if(this._getType(E)!==i.ZodParsedType.undefined){const z=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:z.parsedType}),r.INVALID}return(0,r.OK)(E.data)}}n.ZodVoid=ce,ce.create=K=>new ce({typeName:Ce.ZodVoid,...l(K)});class N extends u{_parse(E){const{ctx:L,status:z}=this._processInputParams(E),ae=this._def;if(L.parsedType!==i.ZodParsedType.array)return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:L.parsedType}),r.INVALID;if(ae.exactLength!==null){const Ae=L.data.length>ae.exactLength.value,De=L.data.length<ae.exactLength.value;(Ae||De)&&((0,r.addIssueToContext)(L,{code:Ae?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:De?ae.exactLength.value:void 0,maximum:Ae?ae.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ae.exactLength.message}),z.dirty())}if(ae.minLength!==null&&L.data.length<ae.minLength.value&&((0,r.addIssueToContext)(L,{code:s.ZodIssueCode.too_small,minimum:ae.minLength.value,type:"array",inclusive:!0,exact:!1,message:ae.minLength.message}),z.dirty()),ae.maxLength!==null&&L.data.length>ae.maxLength.value&&((0,r.addIssueToContext)(L,{code:s.ZodIssueCode.too_big,maximum:ae.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ae.maxLength.message}),z.dirty()),L.common.async)return Promise.all([...L.data].map((Ae,De)=>ae.type._parseAsync(new o(L,Ae,L.path,De)))).then(Ae=>r.ParseStatus.mergeArray(z,Ae));const ne=[...L.data].map((Ae,De)=>ae.type._parseSync(new o(L,Ae,L.path,De)));return r.ParseStatus.mergeArray(z,ne)}get element(){return this._def.type}min(E,L){return new N({...this._def,minLength:{value:E,message:t.errorUtil.toString(L)}})}max(E,L){return new N({...this._def,maxLength:{value:E,message:t.errorUtil.toString(L)}})}length(E,L){return new N({...this._def,exactLength:{value:E,message:t.errorUtil.toString(L)}})}nonempty(E){return this.min(1,E)}}n.ZodArray=N,N.create=(K,E)=>new N({type:K,minLength:null,maxLength:null,exactLength:null,typeName:Ce.ZodArray,...l(E)});function H(K){if(K instanceof j){const E={};for(const L in K.shape){const z=K.shape[L];E[L]=je.create(H(z))}return new j({...K._def,shape:()=>E})}else return K instanceof N?new N({...K._def,type:H(K.element)}):K instanceof je?je.create(H(K.unwrap())):K instanceof We?We.create(H(K.unwrap())):K instanceof de?de.create(K.items.map(E=>H(E))):K}class j extends u{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const E=this._def.shape(),L=i.util.objectKeys(E);return this._cached={shape:E,keys:L}}_parse(E){if(this._getType(E)!==i.ZodParsedType.object){const tt=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(tt,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:tt.parsedType}),r.INVALID}const{status:z,ctx:ae}=this._processInputParams(E),{shape:ne,keys:Ae}=this._getCached(),De=[];if(!(this._def.catchall instanceof ee&&this._def.unknownKeys==="strip"))for(const tt in ae.data)Ae.includes(tt)||De.push(tt);const Ke=[];for(const tt of Ae){const Bt=ne[tt],cn=ae.data[tt];Ke.push({key:{status:"valid",value:tt},value:Bt._parse(new o(ae,cn,ae.path,tt)),alwaysSet:tt in ae.data})}if(this._def.catchall instanceof ee){const tt=this._def.unknownKeys;if(tt==="passthrough")for(const Bt of De)Ke.push({key:{status:"valid",value:Bt},value:{status:"valid",value:ae.data[Bt]}});else if(tt==="strict")De.length>0&&((0,r.addIssueToContext)(ae,{code:s.ZodIssueCode.unrecognized_keys,keys:De}),z.dirty());else if(tt!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const tt=this._def.catchall;for(const Bt of De){const cn=ae.data[Bt];Ke.push({key:{status:"valid",value:Bt},value:tt._parse(new o(ae,cn,ae.path,Bt)),alwaysSet:Bt in ae.data})}}return ae.common.async?Promise.resolve().then(async()=>{const tt=[];for(const Bt of Ke){const cn=await Bt.key;tt.push({key:cn,value:await Bt.value,alwaysSet:Bt.alwaysSet})}return tt}).then(tt=>r.ParseStatus.mergeObjectSync(z,tt)):r.ParseStatus.mergeObjectSync(z,Ke)}get shape(){return this._def.shape()}strict(E){return t.errorUtil.errToObj,new j({...this._def,unknownKeys:"strict",...E!==void 0?{errorMap:(L,z)=>{var ae,ne,Ae,De;const Ke=(Ae=(ne=(ae=this._def).errorMap)===null||ne===void 0?void 0:ne.call(ae,L,z).message)!==null&&Ae!==void 0?Ae:z.defaultError;return L.code==="unrecognized_keys"?{message:(De=t.errorUtil.errToObj(E).message)!==null&&De!==void 0?De:Ke}:{message:Ke}}}:{}})}strip(){return new j({...this._def,unknownKeys:"strip"})}passthrough(){return new j({...this._def,unknownKeys:"passthrough"})}extend(E){return new j({...this._def,shape:()=>({...this._def.shape(),...E})})}merge(E){return new j({unknownKeys:E._def.unknownKeys,catchall:E._def.catchall,shape:()=>({...this._def.shape(),...E._def.shape()}),typeName:Ce.ZodObject})}setKey(E,L){return this.augment({[E]:L})}catchall(E){return new j({...this._def,catchall:E})}pick(E){const L={};return i.util.objectKeys(E).forEach(z=>{E[z]&&this.shape[z]&&(L[z]=this.shape[z])}),new j({...this._def,shape:()=>L})}omit(E){const L={};return i.util.objectKeys(this.shape).forEach(z=>{E[z]||(L[z]=this.shape[z])}),new j({...this._def,shape:()=>L})}deepPartial(){return H(this)}partial(E){const L={};return i.util.objectKeys(this.shape).forEach(z=>{const ae=this.shape[z];E&&!E[z]?L[z]=ae:L[z]=ae.optional()}),new j({...this._def,shape:()=>L})}required(E){const L={};return i.util.objectKeys(this.shape).forEach(z=>{if(E&&!E[z])L[z]=this.shape[z];else{let ne=this.shape[z];for(;ne instanceof je;)ne=ne._def.innerType;L[z]=ne}}),new j({...this._def,shape:()=>L})}keyof(){return re(i.util.objectKeys(this.shape))}}n.ZodObject=j,j.create=(K,E)=>new j({shape:()=>K,unknownKeys:"strip",catchall:ee.create(),typeName:Ce.ZodObject,...l(E)}),j.strictCreate=(K,E)=>new j({shape:()=>K,unknownKeys:"strict",catchall:ee.create(),typeName:Ce.ZodObject,...l(E)}),j.lazycreate=(K,E)=>new j({shape:K,unknownKeys:"strip",catchall:ee.create(),typeName:Ce.ZodObject,...l(E)});class oe extends u{_parse(E){const{ctx:L}=this._processInputParams(E),z=this._def.options;function ae(ne){for(const De of ne)if(De.result.status==="valid")return De.result;for(const De of ne)if(De.result.status==="dirty")return L.common.issues.push(...De.ctx.common.issues),De.result;const Ae=ne.map(De=>new s.ZodError(De.ctx.common.issues));return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union,unionErrors:Ae}),r.INVALID}if(L.common.async)return Promise.all(z.map(async ne=>{const Ae={...L,common:{...L.common,issues:[]},parent:null};return{result:await ne._parseAsync({data:L.data,path:L.path,parent:Ae}),ctx:Ae}})).then(ae);{let ne;const Ae=[];for(const Ke of z){const tt={...L,common:{...L.common,issues:[]},parent:null},Bt=Ke._parseSync({data:L.data,path:L.path,parent:tt});if(Bt.status==="valid")return Bt;Bt.status==="dirty"&&!ne&&(ne={result:Bt,ctx:tt}),tt.common.issues.length&&Ae.push(tt.common.issues)}if(ne)return L.common.issues.push(...ne.ctx.common.issues),ne.result;const De=Ae.map(Ke=>new s.ZodError(Ke));return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union,unionErrors:De}),r.INVALID}}get options(){return this._def.options}}n.ZodUnion=oe,oe.create=(K,E)=>new oe({options:K,typeName:Ce.ZodUnion,...l(E)});const te=K=>K instanceof Y?te(K.schema):K instanceof He?te(K.innerType()):K instanceof ie?[K.value]:K instanceof he?K.options:K instanceof Le?Object.keys(K.enum):K instanceof pt?te(K._def.innerType):K instanceof U?[void 0]:K instanceof q?[null]:null;class ge extends u{_parse(E){const{ctx:L}=this._processInputParams(E);if(L.parsedType!==i.ZodParsedType.object)return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:L.parsedType}),r.INVALID;const z=this.discriminator,ae=L.data[z],ne=this.optionsMap.get(ae);return ne?L.common.async?ne._parseAsync({data:L.data,path:L.path,parent:L}):ne._parseSync({data:L.data,path:L.path,parent:L}):((0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[z]}),r.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(E,L,z){const ae=new Map;for(const ne of L){const Ae=te(ne.shape[E]);if(!Ae)throw new Error(`A discriminator value for key \`${E}\` could not be extracted from all schema options`);for(const De of Ae){if(ae.has(De))throw new Error(`Discriminator property ${String(E)} has duplicate value ${String(De)}`);ae.set(De,ne)}}return new ge({typeName:Ce.ZodDiscriminatedUnion,discriminator:E,options:L,optionsMap:ae,...l(z)})}}n.ZodDiscriminatedUnion=ge;function Pe(K,E){const L=(0,i.getParsedType)(K),z=(0,i.getParsedType)(E);if(K===E)return{valid:!0,data:K};if(L===i.ZodParsedType.object&&z===i.ZodParsedType.object){const ae=i.util.objectKeys(E),ne=i.util.objectKeys(K).filter(De=>ae.indexOf(De)!==-1),Ae={...K,...E};for(const De of ne){const Ke=Pe(K[De],E[De]);if(!Ke.valid)return{valid:!1};Ae[De]=Ke.data}return{valid:!0,data:Ae}}else if(L===i.ZodParsedType.array&&z===i.ZodParsedType.array){if(K.length!==E.length)return{valid:!1};const ae=[];for(let ne=0;ne<K.length;ne++){const Ae=K[ne],De=E[ne],Ke=Pe(Ae,De);if(!Ke.valid)return{valid:!1};ae.push(Ke.data)}return{valid:!0,data:ae}}else return L===i.ZodParsedType.date&&z===i.ZodParsedType.date&&+K==+E?{valid:!0,data:K}:{valid:!1}}class Me extends u{_parse(E){const{status:L,ctx:z}=this._processInputParams(E),ae=(ne,Ae)=>{if((0,r.isAborted)(ne)||(0,r.isAborted)(Ae))return r.INVALID;const De=Pe(ne.value,Ae.value);return De.valid?(((0,r.isDirty)(ne)||(0,r.isDirty)(Ae))&&L.dirty(),{status:L.value,value:De.data}):((0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_intersection_types}),r.INVALID)};return z.common.async?Promise.all([this._def.left._parseAsync({data:z.data,path:z.path,parent:z}),this._def.right._parseAsync({data:z.data,path:z.path,parent:z})]).then(([ne,Ae])=>ae(ne,Ae)):ae(this._def.left._parseSync({data:z.data,path:z.path,parent:z}),this._def.right._parseSync({data:z.data,path:z.path,parent:z}))}}n.ZodIntersection=Me,Me.create=(K,E,L)=>new Me({left:K,right:E,typeName:Ce.ZodIntersection,...l(L)});class de extends u{_parse(E){const{status:L,ctx:z}=this._processInputParams(E);if(z.parsedType!==i.ZodParsedType.array)return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:z.parsedType}),r.INVALID;if(z.data.length<this._def.items.length)return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.INVALID;!this._def.rest&&z.data.length>this._def.items.length&&((0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L.dirty());const ne=[...z.data].map((Ae,De)=>{const Ke=this._def.items[De]||this._def.rest;return Ke?Ke._parse(new o(z,Ae,z.path,De)):null}).filter(Ae=>!!Ae);return z.common.async?Promise.all(ne).then(Ae=>r.ParseStatus.mergeArray(L,Ae)):r.ParseStatus.mergeArray(L,ne)}get items(){return this._def.items}rest(E){return new de({...this._def,rest:E})}}n.ZodTuple=de,de.create=(K,E)=>{if(!Array.isArray(K))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new de({items:K,typeName:Ce.ZodTuple,rest:null,...l(E)})};class Ve extends u{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(E){const{status:L,ctx:z}=this._processInputParams(E);if(z.parsedType!==i.ZodParsedType.object)return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:z.parsedType}),r.INVALID;const ae=[],ne=this._def.keyType,Ae=this._def.valueType;for(const De in z.data)ae.push({key:ne._parse(new o(z,De,z.path,De)),value:Ae._parse(new o(z,z.data[De],z.path,De))});return z.common.async?r.ParseStatus.mergeObjectAsync(L,ae):r.ParseStatus.mergeObjectSync(L,ae)}get element(){return this._def.valueType}static create(E,L,z){return L instanceof u?new Ve({keyType:E,valueType:L,typeName:Ce.ZodRecord,...l(z)}):new Ve({keyType:R.create(),valueType:E,typeName:Ce.ZodRecord,...l(L)})}}n.ZodRecord=Ve;class ve extends u{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(E){const{status:L,ctx:z}=this._processInputParams(E);if(z.parsedType!==i.ZodParsedType.map)return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:z.parsedType}),r.INVALID;const ae=this._def.keyType,ne=this._def.valueType,Ae=[...z.data.entries()].map(([De,Ke],tt)=>({key:ae._parse(new o(z,De,z.path,[tt,"key"])),value:ne._parse(new o(z,Ke,z.path,[tt,"value"]))}));if(z.common.async){const De=new Map;return Promise.resolve().then(async()=>{for(const Ke of Ae){const tt=await Ke.key,Bt=await Ke.value;if(tt.status==="aborted"||Bt.status==="aborted")return r.INVALID;(tt.status==="dirty"||Bt.status==="dirty")&&L.dirty(),De.set(tt.value,Bt.value)}return{status:L.value,value:De}})}else{const De=new Map;for(const Ke of Ae){const tt=Ke.key,Bt=Ke.value;if(tt.status==="aborted"||Bt.status==="aborted")return r.INVALID;(tt.status==="dirty"||Bt.status==="dirty")&&L.dirty(),De.set(tt.value,Bt.value)}return{status:L.value,value:De}}}}n.ZodMap=ve,ve.create=(K,E,L)=>new ve({valueType:E,keyType:K,typeName:Ce.ZodMap,...l(L)});class O extends u{_parse(E){const{status:L,ctx:z}=this._processInputParams(E);if(z.parsedType!==i.ZodParsedType.set)return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:z.parsedType}),r.INVALID;const ae=this._def;ae.minSize!==null&&z.data.size<ae.minSize.value&&((0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_small,minimum:ae.minSize.value,type:"set",inclusive:!0,exact:!1,message:ae.minSize.message}),L.dirty()),ae.maxSize!==null&&z.data.size>ae.maxSize.value&&((0,r.addIssueToContext)(z,{code:s.ZodIssueCode.too_big,maximum:ae.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ae.maxSize.message}),L.dirty());const ne=this._def.valueType;function Ae(Ke){const tt=new Set;for(const Bt of Ke){if(Bt.status==="aborted")return r.INVALID;Bt.status==="dirty"&&L.dirty(),tt.add(Bt.value)}return{status:L.value,value:tt}}const De=[...z.data.values()].map((Ke,tt)=>ne._parse(new o(z,Ke,z.path,tt)));return z.common.async?Promise.all(De).then(Ke=>Ae(Ke)):Ae(De)}min(E,L){return new O({...this._def,minSize:{value:E,message:t.errorUtil.toString(L)}})}max(E,L){return new O({...this._def,maxSize:{value:E,message:t.errorUtil.toString(L)}})}size(E,L){return this.min(E,L).max(E,L)}nonempty(E){return this.min(1,E)}}n.ZodSet=O,O.create=(K,E)=>new O({valueType:K,minSize:null,maxSize:null,typeName:Ce.ZodSet,...l(E)});class F extends u{constructor(){super(...arguments),this.validate=this.implement}_parse(E){const{ctx:L}=this._processInputParams(E);if(L.parsedType!==i.ZodParsedType.function)return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:L.parsedType}),r.INVALID;function z(De,Ke){return(0,r.makeIssue)({data:De,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(tt=>!!tt),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:Ke}})}function ae(De,Ke){return(0,r.makeIssue)({data:De,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter(tt=>!!tt),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:Ke}})}const ne={errorMap:L.common.contextualErrorMap},Ae=L.data;if(this._def.returns instanceof ke){const De=this;return(0,r.OK)(async function(...Ke){const tt=new s.ZodError([]),Bt=await De._def.args.parseAsync(Ke,ne).catch(Tt=>{throw tt.addIssue(z(Ke,Tt)),tt}),cn=await Reflect.apply(Ae,this,Bt);return await De._def.returns._def.type.parseAsync(cn,ne).catch(Tt=>{throw tt.addIssue(ae(cn,Tt)),tt})})}else{const De=this;return(0,r.OK)(function(...Ke){const tt=De._def.args.safeParse(Ke,ne);if(!tt.success)throw new s.ZodError([z(Ke,tt.error)]);const Bt=Reflect.apply(Ae,this,tt.data),cn=De._def.returns.safeParse(Bt,ne);if(!cn.success)throw new s.ZodError([ae(Bt,cn.error)]);return cn.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...E){return new F({...this._def,args:de.create(E).rest($.create())})}returns(E){return new F({...this._def,returns:E})}implement(E){return this.parse(E)}strictImplement(E){return this.parse(E)}static create(E,L,z){return new F({args:E||de.create([]).rest($.create()),returns:L||$.create(),typeName:Ce.ZodFunction,...l(z)})}}n.ZodFunction=F;class Y extends u{get schema(){return this._def.getter()}_parse(E){const{ctx:L}=this._processInputParams(E);return this._def.getter()._parse({data:L.data,path:L.path,parent:L})}}n.ZodLazy=Y,Y.create=(K,E)=>new Y({getter:K,typeName:Ce.ZodLazy,...l(E)});class ie extends u{_parse(E){if(E.data!==this._def.value){const L=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(L,{received:L.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),r.INVALID}return{status:"valid",value:E.data}}get value(){return this._def.value}}n.ZodLiteral=ie,ie.create=(K,E)=>new ie({value:K,typeName:Ce.ZodLiteral,...l(E)});function re(K,E){return new he({values:K,typeName:Ce.ZodEnum,...l(E)})}class he extends u{_parse(E){if(typeof E.data!="string"){const L=this._getOrReturnCtx(E),z=this._def.values;return(0,r.addIssueToContext)(L,{expected:i.util.joinValues(z),received:L.parsedType,code:s.ZodIssueCode.invalid_type}),r.INVALID}if(this._def.values.indexOf(E.data)===-1){const L=this._getOrReturnCtx(E),z=this._def.values;return(0,r.addIssueToContext)(L,{received:L.data,code:s.ZodIssueCode.invalid_enum_value,options:z}),r.INVALID}return(0,r.OK)(E.data)}get options(){return this._def.values}get enum(){const E={};for(const L of this._def.values)E[L]=L;return E}get Values(){const E={};for(const L of this._def.values)E[L]=L;return E}get Enum(){const E={};for(const L of this._def.values)E[L]=L;return E}extract(E){return he.create(E)}exclude(E){return he.create(this.options.filter(L=>!E.includes(L)))}}n.ZodEnum=he,he.create=re;class Le extends u{_parse(E){const L=i.util.getValidEnumValues(this._def.values),z=this._getOrReturnCtx(E);if(z.parsedType!==i.ZodParsedType.string&&z.parsedType!==i.ZodParsedType.number){const ae=i.util.objectValues(L);return(0,r.addIssueToContext)(z,{expected:i.util.joinValues(ae),received:z.parsedType,code:s.ZodIssueCode.invalid_type}),r.INVALID}if(L.indexOf(E.data)===-1){const ae=i.util.objectValues(L);return(0,r.addIssueToContext)(z,{received:z.data,code:s.ZodIssueCode.invalid_enum_value,options:ae}),r.INVALID}return(0,r.OK)(E.data)}get enum(){return this._def.values}}n.ZodNativeEnum=Le,Le.create=(K,E)=>new Le({values:K,typeName:Ce.ZodNativeEnum,...l(E)});class ke extends u{unwrap(){return this._def.type}_parse(E){const{ctx:L}=this._processInputParams(E);if(L.parsedType!==i.ZodParsedType.promise&&L.common.async===!1)return(0,r.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:L.parsedType}),r.INVALID;const z=L.parsedType===i.ZodParsedType.promise?L.data:Promise.resolve(L.data);return(0,r.OK)(z.then(ae=>this._def.type.parseAsync(ae,{path:L.path,errorMap:L.common.contextualErrorMap})))}}n.ZodPromise=ke,ke.create=(K,E)=>new ke({type:K,typeName:Ce.ZodPromise,...l(E)});class He extends u{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(E){const{status:L,ctx:z}=this._processInputParams(E),ae=this._def.effect||null,ne={addIssue:Ae=>{(0,r.addIssueToContext)(z,Ae),Ae.fatal?L.abort():L.dirty()},get path(){return z.path}};if(ne.addIssue=ne.addIssue.bind(ne),ae.type==="preprocess"){const Ae=ae.transform(z.data,ne);return z.common.issues.length?{status:"dirty",value:z.data}:z.common.async?Promise.resolve(Ae).then(De=>this._def.schema._parseAsync({data:De,path:z.path,parent:z})):this._def.schema._parseSync({data:Ae,path:z.path,parent:z})}if(ae.type==="refinement"){const Ae=De=>{const Ke=ae.refinement(De,ne);if(z.common.async)return Promise.resolve(Ke);if(Ke instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return De};if(z.common.async===!1){const De=this._def.schema._parseSync({data:z.data,path:z.path,parent:z});return De.status==="aborted"?r.INVALID:(De.status==="dirty"&&L.dirty(),Ae(De.value),{status:L.value,value:De.value})}else return this._def.schema._parseAsync({data:z.data,path:z.path,parent:z}).then(De=>De.status==="aborted"?r.INVALID:(De.status==="dirty"&&L.dirty(),Ae(De.value).then(()=>({status:L.value,value:De.value}))))}if(ae.type==="transform")if(z.common.async===!1){const Ae=this._def.schema._parseSync({data:z.data,path:z.path,parent:z});if(!(0,r.isValid)(Ae))return Ae;const De=ae.transform(Ae.value,ne);if(De instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:L.value,value:De}}else return this._def.schema._parseAsync({data:z.data,path:z.path,parent:z}).then(Ae=>(0,r.isValid)(Ae)?Promise.resolve(ae.transform(Ae.value,ne)).then(De=>({status:L.value,value:De})):Ae);i.util.assertNever(ae)}}n.ZodEffects=He,n.ZodTransformer=He,He.create=(K,E,L)=>new He({schema:K,typeName:Ce.ZodEffects,effect:E,...l(L)}),He.createWithPreprocess=(K,E,L)=>new He({schema:E,effect:{type:"preprocess",transform:K},typeName:Ce.ZodEffects,...l(L)});class je extends u{_parse(E){return this._getType(E)===i.ZodParsedType.undefined?(0,r.OK)(void 0):this._def.innerType._parse(E)}unwrap(){return this._def.innerType}}n.ZodOptional=je,je.create=(K,E)=>new je({innerType:K,typeName:Ce.ZodOptional,...l(E)});class We extends u{_parse(E){return this._getType(E)===i.ZodParsedType.null?(0,r.OK)(null):this._def.innerType._parse(E)}unwrap(){return this._def.innerType}}n.ZodNullable=We,We.create=(K,E)=>new We({innerType:K,typeName:Ce.ZodNullable,...l(E)});class pt extends u{_parse(E){const{ctx:L}=this._processInputParams(E);let z=L.data;return L.parsedType===i.ZodParsedType.undefined&&(z=this._def.defaultValue()),this._def.innerType._parse({data:z,path:L.path,parent:L})}removeDefault(){return this._def.innerType}}n.ZodDefault=pt,pt.create=(K,E)=>new pt({innerType:K,typeName:Ce.ZodDefault,defaultValue:typeof E.default=="function"?E.default:()=>E.default,...l(E)});class ut extends u{_parse(E){const{ctx:L}=this._processInputParams(E),z={...L,common:{...L.common,issues:[]}},ae=this._def.innerType._parse({data:z.data,path:z.path,parent:{...z}});return(0,r.isAsync)(ae)?ae.then(ne=>({status:"valid",value:ne.status==="valid"?ne.value:this._def.catchValue({get error(){return new s.ZodError(z.common.issues)},input:z.data})})):{status:"valid",value:ae.status==="valid"?ae.value:this._def.catchValue({get error(){return new s.ZodError(z.common.issues)},input:z.data})}}removeCatch(){return this._def.innerType}}n.ZodCatch=ut,ut.create=(K,E)=>new ut({innerType:K,typeName:Ce.ZodCatch,catchValue:typeof E.catch=="function"?E.catch:()=>E.catch,...l(E)});class Z extends u{_parse(E){if(this._getType(E)!==i.ZodParsedType.nan){const z=this._getOrReturnCtx(E);return(0,r.addIssueToContext)(z,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:z.parsedType}),r.INVALID}return{status:"valid",value:E.data}}}n.ZodNaN=Z,Z.create=K=>new Z({typeName:Ce.ZodNaN,...l(K)}),n.BRAND=Symbol("zod_brand");class G extends u{_parse(E){const{ctx:L}=this._processInputParams(E),z=L.data;return this._def.type._parse({data:z,path:L.path,parent:L})}unwrap(){return this._def.type}}n.ZodBranded=G;class we extends u{_parse(E){const{status:L,ctx:z}=this._processInputParams(E);if(z.common.async)return(async()=>{const ne=await this._def.in._parseAsync({data:z.data,path:z.path,parent:z});return ne.status==="aborted"?r.INVALID:ne.status==="dirty"?(L.dirty(),(0,r.DIRTY)(ne.value)):this._def.out._parseAsync({data:ne.value,path:z.path,parent:z})})();{const ae=this._def.in._parseSync({data:z.data,path:z.path,parent:z});return ae.status==="aborted"?r.INVALID:ae.status==="dirty"?(L.dirty(),{status:"dirty",value:ae.value}):this._def.out._parseSync({data:ae.value,path:z.path,parent:z})}}static create(E,L){return new we({in:E,out:L,typeName:Ce.ZodPipeline})}}n.ZodPipeline=we;class Ne extends u{_parse(E){const L=this._def.innerType._parse(E);return(0,r.isValid)(L)&&(L.value=Object.freeze(L.value)),L}}n.ZodReadonly=Ne,Ne.create=(K,E)=>new Ne({innerType:K,typeName:Ce.ZodReadonly,...l(E)});const Ge=(K,E={},L)=>K?W.create().superRefine((z,ae)=>{var ne,Ae;if(!K(z)){const De=typeof E=="function"?E(z):typeof E=="string"?{message:E}:E,Ke=(Ae=(ne=De.fatal)!==null&&ne!==void 0?ne:L)!==null&&Ae!==void 0?Ae:!0,tt=typeof De=="string"?{message:De}:De;ae.addIssue({code:"custom",...tt,fatal:Ke})}}):W.create();n.custom=Ge,n.late={object:j.lazycreate};var Ce;(function(K){K.ZodString="ZodString",K.ZodNumber="ZodNumber",K.ZodNaN="ZodNaN",K.ZodBigInt="ZodBigInt",K.ZodBoolean="ZodBoolean",K.ZodDate="ZodDate",K.ZodSymbol="ZodSymbol",K.ZodUndefined="ZodUndefined",K.ZodNull="ZodNull",K.ZodAny="ZodAny",K.ZodUnknown="ZodUnknown",K.ZodNever="ZodNever",K.ZodVoid="ZodVoid",K.ZodArray="ZodArray",K.ZodObject="ZodObject",K.ZodUnion="ZodUnion",K.ZodDiscriminatedUnion="ZodDiscriminatedUnion",K.ZodIntersection="ZodIntersection",K.ZodTuple="ZodTuple",K.ZodRecord="ZodRecord",K.ZodMap="ZodMap",K.ZodSet="ZodSet",K.ZodFunction="ZodFunction",K.ZodLazy="ZodLazy",K.ZodLiteral="ZodLiteral",K.ZodEnum="ZodEnum",K.ZodEffects="ZodEffects",K.ZodNativeEnum="ZodNativeEnum",K.ZodOptional="ZodOptional",K.ZodNullable="ZodNullable",K.ZodDefault="ZodDefault",K.ZodCatch="ZodCatch",K.ZodPromise="ZodPromise",K.ZodBranded="ZodBranded",K.ZodPipeline="ZodPipeline",K.ZodReadonly="ZodReadonly"})(Ce=n.ZodFirstPartyTypeKind||(n.ZodFirstPartyTypeKind={}));const vt=(K,E={message:`Input not instance of ${K.name}`})=>(0,n.custom)(L=>L instanceof K,E);n.instanceof=vt;const qe=R.create;n.string=qe;const Re=B.create;n.number=Re;const ft=Z.create;n.nan=ft;const xt=C.create;n.bigint=xt;const it=P.create;n.boolean=it;const gt=I.create;n.date=gt;const ct=k.create;n.symbol=ct;const le=U.create;n.undefined=le;const Oe=q.create;n.null=Oe;const et=W.create;n.any=et;const se=$.create;n.unknown=se;const be=ee.create;n.never=be;const Fe=ce.create;n.void=Fe;const Ze=N.create;n.array=Ze;const dt=j.create;n.object=dt;const Ut=j.strictCreate;n.strictObject=Ut;const qt=oe.create;n.union=qt;const en=ge.create;n.discriminatedUnion=en;const dr=Me.create;n.intersection=dr;const Vt=de.create;n.tuple=Vt;const On=Ve.create;n.record=On;const Rn=ve.create;n.map=Rn;const Vu=O.create;n.set=Vu;const Qd=F.create;n.function=Qd;const Wu=Y.create;n.lazy=Wu;const ml=ie.create;n.literal=ml;const J=he.create;n.enum=J;const ye=Le.create;n.nativeEnum=ye;const Ee=ke.create;n.promise=Ee;const pe=He.create;n.effect=pe,n.transformer=pe;const Be=je.create;n.optional=Be;const yt=We.create;n.nullable=yt;const _t=He.createWithPreprocess;n.preprocess=_t;const Rt=we.create;n.pipeline=Rt;const Lt=()=>qe().optional();n.ostring=Lt;const zt=()=>Re().optional();n.onumber=zt;const Gt=()=>it().optional();n.oboolean=Gt,n.coerce={string:K=>R.create({...K,coerce:!0}),number:K=>B.create({...K,coerce:!0}),boolean:K=>P.create({...K,coerce:!0}),bigint:K=>C.create({...K,coerce:!0}),date:K=>I.create({...K,coerce:!0})},n.NEVER=r.INVALID})(cL);(function(n){var e=ir&&ir.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ir&&ir.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(to,n),t(Ex,n),t(uL,n),t(g0,n),t(cL,n),t(no,n)})(T4);(function(n){var e=ir&&ir.__createBinding||(Object.create?function(o,a,l,u){u===void 0&&(u=l),Object.defineProperty(o,u,{enumerable:!0,get:function(){return a[l]}})}:function(o,a,l,u){u===void 0&&(u=l),o[u]=a[l]}),t=ir&&ir.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),r=ir&&ir.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&e(a,o,l);return t(a,o),a},i=ir&&ir.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,o,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.z=void 0;const s=r(T4);n.z=s,i(T4,n),n.default=s})(L1);var F1={};Object.defineProperty(F1,"__esModule",{value:!0});F1.parseAnyDef=void 0;function wae(){return{}}F1.parseAnyDef=wae;var qf={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.setResponseValueAndErrors=Ps.addErrorMessage=void 0;function fL(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage=Object.assign(Object.assign({},n.errorMessage),{[e]:t}))}Ps.addErrorMessage=fL;function bae(n,e,t,r,i){n[e]=t,fL(n,e,r,i)}Ps.setResponseValueAndErrors=bae;var UT;function _ae(){if(UT)return qf;UT=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.parseArrayDef=void 0;const n=L1,e=Ps,t=wr();function r(i,s){var o,a;const l={type:"array"};return((a=(o=i.type)===null||o===void 0?void 0:o._def)===null||a===void 0?void 0:a.typeName)!==n.ZodFirstPartyTypeKind.ZodAny&&(l.items=(0,t.parseDef)(i.type._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"items"]}))),i.minLength&&(0,e.setResponseValueAndErrors)(l,"minItems",i.minLength.value,i.minLength.message,s),i.maxLength&&(0,e.setResponseValueAndErrors)(l,"maxItems",i.maxLength.value,i.maxLength.message,s),i.exactLength&&((0,e.setResponseValueAndErrors)(l,"minItems",i.exactLength.value,i.exactLength.message,s),(0,e.setResponseValueAndErrors)(l,"maxItems",i.exactLength.value,i.exactLength.message,s)),l}return qf.parseArrayDef=r,qf}var N1={};Object.defineProperty(N1,"__esModule",{value:!0});N1.parseBigintDef=void 0;const Nl=Ps;function Aae(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?(0,Nl.setResponseValueAndErrors)(t,"minimum",r.value,r.message,e):(0,Nl.setResponseValueAndErrors)(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),(0,Nl.setResponseValueAndErrors)(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?(0,Nl.setResponseValueAndErrors)(t,"maximum",r.value,r.message,e):(0,Nl.setResponseValueAndErrors)(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),(0,Nl.setResponseValueAndErrors)(t,"maximum",r.value,r.message,e));break;case"multipleOf":(0,Nl.setResponseValueAndErrors)(t,"multipleOf",r.value,r.message,e);break}return t}N1.parseBigintDef=Aae;var U1={};Object.defineProperty(U1,"__esModule",{value:!0});U1.parseBooleanDef=void 0;function Sae(){return{type:"boolean"}}U1.parseBooleanDef=Sae;var Xf={},GT;function Cae(){if(GT)return Xf;GT=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.parseBrandedDef=void 0;const n=wr();function e(t,r){return(0,n.parseDef)(t.type._def,r)}return Xf.parseBrandedDef=e,Xf}var Kf={},zT;function Tae(){if(zT)return Kf;zT=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.parseCatchDef=void 0;const n=wr(),e=(t,r)=>(0,n.parseDef)(t.innerType._def,r);return Kf.parseCatchDef=e,Kf}var G1={};Object.defineProperty(G1,"__esModule",{value:!0});G1.parseDateDef=void 0;const HT=Ps;function Mae(n,e){return e.dateStrategy=="integer"?Eae(n,e):{type:"string",format:"date-time"}}G1.parseDateDef=Mae;const Eae=(n,e)=>{const t={type:"integer",format:"unix-time"};for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"&&(0,HT.setResponseValueAndErrors)(t,"minimum",r.value,r.message,e);break;case"max":e.target==="jsonSchema7"&&(0,HT.setResponseValueAndErrors)(t,"maximum",r.value,r.message,e);break}return t};var Yf={},VT;function Pae(){if(VT)return Yf;VT=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.parseDefaultDef=void 0;const n=wr();function e(t,r){return Object.assign(Object.assign({},(0,n.parseDef)(t.innerType._def,r)),{default:t.defaultValue()})}return Yf.parseDefaultDef=e,Yf}var Qf={},WT;function Iae(){if(WT)return Qf;WT=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.parseEffectsDef=void 0;const n=wr();function e(t,r){return r.effectStrategy==="input"?(0,n.parseDef)(t.schema._def,r):{}}return Qf.parseEffectsDef=e,Qf}var z1={};Object.defineProperty(z1,"__esModule",{value:!0});z1.parseEnumDef=void 0;function Rae(n){return{type:"string",enum:n.values}}z1.parseEnumDef=Rae;var $f={},jT;function Bae(){if(jT)return $f;jT=1;var n=ir&&ir.__rest||function(i,s){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)s.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(o[a[l]]=i[a[l]]);return o};Object.defineProperty($f,"__esModule",{value:!0}),$f.parseIntersectionDef=void 0;const e=wr(),t=i=>"type"in i&&i.type==="string"?!1:"allOf"in i;function r(i,s){const o=[(0,e.parseDef)(i.left._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","0"]})),(0,e.parseDef)(i.right._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"allOf","1"]}))].filter(u=>!!u);let a=s.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return o.forEach(u=>{if(t(u))l.push(...u.allOf),u.unevaluatedProperties===void 0&&(a=void 0);else{let c=u;"additionalProperties"in u&&u.additionalProperties===!1?c=n(u,["additionalProperties"]):a=void 0,l.push(c)}}),l.length?Object.assign({allOf:l},a):void 0}return $f.parseIntersectionDef=r,$f}var H1={};Object.defineProperty(H1,"__esModule",{value:!0});H1.parseLiteralDef=void 0;function Dae(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}H1.parseLiteralDef=Dae;var eh={},ZT;function kae(){if(ZT)return eh;ZT=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.parseMapDef=void 0;const n=wr();function e(t,r){const i=(0,n.parseDef)(t.keyType._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"items","items","0"]}))||{},s=(0,n.parseDef)(t.valueType._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[i,s],minItems:2,maxItems:2}}}return eh.parseMapDef=e,eh}var V1={};Object.defineProperty(V1,"__esModule",{value:!0});V1.parseNativeEnumDef=void 0;function Lae(n){const e=n.values,r=Object.keys(n.values).filter(s=>typeof e[e[s]]!="number").map(s=>e[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}V1.parseNativeEnumDef=Lae;var W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.parseNeverDef=void 0;function Oae(){return{not:{}}}W1.parseNeverDef=Oae;var j1={};Object.defineProperty(j1,"__esModule",{value:!0});j1.parseNullDef=void 0;function Fae(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}j1.parseNullDef=Fae;var th={},X5={},JT;function hL(){return JT||(JT=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseUnionDef=n.primitiveMappings=void 0;const e=wr();n.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function t(i,s){if(s.target==="openApi3")return r(i,s);const o=i.options instanceof Map?Array.from(i.options.values()):i.options;if(o.every(a=>a._def.typeName in n.primitiveMappings&&(!a._def.checks||!a._def.checks.length))){const a=o.reduce((l,u)=>{const c=n.primitiveMappings[u._def.typeName];return c&&!l.includes(c)?[...l,c]:l},[]);return{type:a.length>1?a:a[0]}}else if(o.every(a=>a._def.typeName==="ZodLiteral"&&!a.description)){const a=o.reduce((l,u)=>{const c=typeof u._def.value;switch(c){case"string":case"number":case"boolean":return[...l,c];case"bigint":return[...l,"integer"];case"object":if(u._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(a.length===o.length){const l=a.filter((u,c,f)=>f.indexOf(u)===c);return{type:l.length>1?l:l[0],enum:o.reduce((u,c)=>u.includes(c._def.value)?u:[...u,c._def.value],[])}}}else if(o.every(a=>a._def.typeName==="ZodEnum"))return{type:"string",enum:o.reduce((a,l)=>[...a,...l._def.values.filter(u=>!a.includes(u))],[])};return r(i,s)}n.parseUnionDef=t;const r=(i,s)=>{const o=(i.options instanceof Map?Array.from(i.options.values()):i.options).map((a,l)=>(0,e.parseDef)(a._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"anyOf",`${l}`]}))).filter(a=>!!a&&(!s.strictUnions||typeof a=="object"&&Object.keys(a).length>0));return o.length?{anyOf:o}:void 0}}(X5)),X5}var qT;function Nae(){if(qT)return th;qT=1,Object.defineProperty(th,"__esModule",{value:!0}),th.parseNullableDef=void 0;const n=wr(),e=hL();function t(r,i){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return i.target==="openApi3"?{type:e.primitiveMappings[r.innerType._def.typeName],nullable:!0}:{type:[e.primitiveMappings[r.innerType._def.typeName],"null"]};if(i.target==="openApi3"){const o=(0,n.parseDef)(r.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath]}));return o&&Object.assign(Object.assign({},o),{nullable:!0})}const s=(0,n.parseDef)(r.innerType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"anyOf","0"]}));return s&&{anyOf:[s,{type:"null"}]}}return th.parseNullableDef=t,th}var Z1={};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.parseNumberDef=void 0;const ya=Ps;function Uae(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",(0,ya.addErrorMessage)(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?(0,ya.setResponseValueAndErrors)(t,"minimum",r.value,r.message,e):(0,ya.setResponseValueAndErrors)(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),(0,ya.setResponseValueAndErrors)(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?(0,ya.setResponseValueAndErrors)(t,"maximum",r.value,r.message,e):(0,ya.setResponseValueAndErrors)(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),(0,ya.setResponseValueAndErrors)(t,"maximum",r.value,r.message,e));break;case"multipleOf":(0,ya.setResponseValueAndErrors)(t,"multipleOf",r.value,r.message,e);break}return t}Z1.parseNumberDef=Uae;var Ul={},XT;function Gae(){if(XT)return Ul;XT=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parseObjectDef=Ul.parseObjectDefX=void 0;const n=wr();function e(r,i){var s,o;Object.keys(r.shape()).reduce((l,u)=>{let c=r.shape()[u];const f=c.isOptional();f||(c=Object.assign({},c._def.innerSchema));const h=(0,n.parseDef)(c._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",u],propertyPath:[...i.currentPath,"properties",u]}));return h!==void 0&&(l.properties[u]=h,f||(l.required||(l.required=[]),l.required.push(u))),l},{type:"object",properties:{},additionalProperties:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":(s=(0,n.parseDef)(r.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});const a=Object.assign(Object.assign({type:"object"},Object.entries(r.shape()).reduce((l,[u,c])=>{if(c===void 0||c._def===void 0)return l;const f=(0,n.parseDef)(c._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",u],propertyPath:[...i.currentPath,"properties",u]}));return f===void 0?l:{properties:Object.assign(Object.assign({},l.properties),{[u]:f}),required:c.isOptional()?l.required:[...l.required,u]}},{properties:{},required:[]})),{additionalProperties:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":(o=(0,n.parseDef)(r.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&o!==void 0?o:!0});return a.required.length||delete a.required,a}Ul.parseObjectDefX=e;function t(r,i){var s;const o=Object.assign(Object.assign({type:"object"},Object.entries(r.shape()).reduce((a,[l,u])=>{if(u===void 0||u._def===void 0)return a;const c=(0,n.parseDef)(u._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"properties",l],propertyPath:[...i.currentPath,"properties",l]}));return c===void 0?a:{properties:Object.assign(Object.assign({},a.properties),{[l]:c}),required:u.isOptional()?a.required:[...a.required,l]}},{properties:{},required:[]})),{additionalProperties:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":(s=(0,n.parseDef)(r.catchall._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"additionalProperties"]})))!==null&&s!==void 0?s:!0});return o.required.length||delete o.required,o}return Ul.parseObjectDef=t,Ul}var nh={},KT;function zae(){if(KT)return nh;KT=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.parseOptionalDef=void 0;const n=wr(),e=(t,r)=>{var i;if(r.currentPath.toString()===((i=r.propertyPath)===null||i===void 0?void 0:i.toString()))return(0,n.parseDef)(t.innerType._def,r);const s=(0,n.parseDef)(t.innerType._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"anyOf","1"]}));return s?{anyOf:[{not:{}},s]}:{}};return nh.parseOptionalDef=e,nh}var rh={},YT;function Hae(){if(YT)return rh;YT=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.parsePipelineDef=void 0;const n=wr(),e=(t,r)=>{if(r.pipeStrategy==="input")return(0,n.parseDef)(t.in._def,r);const i=(0,n.parseDef)(t.in._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"allOf","0"]})),s=(0,n.parseDef)(t.out._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"allOf",i?"1":"0"]}));return{allOf:[i,s].filter(o=>o!==void 0)}};return rh.parsePipelineDef=e,rh}var ih={},QT;function Vae(){if(QT)return ih;QT=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.parsePromiseDef=void 0;const n=wr();function e(t,r){return(0,n.parseDef)(t.type._def,r)}return ih.parsePromiseDef=e,ih}var sh={},Px={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseStringDef=n.emojiPattern=n.ulidPattern=n.cuid2Pattern=n.cuidPattern=n.emailPattern=void 0;const e=Ps;n.emailPattern='^(([^<>()[\\]\\\\.,;:\\s@\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\"]+)*)|(\\".+\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$',n.cuidPattern="^c[^\\s-]{8,}$",n.cuid2Pattern="^[a-z][a-z0-9]*$",n.ulidPattern="/[0-9A-HJKMNP-TV-Z]{26}/",n.emojiPattern="/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u";function t(o,a){const l={type:"string"};if(o.checks)for(const u of o.checks)switch(u.kind){case"min":(0,e.setResponseValueAndErrors)(l,"minLength",typeof l.minLength=="number"?Math.max(l.minLength,u.value):u.value,u.message,a);break;case"max":(0,e.setResponseValueAndErrors)(l,"maxLength",typeof l.maxLength=="number"?Math.min(l.maxLength,u.value):u.value,u.message,a);break;case"email":switch(a.emailStrategy){case"format:email":i(l,"email",u.message,a);break;case"format:idn-email":i(l,"idn-email",u.message,a);break;case"pattern:zod":s(l,n.emailPattern,u.message,a);break}break;case"url":i(l,"uri",u.message,a);break;case"uuid":i(l,"uuid",u.message,a);break;case"regex":s(l,u.regex.source,u.message,a);break;case"cuid":s(l,n.cuidPattern,u.message,a);break;case"cuid2":s(l,n.cuid2Pattern,u.message,a);break;case"startsWith":s(l,"^"+r(u.value),u.message,a);break;case"endsWith":s(l,r(u.value)+"$",u.message,a);break;case"datetime":i(l,"date-time",u.message,a);break;case"length":(0,e.setResponseValueAndErrors)(l,"minLength",typeof l.minLength=="number"?Math.max(l.minLength,u.value):u.value,u.message,a),(0,e.setResponseValueAndErrors)(l,"maxLength",typeof l.maxLength=="number"?Math.min(l.maxLength,u.value):u.value,u.message,a);break;case"includes":{s(l,r(u.value),u.message,a);break}case"ip":{u.version!=="v6"&&i(l,"ipv4",u.message,a),u.version!=="v4"&&i(l,"ipv6",u.message,a);break}case"emoji":s(l,n.emojiPattern,u.message,a);break;case"ulid":{s(l,n.ulidPattern,u.message,a);break}}return l}n.parseStringDef=t;const r=o=>Array.from(o).map(a=>/[a-zA-Z0-9]/.test(a)?a:`\\${a}`).join(""),i=(o,a,l,u)=>{var c;o.format||!((c=o.anyOf)===null||c===void 0)&&c.some(f=>f.format)?(o.anyOf||(o.anyOf=[]),o.format&&(o.anyOf.push(Object.assign({format:o.format},o.errorMessage&&u.errorMessages&&{errorMessage:{format:o.errorMessage.format}})),delete o.format,o.errorMessage&&(delete o.errorMessage.format,Object.keys(o.errorMessage).length===0&&delete o.errorMessage)),o.anyOf.push(Object.assign({format:a},l&&u.errorMessages&&{errorMessage:{format:l}}))):(0,e.setResponseValueAndErrors)(o,"format",a,l,u)},s=(o,a,l,u)=>{var c;o.pattern||!((c=o.allOf)===null||c===void 0)&&c.some(f=>f.pattern)?(o.allOf||(o.allOf=[]),o.pattern&&(o.allOf.push(Object.assign({pattern:o.pattern},o.errorMessage&&u.errorMessages&&{errorMessage:{pattern:o.errorMessage.pattern}})),delete o.pattern,o.errorMessage&&(delete o.errorMessage.pattern,Object.keys(o.errorMessage).length===0&&delete o.errorMessage)),o.allOf.push(Object.assign({pattern:a},l&&u.errorMessages&&{errorMessage:{pattern:l}}))):(0,e.setResponseValueAndErrors)(o,"pattern",a,l,u)}})(Px);var $T;function Wae(){if($T)return sh;$T=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.parseRecordDef=void 0;const n=L1,e=wr(),t=Px;function r(i,s){var o,a,l,u,c;if(s.target==="openApi3"&&((o=i.keyType)===null||o===void 0?void 0:o._def.typeName)===n.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:i.keyType._def.values,properties:i.keyType._def.values.reduce((h,m)=>{var g;return Object.assign(Object.assign({},h),{[m]:(g=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"properties",m]})))!==null&&g!==void 0?g:{}})},{}),additionalProperties:!1};const f={type:"object",additionalProperties:(a=(0,e.parseDef)(i.valueType._def,Object.assign(Object.assign({},s),{currentPath:[...s.currentPath,"additionalProperties"]})))!==null&&a!==void 0?a:{}};if(s.target==="openApi3")return f;if(((l=i.keyType)===null||l===void 0?void 0:l._def.typeName)===n.ZodFirstPartyTypeKind.ZodString&&(!((u=i.keyType._def.checks)===null||u===void 0)&&u.length)){const h=Object.entries((0,t.parseStringDef)(i.keyType._def,s)).reduce((m,[g,v])=>g==="type"?m:Object.assign(Object.assign({},m),{[g]:v}),{});return Object.assign(Object.assign({},f),{propertyNames:h})}else if(((c=i.keyType)===null||c===void 0?void 0:c._def.typeName)===n.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},f),{propertyNames:{enum:i.keyType._def.values}});return f}return sh.parseRecordDef=r,sh}var oh={},eM;function jae(){if(eM)return oh;eM=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.parseSetDef=void 0;const n=Ps,e=wr();function t(r,i){const o={type:"array",uniqueItems:!0,items:(0,e.parseDef)(r.valueType._def,Object.assign(Object.assign({},i),{currentPath:[...i.currentPath,"items"]}))};return r.minSize&&(0,n.setResponseValueAndErrors)(o,"minItems",r.minSize.value,r.minSize.message,i),r.maxSize&&(0,n.setResponseValueAndErrors)(o,"maxItems",r.maxSize.value,r.maxSize.message,i),o}return oh.parseSetDef=t,oh}var ah={},tM;function Zae(){if(tM)return ah;tM=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.parseTupleDef=void 0;const n=wr();function e(t,r){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((i,s)=>(0,n.parseDef)(i._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[]),additionalItems:(0,n.parseDef)(t.rest._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"additionalItems"]}))}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((i,s)=>(0,n.parseDef)(i._def,Object.assign(Object.assign({},r),{currentPath:[...r.currentPath,"items",`${s}`]}))).reduce((i,s)=>s===void 0?i:[...i,s],[])}}return ah.parseTupleDef=e,ah}var J1={};Object.defineProperty(J1,"__esModule",{value:!0});J1.parseUndefinedDef=void 0;function Jae(){return{not:{}}}J1.parseUndefinedDef=Jae;var q1={};Object.defineProperty(q1,"__esModule",{value:!0});q1.parseUnknownDef=void 0;function qae(){return{}}q1.parseUnknownDef=qae;var nM;function wr(){if(nM)return Jf;nM=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.parseDef=void 0;const n=L1,e=F1,t=_ae(),r=N1,i=U1,s=Cae(),o=Tae(),a=G1,l=Pae(),u=Iae(),c=z1,f=Bae(),h=H1,m=kae(),g=V1,v=W1,y=j1,x=Nae(),_=Z1,b=Gae(),S=zae(),R=Hae(),T=Vae(),B=Wae(),C=jae(),P=Px,I=Zae(),k=J1,U=hL(),q=q1;function W(H,j,oe=!1){const te=j.seen.get(H);if(te&&!oe){const Me=$(te,j);if(Me!==void 0)return Me}const ge={def:H,path:j.currentPath,jsonSchema:void 0};j.seen.set(H,ge);const Pe=ce(H,H.typeName,j);return Pe&&N(H,j,Pe),ge.jsonSchema=Pe,Pe}Jf.parseDef=W;const $=(H,j)=>{switch(j.$refStrategy){case"root":return{$ref:H.path.length===0?"":H.path.length===1?`${H.path[0]}/`:H.path.join("/")};case"relative":return{$ref:ee(j.currentPath,H.path)};case"none":return H.path.length<j.currentPath.length&&H.path.every((oe,te)=>j.currentPath[te]===oe)?(console.warn(`Recursive reference detected at ${j.currentPath.join("/")}! Defaulting to any`),{}):void 0;case"seen":return H.path.length<j.currentPath.length&&H.path.every((oe,te)=>j.currentPath[te]===oe)?(console.warn(`Recursive reference detected at ${j.currentPath.join("/")}! Defaulting to any`),{}):H.jsonSchema}},ee=(H,j)=>{let oe=0;for(;oe<H.length&&oe<j.length&&H[oe]===j[oe];oe++);return[(H.length-oe).toString(),...j.slice(oe)].join("/")},ce=(H,j,oe)=>{switch(j){case n.ZodFirstPartyTypeKind.ZodString:return(0,P.parseStringDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodNumber:return(0,_.parseNumberDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodObject:return(0,b.parseObjectDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodBigInt:return(0,r.parseBigintDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodBoolean:return(0,i.parseBooleanDef)();case n.ZodFirstPartyTypeKind.ZodDate:return(0,a.parseDateDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodUndefined:return(0,k.parseUndefinedDef)();case n.ZodFirstPartyTypeKind.ZodNull:return(0,y.parseNullDef)(oe);case n.ZodFirstPartyTypeKind.ZodArray:return(0,t.parseArrayDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodUnion:case n.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,U.parseUnionDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodTuple:return(0,I.parseTupleDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodRecord:return(0,B.parseRecordDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodLiteral:return(0,h.parseLiteralDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodEnum:return(0,c.parseEnumDef)(H);case n.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,g.parseNativeEnumDef)(H);case n.ZodFirstPartyTypeKind.ZodNullable:return(0,x.parseNullableDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodOptional:return(0,S.parseOptionalDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodMap:return(0,m.parseMapDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodSet:return(0,C.parseSetDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodLazy:return W(H.getter()._def,oe);case n.ZodFirstPartyTypeKind.ZodPromise:return(0,T.parsePromiseDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodNaN:case n.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)();case n.ZodFirstPartyTypeKind.ZodEffects:return(0,u.parseEffectsDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodAny:return(0,e.parseAnyDef)();case n.ZodFirstPartyTypeKind.ZodUnknown:return(0,q.parseUnknownDef)();case n.ZodFirstPartyTypeKind.ZodDefault:return(0,l.parseDefaultDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodBranded:return(0,s.parseBrandedDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodCatch:return(0,o.parseCatchDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodPipeline:return(0,R.parsePipelineDef)(H,oe);case n.ZodFirstPartyTypeKind.ZodFunction:case n.ZodFirstPartyTypeKind.ZodVoid:case n.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(te=>{})()}},N=(H,j,oe)=>(H.description&&(oe.description=H.description,j.markdownDescription&&(oe.markdownDescription=H.description)),oe);return Jf}var X1={},pL={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultOptions=n.defaultOptions=void 0,n.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"string",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,emailStrategy:"format:email"};const e=t=>typeof t=="string"?Object.assign(Object.assign({},n.defaultOptions),{name:t}):Object.assign(Object.assign({},n.defaultOptions),t);n.getDefaultOptions=e})(pL);Object.defineProperty(X1,"__esModule",{value:!0});X1.getRefs=void 0;const Xae=pL,Kae=n=>{const e=(0,Xae.getDefaultOptions)(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return Object.assign(Object.assign({},e),{currentPath:t,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))})};X1.getRefs=Kae;Object.defineProperty(k1,"__esModule",{value:!0});k1.zodToJsonSchema=void 0;const rM=wr(),Yae=X1,Qae=(n,e)=>{var t;const r=(0,Yae.getRefs)(e),i=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[u,c])=>{var f;return Object.assign(Object.assign({},l),{[u]:(f=(0,rM.parseDef)(c._def,Object.assign(Object.assign({},r),{currentPath:[...r.basePath,r.definitionPath,u]}),!0))!==null&&f!==void 0?f:{}})},{}):void 0,s=typeof e=="string"?e:e==null?void 0:e.name,o=(t=(0,rM.parseDef)(n._def,s===void 0?r:Object.assign(Object.assign({},r),{currentPath:[...r.basePath,r.definitionPath,s]}),!1))!==null&&t!==void 0?t:{},a=s===void 0?i?Object.assign(Object.assign({},o),{[r.definitionPath]:i}):o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:Object.assign(Object.assign({},i),{[s]:o})};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":r.target==="jsonSchema2019-09"&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),a};k1.zodToJsonSchema=Qae;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.zodToJsonSchema=void 0;const e=k1;Object.defineProperty(n,"zodToJsonSchema",{enumerable:!0,get:function(){return e.zodToJsonSchema}}),n.default=e.zodToJsonSchema})(sL);function $ae(n){return{name:n.name,description:n.description,parameters:sL.zodToJsonSchema(n.schema)}}function ele(n){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:t,azureOpenAIApiKey:r,azureOpenAIBasePath:i,baseURL:s}=n;if(r&&i&&e)return`${i}/${e}`;if(r){if(!t)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${t}.openai.azure.com/openai/deployments/${e}`}return s}const tle=()=>typeof window<"u"&&typeof window.document<"u",nle=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",rle=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),mL=()=>typeof Deno<"u",ile=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!mL(),sle=()=>{let n;return tle()?n="browser":ile()?n="node":nle()?n="webworker":rle()?n="jsdom":mL()?n="deno":n="other",n};let K5;async function ole(){return K5===void 0&&(K5={library:"langchain-js",runtime:sle()}),K5}function Rr(n){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[n]:void 0}catch{return}}const ale=async(n,e,t,r,i,s,o,a)=>(await n.call(fetch,"https://api.promptlayer.com/track-request",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({function_name:e,provider:"langchain",kwargs:t,tags:r,request_response:i,request_start_time:Math.floor(s/1e3),request_end_time:Math.floor(o/1e3),api_key:a})})).json(),lle="modulepreload",ule=function(n){return"/"+n},iM={},cg=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=ule(s),s in iM)return;iM[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":lle,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};let O3;const cle=new Uint8Array(16);function dle(){if(!O3&&(O3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!O3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O3(cle)}const hr=[];for(let n=0;n<256;++n)hr.push((n+256).toString(16).slice(1));function fle(n,e=0){return hr[n[e+0]]+hr[n[e+1]]+hr[n[e+2]]+hr[n[e+3]]+"-"+hr[n[e+4]]+hr[n[e+5]]+"-"+hr[n[e+6]]+hr[n[e+7]]+"-"+hr[n[e+8]]+hr[n[e+9]]+"-"+hr[n[e+10]]+hr[n[e+11]]+hr[n[e+12]]+hr[n[e+13]]+hr[n[e+14]]+hr[n[e+15]]}const hle=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sM={randomUUID:hle};function To(n,e,t){if(sM.randomUUID&&!e&&!n)return sM.randomUUID();n=n||{};const r=n.random||(n.rng||dle)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return fle(r)}class ple{}class y0 extends ple{get lc_namespace(){return["langchain","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,eL(this.constructor)]}constructor(e){var t;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:typeof process<"u"?((t=process.env)==null?void 0:t.LANGCHAIN_CALLBACKS_BACKGROUND)!=="true":!0}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever)}copy(){return new this.constructor(this)}toJSON(){return Iu.prototype.toJSON.call(this)}toJSONNotImplemented(){return Iu.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends y0{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:To()}),Object.assign(this,e)}}return new t}}var Ix={exports:{}};Ix.exports;(function(n){const t=(s=0)=>o=>`\x1B[${38+s};5;${o}m`,r=(s=0)=>(o,a,l)=>`\x1B[${38+s};2;${o};${a};${l}m`;function i(){const s=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(const[a,l]of Object.entries(o)){for(const[u,c]of Object.entries(l))o[u]={open:`\x1B[${c[0]}m`,close:`\x1B[${c[1]}m`},l[u]=o[u],s.set(c[0],c[1]);Object.defineProperty(o,a,{value:l,enumerable:!1})}return Object.defineProperty(o,"codes",{value:s,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=t(),o.color.ansi16m=r(),o.bgColor.ansi256=t(10),o.bgColor.ansi16m=r(10),Object.defineProperties(o,{rgbToAnsi256:{value:(a,l,u)=>a===l&&l===u?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(l/255*5)+Math.round(u/255*5),enumerable:!1},hexToRgb:{value:a=>{const l=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(a.toString(16));if(!l)return[0,0,0];let{colorString:u}=l.groups;u.length===3&&(u=u.split("").map(f=>f+f).join(""));const c=Number.parseInt(u,16);return[c>>16&255,c>>8&255,c&255]},enumerable:!1},hexToAnsi256:{value:a=>o.rgbToAnsi256(...o.hexToRgb(a)),enumerable:!1}}),o}Object.defineProperty(n,"exports",{enumerable:!0,get:i})})(Ix);var mle=Ix.exports;const gL=il(mle);function Y5(n,e){return n&&!Array.isArray(n)&&typeof n=="object"?n:{[e]:n}}class K1 extends y0{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}_addChildRun(e,t){e.child_runs.push(t)}async _startTrace(e){var t;if(e.parent_run_id!==void 0){const r=this.runMap.get(e.parent_run_id);r&&(this._addChildRun(r,e),r.child_execution_order=Math.max(r.child_execution_order,e.child_execution_order))}this.runMap.set(e.id,e),await((t=this.onRunCreate)==null?void 0:t.call(this,e))}async _endTrace(e){var r;const t=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const t=e!==void 0&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,r,i,s,o,a,l){var m;const u=this._getExecutionOrder(i),c=Date.now(),f=a?{...s,metadata:a}:s,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:f??{},tags:o||[]};return await this._startTrace(h),await((m=this.onLLMStart)==null?void 0:m.call(this,h)),h}async handleChatModelStart(e,t,r,i,s,o,a,l){var m;const u=this._getExecutionOrder(i),c=Date.now(),f=a?{...s,metadata:a}:s,h={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:t},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:f??{},tags:o||[]};return await this._startTrace(h),await((m=this.onLLMStart)==null?void 0:m.call(this,h)),h}async handleLLMEnd(e,t){var i;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.outputs=e,r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleLLMError(e,t){var i;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="llm")throw new Error("No LLM run to end.");return r.end_time=Date.now(),r.error=e.message,r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleChainStart(e,t,r,i,s,o,a,l){var h;const u=this._getExecutionOrder(i),c=Date.now(),f={id:r,name:l??e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:t,execution_order:u,child_execution_order:u,run_type:a??"chain",child_runs:[],extra:o?{metadata:o}:{},tags:s||[]};return await this._startTrace(f),await((h=this.onChainStart)==null?void 0:h.call(this,f)),f}async handleChainEnd(e,t,r,i,s){var a;const o=this.runMap.get(t);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.outputs=Y5(e,"output"),o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(o.inputs=Y5(s.inputs,"input")),await((a=this.onChainEnd)==null?void 0:a.call(this,o)),await this._endTrace(o),o}async handleChainError(e,t,r,i,s){var a;const o=this.runMap.get(t);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.error=e.message,o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),(s==null?void 0:s.inputs)!==void 0&&(o.inputs=Y5(s.inputs,"input")),await((a=this.onChainError)==null?void 0:a.call(this,o)),await this._endTrace(o),o}async handleToolStart(e,t,r,i,s,o,a){var f;const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:t},execution_order:l,child_execution_order:l,run_type:"tool",child_runs:[],extra:o?{metadata:o}:{},tags:s||[]};return await this._startTrace(c),await((f=this.onToolStart)==null?void 0:f.call(this,c)),c}async handleToolEnd(e,t){var i;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleToolError(e,t){var i;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=e.message,r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,t){var s;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const i=r;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((s=this.onAgentAction)==null?void 0:s.call(this,r))}async handleAgentEnd(e,t){var i;const r=this.runMap.get(t);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,r)))}async handleRetrieverStart(e,t,r,i,s,o,a){var f;const l=this._getExecutionOrder(i),u=Date.now(),c={id:r,name:a??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:t},execution_order:l,child_execution_order:l,run_type:"retriever",child_runs:[],extra:o?{metadata:o}:{},tags:s||[]};return await this._startTrace(c),await((f=this.onRetrieverStart)==null?void 0:f.call(this,c)),c}async handleRetrieverEnd(e,t){var i;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,t){var i;const r=this.runMap.get(t);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=e.message,r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,r)),await this._endTrace(r),r}async handleText(e,t){var i;const r=this.runMap.get(t);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,r)))}async handleLLMNewToken(e,t,r,i,s,o){var l;const a=this.runMap.get(r);if(!a||(a==null?void 0:a.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return a.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:o==null?void 0:o.chunk}}),await((l=this.onLLMNewToken)==null?void 0:l.call(this,a,e)),a}}function Gr(n,e){return`${n.open}${e}${n.close}`}function ps(n,e){try{return JSON.stringify(n,null,2)}catch{return e}}function va(n){if(!n.end_time)return"";const e=n.end_time-n.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:ri}=gL;class oM extends K1{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let r=e;for(;r.parent_run_id;){const i=this.runMap.get(r.parent_run_id);if(i)t.push(i),r=i;else break}return t}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((i,s,o)=>{const a=`${i.execution_order}:${i.run_type}:${i.name}`;return s===o.length-1?Gr(gL.bold,a):a}).join(" > ");return Gr(ri.grey,r)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.green,"[chain/start]")} [${t}] Entering Chain run with input: ${ps(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.cyan,"[chain/end]")} [${t}] [${va(e)}] Exiting Chain run with output: ${ps(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.red,"[chain/error]")} [${t}] [${va(e)}] Chain run errored with error: ${ps(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${Gr(ri.green,"[llm/start]")} [${t}] Entering LLM run with input: ${ps(r,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.cyan,"[llm/end]")} [${t}] [${va(e)}] Exiting LLM run with output: ${ps(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.red,"[llm/error]")} [${t}] [${va(e)}] LLM run errored with error: ${ps(e.error,"[error]")}`)}onToolStart(e){var r;const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.green,"[tool/start]")} [${t}] Entering Tool run with input: "${(r=e.inputs.input)==null?void 0:r.trim()}"`)}onToolEnd(e){var r,i;const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.cyan,"[tool/end]")} [${t}] [${va(e)}] Exiting Tool run with output: "${(i=(r=e.outputs)==null?void 0:r.output)==null?void 0:i.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.red,"[tool/error]")} [${t}] [${va(e)}] Tool run errored with error: ${ps(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${ps(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.cyan,"[retriever/end]")} [${t}] [${va(e)}] Exiting Retriever run with output: ${ps(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${Gr(ri.red,"[retriever/error]")} [${t}] [${va(e)}] Retriever run errored with error: ${ps(e.error,"[error]")}`)}onAgentAction(e){const t=e,r=this.getBreadcrumbs(e);console.log(`${Gr(ri.blue,"[agent/action]")} [${r}] Agent selected action: ${ps(t.actions[t.actions.length-1],"[action]")}`)}}const gle=[400,401,403,404,405,406,407,408,409];class yle{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6;const t="default"in zo?zo.default:zo;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>C2(()=>e(...t).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt(r){var s;if(r.message.startsWith("Cancel")||r.message.startsWith("TimeoutError")||r.message.startsWith("AbortError")||(r==null?void 0:r.code)==="ECONNABORTED")throw r;const i=(s=r==null?void 0:r.response)==null?void 0:s.status;if(i&&gle.includes(+i))throw r},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){return e.signal?Promise.race([this.call(t,...r),new Promise((i,s)=>{var o;(o=e.signal)==null||o.addEventListener("abort",()=>{s(new Error("AbortError"))})})]):this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(t=>t.ok?t:Promise.reject(t)))}}function aM(n){return typeof(n==null?void 0:n._getType)=="function"}function lM(n){const e={type:n._getType(),data:{content:n.content}};return n!=null&&n.additional_kwargs&&Object.keys(n.additional_kwargs).length>0&&(e.data.additional_kwargs={...n.additional_kwargs}),e}const vle=()=>typeof window<"u"&&typeof window.document<"u",xle=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",wle=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),yL=()=>typeof Deno<"u",ble=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!yL(),_le=()=>{let n;return vle()?n="browser":ble()?n="node":xle()?n="webworker":wle()?n="jsdom":yL()?n="deno":n="other",n};let Q5;async function Ale(){if(Q5===void 0){const n=_le(),e=Sle();Q5={library:"langsmith",runtime:n,...e}}return Q5}function cd(n){var e;try{return typeof process<"u"?(e=process.env)==null?void 0:e[n]:void 0}catch{return}}let $5;function Sle(){if($5!==void 0)return $5;const n=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const t of n){const r=cd(t);r!==void 0&&(e[t]=r)}return $5=e,e}const uM=n=>{const t=n.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return t==="localhost"||t==="127.0.0.1"||t==="::1"},Tc=async(n,e)=>{const t=await n.text();if(!n.ok)throw new Error(`Failed to ${e}: ${n.status} ${n.statusText} ${t}`)};async function Cle(n){const e=[];for await(const t of n)e.push(t);return e}function e6(n){if(n!==void 0)return n.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function cM(n){return cd("LANGCHAIN_HIDE_INPUTS")==="true"?{}:n}function dM(n){return cd("LANGCHAIN_HIDE_OUTPUTS")==="true"?{}:n}class Rx{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null});const t=Rx.getDefaultClientConfig();this.apiUrl=e6(e.apiUrl??t.apiUrl)??"",this.apiKey=e6(e.apiKey??t.apiKey),this.webUrl=e6(e.webUrl??t.webUrl),this.validateApiKeyIfHosted(),this.timeout_ms=e.timeout_ms??4e3,this.caller=new yle(e.callerOptions??{})}static getDefaultClientConfig(){const e=cd("LANGCHAIN_API_KEY");return{apiUrl:cd("LANGCHAIN_ENDPOINT")??(e?"https://api.smith.langchain.com":"http://localhost:1984"),apiKey:e,webUrl:void 0}}validateApiKeyIfHosted(){if(!uM(this.apiUrl)&&!this.apiKey)throw new Error("API key must be provided when using hosted LangSmith API")}getHostUrl(){return this.webUrl?this.webUrl:uM(this.apiUrl)?(this.webUrl="http://localhost","http://localhost"):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com","https://dev.smith.langchain.com"):(this.webUrl="https://smith.langchain.com","https://smith.langchain.com")}get headers(){const e={};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async _getResponse(e,t){const r=(t==null?void 0:t.toString())??"",i=`${this.apiUrl}${e}?${r}`,s=await this.caller.call(fetch,i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to fetch ${e}: ${s.status} ${s.statusText}`);return s}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams){let r=Number(t.get("offset"))||0;const i=Number(t.get("limit"))||100;for(;;){t.set("offset",String(r)),t.set("limit",String(i));const s=`${this.apiUrl}${e}?${t}`,o=await this.caller.call(fetch,s,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!o.ok)throw new Error(`Failed to fetch ${e}: ${o.status} ${o.statusText}`);const a=await o.json();if(a.length===0||(yield a,a.length<i))break;r+=a.length}}async createRun(e){const t={...this.headers,"Content-Type":"application/json"},r=e.extra??{},i=await Ale(),s=e.project_name;delete e.project_name;const o={session_name:s,...e,extra:{...e.extra,runtime:{...i,...r.runtime}}};o.inputs=cM(o.inputs),o.outputs&&(o.outputs=dM(o.outputs));const a=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)});await Tc(a,"create run")}async updateRun(e,t){t.inputs&&(t.inputs=cM(t.inputs)),t.outputs&&(t.outputs=dM(t.outputs));const r={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:r,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});await Tc(i,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){let r=await this._get(`/runs/${e}`);return t&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:t,projectOpts:r}){if(t!==void 0){let i;t.session_id?i=t.session_id:r!=null&&r.projectName?i=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?i=r==null?void 0:r.projectId:i=(await this.readProject({projectName:cd("LANGCHAIN_PROJECT")||"default"})).id;const s=await this._getTenantId();return`${this.getHostUrl()}/o/${s}/projects/p/${i}/r/${t.id}?poll=true`}else if(e!==void 0){const i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await Cle(this.listRuns({id:e.child_run_ids})),r={},i={};t.sort((s,o)=>((s==null?void 0:s.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const s of t){if(s.parent_run_id===null||s.parent_run_id===void 0)throw new Error(`Child run ${s.id} has no parent`);s.parent_run_id in r||(r[s.parent_run_id]=[]),r[s.parent_run_id].push(s),i[s.id]=s}e.child_runs=r[e.id]||[];for(const s in r)s!==e.id&&(i[s].child_runs=r[s]);return e}async*listRuns({projectId:e,projectName:t,parentRunId:r,referenceExampleId:i,startTime:s,executionOrder:o,runType:a,error:l,id:u,limit:c,offset:f,query:h,filter:m}){const g=new URLSearchParams;let v=e;if(t){if(e)throw new Error("Only one of projectId or projectName may be given");v=(await this.readProject({projectName:t})).id}if(v&&g.append("session",v),r&&g.append("parent_run",r),i&&g.append("reference_example",i),s&&g.append("start_time",s.toISOString()),o&&g.append("execution_order",o.toString()),a&&g.append("run_type",a),l!==void 0&&g.append("error",l.toString()),u!==void 0)for(const y of u)g.append("id",y);c!==void 0&&g.append("limit",c.toString()),f!==void 0&&g.append("offset",f.toString()),h!==void 0&&g.append("query",h),m!==void 0&&g.append("filter",m);for await(const y of this._getPaginated("/runs",g))yield*y}async shareRun(e,{shareId:t}={}){const r={run_id:e,share_token:t||To()},s=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms)})).json();if(s===null||!("share_token"in s))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${s.share_token}/r`}async unshareRun(e){const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Tc(t,"unshare run")}async readRunSharedLink(e){const r=await(await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const r=new URLSearchParams({share_token:e});if(t!==void 0)for(const o of t)r.append("id",o);return await(await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)})).json()}async createProject({projectName:e,projectExtra:t,upsert:r,referenceDatasetId:i}){const s=r?"?upsert=true":"",o=`${this.apiUrl}/sessions${s}`,a={name:e};t!==void 0&&(a.extra=t),i!==void 0&&(a.reference_dataset_id=i);const l=await this.caller.call(fetch,o,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms)}),u=await l.json();if(!l.ok)throw new Error(`Failed to create session ${e}: ${l.status} ${l.statusText}`);return u}async readProject({projectId:e,projectName:t}){let r="/sessions";const i=new URLSearchParams;if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)r+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide projectName or projectId");const s=await this._get(r,i);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Project[id=${e}, name=${t}] not found`);o=s[0]}else o=s;return o}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:r,referenceDatasetId:i,referenceDatasetName:s,referenceFree:o}={}){const a=new URLSearchParams;if(e!==void 0)for(const l of e)a.append("id",l);if(t!==void 0&&a.append("name",t),r!==void 0&&a.append("name_contains",r),i!==void 0)a.append("reference_dataset",i);else if(s!==void 0){const l=await this.readDataset({datasetName:s});a.append("reference_dataset",l.id)}o!==void 0&&a.append("reference_free",o.toString());for await(const l of this._getPaginated("/sessions",a))yield*l}async deleteProject({projectId:e,projectName:t}){let r;if(e===void 0&&t===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&t!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:t})).id:r=e;const i=await this.caller.call(fetch,`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});await Tc(i,`delete session ${r} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:r,outputKeys:i,description:s,dataType:o,name:a}){const l=`${this.apiUrl}/datasets/upload`,u=new FormData;u.append("file",e,t),r.forEach(h=>{u.append("input_keys",h)}),i.forEach(h=>{u.append("output_keys",h)}),s&&u.append("description",s),o&&u.append("data_type",o),a&&u.append("name",a);const c=await this.caller.call(fetch,l,{method:"POST",headers:this.headers,body:u,signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok){const h=await c.json();throw h.detail&&h.detail.includes("already exists")?new Error(`Dataset ${t} already exists`):new Error(`Failed to upload CSV: ${c.status} ${c.statusText}`)}return await c.json()}async createDataset(e,{description:t,dataType:r}={}){const i={name:e,description:t};r&&(i.data_type=r);const s=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok){const a=await s.json();throw a.detail&&a.detail.includes("already exists")?new Error(`Dataset ${e} already exists`):new Error(`Failed to create dataset ${s.status} ${s.statusText}`)}return await s.json()}async readDataset({datasetId:e,datasetName:t}){let r="/datasets";const i=new URLSearchParams({limit:"1"});if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)r+=`/${e}`;else if(t!==void 0)i.append("name",t);else throw new Error("Must provide datasetName or datasetId");const s=await this._get(r,i);let o;if(Array.isArray(s)){if(s.length===0)throw new Error(`Dataset[id=${e}, name=${t}] not found`);o=s[0]}else o=s;return o}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){let r="/datasets";if(e===void 0)if(t!==void 0)e=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(a=>JSON.parse(a))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:r,datasetName:i,datasetNameContains:s}={}){const o="/datasets",a=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(r!==void 0)for(const l of r)a.append("id",l);i!==void 0&&a.append("name",i),s!==void 0&&a.append("name_contains",s);for await(const l of this._getPaginated(o,a))yield*l}async deleteDataset({datasetId:e,datasetName:t}){let r="/datasets",i=e;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(t!==void 0&&(i=(await this.readDataset({datasetName:t})).id),i!==void 0)r+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");const s=await this.caller.call(fetch,this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!s.ok)throw new Error(`Failed to delete ${r}: ${s.status} ${s.statusText}`);await s.json()}async createExample(e,t,{datasetId:r,datasetName:i,createdAt:s,exampleId:o}){let a=r;if(a===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:i})).id);const u={dataset_id:a,inputs:e,outputs:t,created_at:(s||new Date).toISOString(),id:o},c=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms)});if(!c.ok)throw new Error(`Failed to create example: ${c.status} ${c.statusText}`);return await c.json()}async createLLMExample(e,t,r){return this.createExample({input:e},{output:t},r)}async createChatExample(e,t,r){const i=e.map(o=>aM(o)?lM(o):o),s=aM(t)?lM(t):t;return this.createExample({input:i},{output:s},r)}async readExample(e){const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:r}={}){let i;if(e!==void 0&&t!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)i=e;else if(t!==void 0)i=(await this.readDataset({datasetName:t})).id;else throw new Error("Must provide a datasetName or datasetId");const s=new URLSearchParams({dataset:i});if(r!==void 0)for(const o of r)s.append("id",o);for await(const o of this._getPaginated("/examples",s))yield*o}async deleteExample(e){const t=`/examples/${e}`,r=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok)throw new Error(`Failed to delete ${t}: ${r.status} ${r.statusText}`);await r.json()}async updateExample(e,t){const r=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok)throw new Error(`Failed to update example ${e}: ${r.status} ${r.statusText}`);return await r.json()}async evaluateRun(e,t,{sourceInfo:r,loadChildRuns:i}={loadChildRuns:!1}){let s;if(typeof e=="string")s=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)s=e;else throw new Error(`Invalid run type: ${typeof e}`);let o;s.reference_example_id!==null&&s.reference_example_id!==void 0&&(o=await this.readExample(s.reference_example_id));const a=await t.evaluateRun(s,o);let l=r??{};return a.evaluatorInfo&&(l={...l,...a.evaluatorInfo}),await this.createFeedback(s.id,a.key,{score:a.score,value:a.value,comment:a.comment,correction:a.correction,sourceInfo:l,feedbackSourceType:"model"})}async createFeedback(e,t,{score:r,value:i,correction:s,comment:o,sourceInfo:a,feedbackSourceType:l="api",sourceRunId:u,feedbackId:c}){const f={type:l??"api",metadata:a??{}};u!==void 0&&(f==null?void 0:f.metadata)!==void 0&&!f.metadata.__run&&(f.metadata.__run={run_id:u});const h={id:c??To(),run_id:e,key:t,score:r,value:i,correction:s,comment:o,feedback_source:f},m=await this.caller.call(fetch,`${this.apiUrl}/feedback`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms)});return await Tc(m,"create feedback"),h}async updateFeedback(e,{score:t,value:r,correction:i,comment:s}){const o={};t!=null&&(o.score=t),r!=null&&(o.value=r),i!=null&&(o.correction=i),s!=null&&(o.comment=s);const a=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms)});await Tc(a,"update feedback")}async readFeedback(e){const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){const t=`/feedback/${e}`,r=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms)});if(!r.ok)throw new Error(`Failed to delete ${t}: ${r.status} ${r.statusText}`);await r.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:r}={}){const i=new URLSearchParams;if(e&&i.append("run",e.join(",")),t)for(const s of t)i.append("key",s);if(r)for(const s of r)i.append("source",s);for await(const s of this._getPaginated("/feedback",i))yield*s}}class Tle extends K1{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:r,client:i}=e;this.projectName=r??Rr("LANGCHAIN_PROJECT")??Rr("LANGCHAIN_SESSION"),this.exampleId=t,this.client=i??new Rx({})}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await ole()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async _persistRunSingle(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async _updateRunSingle(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs};await this.client.updateRun(e.id,t)}async onRetrieverStart(e){await this._persistRunSingle(e)}async onRetrieverEnd(e){await this._updateRunSingle(e)}async onRetrieverError(e){await this._updateRunSingle(e)}async onLLMStart(e){await this._persistRunSingle(e)}async onLLMEnd(e){await this._updateRunSingle(e)}async onLLMError(e){await this._updateRunSingle(e)}async onChainStart(e){await this._persistRunSingle(e)}async onChainEnd(e){await this._updateRunSingle(e)}async onChainError(e){await this._updateRunSingle(e)}async onToolStart(e){await this._persistRunSingle(e)}async onToolEnd(e){await this._updateRunSingle(e)}async onToolError(e){await this._updateRunSingle(e)}}function Bx(n,e="Human",t="AI"){const r=[];for(const i of n){let s;if(i._getType()==="human")s=e;else if(i._getType()==="ai")s=t;else if(i._getType()==="system")s="System";else if(i._getType()==="function")s="Function";else if(i._getType()==="generic")s=i.role;else throw new Error(`Got unsupported message type: ${i}`);const o=i.name?`${i.name}, `:"";r.push(`${s}: ${o}${i.content}`)}return r.join(`
`)}class Mle extends K1{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"endpoint",{enumerable:!0,configurable:!0,writable:!0,value:Rr("LANGCHAIN_ENDPOINT")||"http://localhost:1984"}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{"Content-Type":"application/json"}}),Object.defineProperty(this,"session",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const e=Rr("LANGCHAIN_API_KEY");e&&(this.headers["x-api-key"]=e)}async newSession(e){const t={start_time:Date.now(),name:e},r=await this.persistSession(t);return this.session=r,r}async loadSession(e){const t=`${this.endpoint}/sessions?name=${e}`;return this._handleSessionResponse(t)}async loadDefaultSession(){const e=`${this.endpoint}/sessions?name=default`;return this._handleSessionResponse(e)}async convertV2RunToRun(e){var s;const t=this.session??await this.loadDefaultSession(),r=e.serialized;let i;if(e.run_type==="llm"){const o=e.inputs.prompts?e.inputs.prompts:e.inputs.messages.map(l=>Bx(l));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:r,type:e.run_type,session_id:t.id,prompts:o,response:e.outputs}}else if(e.run_type==="chain"){const o=await Promise.all(e.child_runs.map(l=>this.convertV2RunToRun(l)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:r,type:e.run_type,session_id:t.id,inputs:e.inputs,outputs:e.outputs,child_llm_runs:o.filter(l=>l.type==="llm"),child_chain_runs:o.filter(l=>l.type==="chain"),child_tool_runs:o.filter(l=>l.type==="tool")}}else if(e.run_type==="tool"){const o=await Promise.all(e.child_runs.map(l=>this.convertV2RunToRun(l)));i={uuid:e.id,start_time:e.start_time,end_time:e.end_time,execution_order:e.execution_order,child_execution_order:e.child_execution_order,serialized:r,type:e.run_type,session_id:t.id,tool_input:e.inputs.input,output:(s=e.outputs)==null?void 0:s.output,action:JSON.stringify(r),child_llm_runs:o.filter(l=>l.type==="llm"),child_chain_runs:o.filter(l=>l.type==="chain"),child_tool_runs:o.filter(l=>l.type==="tool")}}else throw new Error(`Unknown run type: ${e.run_type}`);return i}async persistRun(e){let t,r;e.run_type!==void 0?r=await this.convertV2RunToRun(e):r=e,r.type==="llm"?t=`${this.endpoint}/llm-runs`:r.type==="chain"?t=`${this.endpoint}/chain-runs`:t=`${this.endpoint}/tool-runs`;const i=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(r)});i.ok||console.error(`Failed to persist run: ${i.status} ${i.statusText}`)}async persistSession(e){const t=`${this.endpoint}/sessions`,r=await fetch(t,{method:"POST",headers:this.headers,body:JSON.stringify(e)});return r.ok?{id:(await r.json()).id,...e}:(console.error(`Failed to persist session: ${r.status} ${r.statusText}, using default session.`),{id:1,...e})}async _handleSessionResponse(e){const t=await fetch(e,{method:"GET",headers:this.headers});let r;if(!t.ok)return console.error(`Failed to load session: ${t.status} ${t.statusText}`),r={id:1,start_time:Date.now()},this.session=r,r;const i=await t.json();return i.length===0?(r={id:1,start_time:Date.now()},this.session=r,r):([r]=i,this.session=r,r)}}async function Ele(n){const e=new Mle;return n?await e.loadSession(n):await e.loadDefaultSession(),e}async function Ple(){return new Tle}let t6;function Ile(){const n="default"in zo?zo.default:zo;return new n({autoStart:!0,concurrency:1})}async function gr(n,e){e===!0?await n():(typeof t6>"u"&&(t6=Ile()),t6.add(n))}class Rle{setHandler(e){return this.setHandlers([e])}}class Y1{constructor(e,t,r,i,s,o,a,l){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:l})}async handleText(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;try{await((r=t.handleText)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleText: ${i}`)}},t.awaitHandlers)))}}class Ble extends Y1{getChild(e){const t=new ns(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreRetriever)try{await((r=t.handleRetrieverEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch{console.error(`Error in handler ${t.constructor.name}, handleRetriever`)}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreRetriever)try{await((r=t.handleRetrieverError)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${i}`)}},t.awaitHandlers)))}}class fM extends Y1{async handleLLMNewToken(e,t,r,i,s,o){await Promise.all(this.handlers.map(a=>gr(async()=>{var l;if(!a.ignoreLLM)try{await((l=a.handleLLMNewToken)==null?void 0:l.call(a,e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,o))}catch(u){console.error(`Error in handler ${a.constructor.name}, handleLLMNewToken: ${u}`)}},a.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreLLM)try{await((r=t.handleLLMError)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${i}`)}},t.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreLLM)try{await((r=t.handleLLMEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${i}`)}},t.awaitHandlers)))}}class Dle extends Y1{getChild(e){const t=new ns(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,r,i,s){await Promise.all(this.handlers.map(o=>gr(async()=>{var a;if(!o.ignoreChain)try{await((a=o.handleChainError)==null?void 0:a.call(o,e,this.runId,this._parentRunId,this.tags,s))}catch(l){console.error(`Error in handler ${o.constructor.name}, handleChainError: ${l}`)}},o.awaitHandlers)))}async handleChainEnd(e,t,r,i,s){await Promise.all(this.handlers.map(o=>gr(async()=>{var a;if(!o.ignoreChain)try{await((a=o.handleChainEnd)==null?void 0:a.call(o,e,this.runId,this._parentRunId,this.tags,s))}catch(l){console.error(`Error in handler ${o.constructor.name}, handleChainEnd: ${l}`)}},o.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleAgentAction)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${i}`)}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleAgentEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${i}`)}},t.awaitHandlers)))}}class kle extends Y1{getChild(e){const t=new ns(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleToolError)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolError: ${i}`)}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>gr(async()=>{var r;if(!t.ignoreAgent)try{await((r=t.handleToolEnd)==null?void 0:r.call(t,e,this.runId,this._parentRunId,this.tags))}catch(i){console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${i}`)}},t.awaitHandlers)))}}class ns extends Rle{constructor(e){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=[],this.inheritableHandlers=[],this._parentRunId=e}async handleLLMStart(e,t,r=void 0,i=void 0,s=void 0,o=void 0,a=void 0,l=void 0){return Promise.all(t.map(async u=>{const c=To();return await Promise.all(this.handlers.map(f=>gr(async()=>{var h;if(!f.ignoreLLM)try{await((h=f.handleLLMStart)==null?void 0:h.call(f,e,[u],c,this._parentRunId,s,this.tags,this.metadata,l))}catch(m){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${m}`)}},f.awaitHandlers))),new fM(c,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,r=void 0,i=void 0,s=void 0,o=void 0,a=void 0,l=void 0){return Promise.all(t.map(async u=>{const c=To();return await Promise.all(this.handlers.map(f=>gr(async()=>{var h,m;if(!f.ignoreLLM)try{if(f.handleChatModelStart)await((h=f.handleChatModelStart)==null?void 0:h.call(f,e,[u],c,this._parentRunId,s,this.tags,this.metadata,l));else if(f.handleLLMStart){const g=Bx(u);await((m=f.handleLLMStart)==null?void 0:m.call(f,e,[g],c,this._parentRunId,s,this.tags,this.metadata,l))}}catch(g){console.error(`Error in handler ${f.constructor.name}, handleLLMStart: ${g}`)}},f.awaitHandlers))),new fM(c,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,r=To(),i=void 0,s=void 0,o=void 0,a=void 0){return await Promise.all(this.handlers.map(l=>gr(async()=>{var u;if(!l.ignoreChain)try{await((u=l.handleChainStart)==null?void 0:u.call(l,e,t,r,this._parentRunId,this.tags,this.metadata,i,a))}catch(c){console.error(`Error in handler ${l.constructor.name}, handleChainStart: ${c}`)}},l.awaitHandlers))),new Dle(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,r=To(),i=void 0,s=void 0,o=void 0,a=void 0){return await Promise.all(this.handlers.map(l=>gr(async()=>{var u;if(!l.ignoreAgent)try{await((u=l.handleToolStart)==null?void 0:u.call(l,e,t,r,this._parentRunId,this.tags,this.metadata,a))}catch(c){console.error(`Error in handler ${l.constructor.name}, handleToolStart: ${c}`)}},l.awaitHandlers))),new kle(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,r=To(),i=void 0,s=void 0,o=void 0,a=void 0){return await Promise.all(this.handlers.map(l=>gr(async()=>{var u;if(!l.ignoreRetriever)try{await((u=l.handleRetrieverStart)==null?void 0:u.call(l,e,t,r,this._parentRunId,this.tags,this.metadata,a))}catch(c){console.error(`Error in handler ${l.constructor.name}, handleRetrieverStart: ${c}`)}},l.awaitHandlers))),new Ble(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const r=new ns(this._parentRunId);for(const i of this.handlers){const s=this.inheritableHandlers.includes(i);r.addHandler(i,s)}for(const i of this.tags){const s=this.inheritableTags.includes(i);r.addTags([i],s)}for(const i of Object.keys(this.metadata)){const s=Object.keys(this.inheritableMetadata).includes(i);r.addMetadata({[i]:this.metadata[i]},s)}for(const i of e)r.handlers.filter(s=>s.name==="console_callback_handler").some(s=>s.name===i.name)||r.addHandler(i,t);return r}static fromHandlers(e){class t extends y0{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:To()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new t),r}static async configure(e,t,r,i,s,o,a){let l;(e||t)&&(Array.isArray(e)||!e?(l=new ns,l.setHandlers((e==null?void 0:e.map(hM))??[],!0)):l=e,l=l.copy(Array.isArray(t)?t.map(hM):t==null?void 0:t.handlers,!1));const u=Rr("LANGCHAIN_VERBOSE")||(a==null?void 0:a.verbose),c=Rr("LANGCHAIN_TRACING_V2")==="true",f=c||(Rr("LANGCHAIN_TRACING")??!1);if(u||f){if(l||(l=new ns),u&&!l.handlers.some(h=>h.name===oM.prototype.name)){const h=new oM;l.addHandler(h,!0)}if(f&&!l.handlers.some(h=>h.name==="langchain_tracer"))if(c)l.addHandler(await Ple(),!0);else{const h=Rr("LANGCHAIN_PROJECT")&&Rr("LANGCHAIN_SESSION");l.addHandler(await Ele(h),!0)}}return(r||i)&&l&&(l.addTags(r??[]),l.addTags(i??[],!1)),(s||o)&&l&&(l.addMetadata(s??{}),l.addMetadata(o??{},!1)),l}}function hM(n){return"name"in n?n:y0.fromMethods(n)}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const Lle=Object.prototype.hasOwnProperty;function Ole(n,e){return Lle.call(n,e)}function Fle(n){if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(n);let e=[];for(let t in n)Ole(n,t)&&e.push(t);return e}function Bd(n){switch(typeof n){case"object":return JSON.parse(JSON.stringify(n));case"undefined":return null;default:return n}}function E4(n){let e=0;const t=n.length;let r;for(;e<t;){if(r=n.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Nle(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}function P4(n){if(n===void 0)return!0;if(n){if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(P4(n[t]))return!0}else if(typeof n=="object"){const t=Fle(n),r=t.length;for(var e=0;e<r;e++)if(P4(n[t[e]]))return!0}}return!1}function pM(n,e){const t=[n];for(const r in e){const i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&t.push(`${r}: ${i}`)}return t.join(`
`)}class Ule extends Error{constructor(e,t,r,i,s){super(pM(e,{name:t,index:r,operation:i,tree:s})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.setPrototypeOf(this,new.target.prototype),this.message=pM(e,{name:t,index:r,operation:i,tree:s})}}const zn=Ule,Kc={add:function(n,e,t){return n[e]=this.value,{newDocument:t}},remove:function(n,e,t){var r=n[e];return delete n[e],{newDocument:t,removed:r}},replace:function(n,e,t){var r=n[e];return n[e]=this.value,{newDocument:t,removed:r}},move:function(n,e,t){let r=I4(t,this.path);r&&(r=Bd(r));const i=Lh(t,{op:"remove",path:this.from}).removed;return Lh(t,{op:"add",path:this.path,value:i}),{newDocument:t,removed:r}},copy:function(n,e,t){const r=I4(t,this.from);return Lh(t,{op:"add",path:this.path,value:Bd(r)}),{newDocument:t}},test:function(n,e,t){return{newDocument:t,test:R2(n[e],this.value)}},_get:function(n,e,t){return this.value=n[e],{newDocument:t}}};var Gle={add:function(n,e,t){return E4(e)?n.splice(e,0,this.value):n[e]=this.value,{newDocument:t,index:e}},remove:function(n,e,t){var r=n.splice(e,1);return{newDocument:t,removed:r[0]}},replace:function(n,e,t){var r=n[e];return n[e]=this.value,{newDocument:t,removed:r}},move:Kc.move,copy:Kc.copy,test:Kc.test,_get:Kc._get};function I4(n,e){if(e=="")return n;var t={op:"_get",path:e};return Lh(n,t),t.value}function Lh(n,e,t=!1,r=!0,i=!0,s=0){if(t&&(typeof t=="function"?t(e,0,n,e.path):R4(e,0)),e.path===""){let o={newDocument:n};if(e.op==="add")return o.newDocument=e.value,o;if(e.op==="replace")return o.newDocument=e.value,o.removed=n,o;if(e.op==="move"||e.op==="copy")return o.newDocument=I4(n,e.from),e.op==="move"&&(o.removed=n),o;if(e.op==="test"){if(o.test=R2(n,e.value),o.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",s,e,n);return o.newDocument=n,o}else{if(e.op==="remove")return o.removed=n,o.newDocument=null,o;if(e.op==="_get")return e.value=n,o;if(t)throw new zn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,n);return o}}else{r||(n=Bd(n));const a=(e.path||"").split("/");let l=n,u=1,c=a.length,f,h,m;for(typeof t=="function"?m=t:m=R4;;){if(h=a[u],h&&h.indexOf("~")!=-1&&(h=Nle(h)),i&&(h=="__proto__"||h=="prototype"&&u>0&&a[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&f===void 0&&(l[h]===void 0?f=a.slice(0,u).join("/"):u==c-1&&(f=e.path),f!==void 0&&m(e,0,n,f)),u++,Array.isArray(l)){if(h==="-")h=l.length;else{if(t&&!E4(h))throw new zn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,n);E4(h)&&(h=~~h)}if(u>=c){if(t&&e.op==="add"&&h>l.length)throw new zn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,n);const g=Gle[e.op].call(e,l,h,n);if(g.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",s,e,n);return g}}else if(u>=c){const g=Kc[e.op].call(e,l,h,n);if(g.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",s,e,n);return g}if(l=l[h],t&&u<c&&(!l||typeof l!="object"))throw new zn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,n)}}}function Dx(n,e,t,r=!0,i=!0){if(t&&!Array.isArray(e))throw new zn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(n=Bd(n));const s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=Lh(n,e[o],t,!0,i,o),n=s[o].newDocument;return s.newDocument=n,s}function R4(n,e,t,r){if(typeof n!="object"||n===null||Array.isArray(n))throw new zn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,n,t);if(Kc[n.op]){if(typeof n.path!="string")throw new zn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,n,t);if(n.path.indexOf("/")!==0&&n.path.length>0)throw new zn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,n,t);if((n.op==="move"||n.op==="copy")&&typeof n.from!="string")throw new zn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,n,t);if((n.op==="add"||n.op==="replace"||n.op==="test")&&n.value===void 0)throw new zn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,n,t);if((n.op==="add"||n.op==="replace"||n.op==="test")&&P4(n.value))throw new zn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,n,t);if(t){if(n.op=="add"){var i=n.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new zn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,n,t)}else if(n.op==="replace"||n.op==="remove"||n.op==="_get"){if(n.path!==r)throw new zn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,n,t)}else if(n.op==="move"||n.op==="copy"){var o={op:"_get",path:n.from,value:void 0},a=zle([o],t);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new zn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,n,t)}}}else throw new zn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,n,t)}function zle(n,e,t){try{if(!Array.isArray(n))throw new zn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Dx(Bd(e),Bd(n),t||!0);else{t=t||R4;for(var r=0;r<n.length;r++)t(n[r],r,e,void 0)}}catch(i){if(i instanceof zn)return i;throw i}}function R2(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),r=Array.isArray(e),i,s,o;if(t&&r){if(s=n.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!R2(n[i],e[i]))return!1;return!0}if(t!=r)return!1;var a=Object.keys(n);if(s=a.length,s!==Object.keys(e).length)return!1;for(i=s;i--!==0;)if(!e.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!R2(n[o],e[o]))return!1;return!0}return n!==n&&e!==e}class Ap extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done&&this.reader.releaseLock(),e}catch(e){throw this.reader.releaseLock(),e}}async return(){this.ensureReader();const e=this.reader.cancel();return this.reader.releaseLock(),await e,{done:!0,value:void 0}}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new Ap({start(r){return i();function i(){return t.read().then(({done:s,value:o})=>{if(s){r.close();return}return r.enqueue(o),i()})}}})}static fromAsyncGenerator(e){return new Ap({async pull(t){const{value:r,done:i}=await e.next();i?t.close():r&&t.enqueue(r)}})}}class Kl{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops}concat(e){const t=this.ops.concat(e.ops),r=Dx({},t);return new kx({ops:t,state:r[r.length-1].newDocument})}}class kx extends Kl{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),r=Dx(this.state,e.ops);return new kx({ops:t,state:r[r.length-1].newDocument})}}class Hle extends K1{constructor(e){super(e),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Ap.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.parent_run_id===void 0)return!1;const t=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||t.find(i=>{var s;return(s=this.includeTags)==null?void 0:s.includes(i)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&t.every(i=>{var s;return!((s=this.excludeTags)!=null&&s.includes(i))})),r}async onRunCreate(e){var i;if(e.parent_run_id===void 0&&await this.writer.write(new Kl({ops:[{op:"replace",path:"",value:{id:e.id,streamed_output:[],final_output:void 0,logs:{}}}]})),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=t===1?e.name:`${e.name}:${t}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output_str:[],final_output:void 0,end_time:void 0};await this.writer.write(new Kl({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(t===void 0)return;const r=[{op:"add",path:`/logs/${t}/final_output`,value:e.outputs}];e.end_time!==void 0&&r.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const i=new Kl({ops:r});await this.writer.write(i)}finally{if(e.parent_run_id===void 0){const t=new Kl({ops:[{op:"replace",path:"/final_output",value:e.outputs}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t){const r=this.keyMapByRunId[e.id];if(r===void 0)return;const i=new Kl({ops:[{op:"add",path:`/logs/${r}/streamed_output_str/-`,value:t}]});await this.writer.write(i)}}async function xu(n){return ns.configure(n==null?void 0:n.callbacks,void 0,n==null?void 0:n.tags,void 0,n==null?void 0:n.metadata)}function Dr(n,e){return n&&!Array.isArray(n)&&typeof n=="object"?n:{[e]:n}}class ai extends Iu{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}bind(e){return new B2({bound:this,kwargs:e,config:{}})}map(){return new Lx({bound:this})}withRetry(e){return new Vle({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new B2({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new Wle({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)){if(e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);return e}return Array.from({length:t},()=>e)}async batch(e,t,r){const i=this._getOptionsList(t??{},e.length),s=new Cx({maxConcurrency:r==null?void 0:r.maxConcurrency,onFailedAttempt:a=>{throw a}}),o=e.map((a,l)=>s.call(async()=>{try{return await this.invoke(a,i[l])}catch(u){if(r!=null&&r.returnExceptions)return u;throw u}}));return Promise.all(o)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){return Ap.fromAsyncGenerator(this._streamIterator(e,t))}_separateRunnableConfigFromCallOptions(e={}){const t={callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName},r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,[t,r]}async _callWithConfig(e,t,r){const i=await xu(r),s=await(i==null?void 0:i.handleChainStart(this.toJSON(),Dr(t,"input"),void 0,r==null?void 0:r.runType,void 0,void 0,r==null?void 0:r.runName));let o;try{o=await e.bind(this)(t,r,s)}catch(a){throw await(s==null?void 0:s.handleChainError(a)),a}return await(s==null?void 0:s.handleChainEnd(Dr(o,"output"))),o}async _batchWithConfig(e,t,r,i){const s=this._getOptionsList(r??{},t.length),o=await Promise.all(s.map(xu)),a=await Promise.all(o.map((u,c)=>u==null?void 0:u.handleChainStart(this.toJSON(),Dr(t[c],"input"),void 0,s[c].runType,void 0,void 0,s[c].runName)));let l;try{l=await e(t,s,a,i)}catch(u){throw await Promise.all(a.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(a.map(u=>u==null?void 0:u.handleChainEnd(Dr(l,"output")))),l}async*_transformStreamWithConfig(e,t,r){let i,s=!0,o,a=!0;const l=await xu(r);let u;const c=this.toJSON();async function*f(){for await(const m of e){if(u||(u=await(l==null?void 0:l.handleChainStart(c,{input:""},void 0,r==null?void 0:r.runType,void 0,void 0,r==null?void 0:r.runName))),s)if(i===void 0)i=m;else try{i=i.concat(m)}catch{i=void 0,s=!1}yield m}}const h=f();try{const m=t(h,u,r);for await(const g of m)if(yield g,a)if(o===void 0)o=g;else try{o=o.concat(g)}catch{o=void 0,a=!1}}catch(m){throw await(u==null?void 0:u.handleChainError(m,void 0,void 0,void 0,{inputs:Dr(i,"input")})),m}await(u==null?void 0:u.handleChainEnd(o??{},void 0,void 0,void 0,{inputs:Dr(i,"input")}))}_patchConfig(e={},t=void 0){const r={...e};return t!==void 0?(delete r.runName,{...r,callbacks:t}):r}pipe(e){return new Yc({first:this,last:lu(e)})}async*transform(e,t){let r;for await(const i of e)r===void 0?r=i:r=r.concat(i);yield*this._streamIterator(r,t)}async*streamLog(e,t,r){const i=new Hle({...r,autoClose:!1}),s=t??{},{callbacks:o}=s;if(o===void 0)s.callbacks=[i];else if(Array.isArray(o))s.callbacks=o.concat([i]);else{const c=o.copy();c.inheritableHandlers.push(i),s.callbacks=c}const a=await this.stream(e,s);async function l(){try{for await(const c of a){const f=new Kl({ops:[{op:"add",path:"/streamed_output/-",value:c}]});await i.writer.write(f)}}finally{await i.writer.close()}}const u=l();try{for await(const c of i)yield c}finally{await u}}static isRunnable(e){return e.lc_runnable}}class B2 extends ai{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config}_mergeConfig(e){const t={...this.config};if(e)for(const r of Object.keys(e))r==="metadata"?t[r]={...t[r],...e[r]}:r==="tags"?t[r]=(t[r]??[]).concat(e[r]??[]):t[r]=e[r]??t[r];return t}bind(e){return this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,this._mergeConfig({...t,...this.kwargs}))}async batch(e,t,r){const i=Array.isArray(t)?t.map(s=>this._mergeConfig({...s,...this.kwargs})):this._mergeConfig({...t,...this.kwargs});return this.bound.batch(e,i,r)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,this._mergeConfig({...t,...this.kwargs}))}async stream(e,t){return this.bound.stream(e,this._mergeConfig({...t,...this.kwargs}))}async*transform(e,t){yield*this.bound.transform(e,this._mergeConfig({...t,...this.kwargs}))}static isRunnableBinding(e){return e.bound&&ai.isRunnable(e.bound)}}class Lx extends ai{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new Lx({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _invoke(e,t,r){return this.bound.batch(e,this._patchConfig(t,r==null?void 0:r.getChild()))}}class Vle extends B2{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,r){const i=e>1?`retry:attempt:${e}`:void 0;return this._patchConfig(t,r==null?void 0:r.getChild(i))}async _invoke(e,t,r){return C2(i=>super.invoke(e,this._patchConfigForRetry(i,t,r)),{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _batch(e,t,r,i){const s={};try{await C2(async o=>{const a=e.map((h,m)=>m).filter(h=>s[h.toString()]===void 0||s[h.toString()]instanceof Error),l=a.map(h=>e[h]),u=a.map(h=>this._patchConfigForRetry(o,t==null?void 0:t[h],r==null?void 0:r[h])),c=await super.batch(l,u,{...i,returnExceptions:!0});let f;for(let h=0;h<c.length;h+=1){const m=c[h],g=a[h];m instanceof Error&&f===void 0&&(f=m),s[g.toString()]=m}if(f)throw f;return c},{onFailedAttempt:this.onFailedAttempt,retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(o){if((i==null?void 0:i.returnExceptions)!==!0)throw o}return Object.keys(s).sort((o,a)=>parseInt(o,10)-parseInt(a,10)).map(o=>s[parseInt(o,10)])}async batch(e,t,r){return this._batchWithConfig(this._batch.bind(this),e,t,r)}}class Yc extends ai{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const r=await xu(t),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),Dr(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e,o;try{const a=[this.first,...this.middle];for(let l=0;l<a.length;l+=1)s=await a[l].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${l+1}`)));o=await this.last.invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${this.steps.length}`)))}catch(a){throw await(i==null?void 0:i.handleChainError(a)),a}return await(i==null?void 0:i.handleChainEnd(Dr(o,"output"))),o}async batch(e,t,r){const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(xu)),o=await Promise.all(s.map((u,c)=>u==null?void 0:u.handleChainStart(this.toJSON(),Dr(e[c],"input"),void 0,void 0,void 0,void 0,i[c].runName)));let a=e,l;try{const u=[this.first,...this.middle];for(let c=0;c<u.length;c+=1)a=await u[c].batch(a,o.map((h,m)=>this._patchConfig(i[m],h==null?void 0:h.getChild(`seq:step:${c+1}`))),r);l=await this.last.batch(a,o.map(c=>this._patchConfig(i[this.steps.length-1],c==null?void 0:c.getChild(`seq:step:${this.steps.length}`))),r)}catch(u){throw await Promise.all(o.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(o.map((u,c)=>u==null?void 0:u.handleChainEnd(Dr(l[c],"output")))),l}async*_streamIterator(e,t){const r=await xu(t),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),Dr(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s=e;const o=[this.first,...this.middle,this.last],a=Math.min(o.length-1,o.length-[...o].reverse().findIndex(c=>{var m;const f=c.transform===ai.prototype.transform,h=B2.isRunnableBinding(c)&&((m=c.bound)==null?void 0:m.transform)===ai.prototype.transform;return f||h})-1);try{const c=o.slice(0,a);for(let f=0;f<c.length;f+=1)s=await c[f].invoke(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${f+1}`)))}catch(c){throw await(i==null?void 0:i.handleChainError(c)),c}let l=!0,u;try{let c=await o[a]._streamIterator(s,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${a+1}`)));const f=o.slice(a+1);for(let h=0;h<f.length;h+=1)c=await f[h].transform(c,this._patchConfig(t,i==null?void 0:i.getChild(`seq:step:${a+h+2}`)));for await(const h of c)if(yield h,l)if(u===void 0)u=h;else try{u=u.concat(h)}catch{u=void 0,l=!1}}catch(c){throw await(i==null?void 0:i.handleChainError(c)),c}await(i==null?void 0:i.handleChainEnd(Dr(u,"output")))}pipe(e){return Yc.isRunnableSequence(e)?new Yc({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last}):new Yc({first:this.first,middle:[...this.middle,this.last],last:lu(e)})}static isRunnableSequence(e){return Array.isArray(e.middle)&&ai.isRunnable(e)}static from([e,...t]){return new Yc({first:lu(e),middle:t.slice(0,-1).map(lu),last:lu(t[t.length-1])})}}class Ox extends ai{static lc_name(){return"RunnableMap"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,r]of Object.entries(e.steps))this.steps[t]=lu(r)}static from(e){return new Ox({steps:e})}async invoke(e,t){const r=await xu(t),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),{input:e},void 0,void 0,void 0,void 0,t==null?void 0:t.runName)),s={};try{await Promise.all(Object.entries(this.steps).map(async([o,a])=>{s[o]=await a.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild(o)))}))}catch(o){throw await(i==null?void 0:i.handleChainError(o)),o}return await(i==null?void 0:i.handleChainEnd(s)),s}}class Fx extends ai{static lc_name(){return"RunnableLambda"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.func=e.func}static from(e){return new Fx({func:e})}async _invoke(e,t,r){let i=await this.func(e);return i&&ai.isRunnable(i)&&(i=await i.invoke(e,this._patchConfig(t,r==null?void 0:r.getChild()))),i}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}}class Wle extends ai{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","schema","runnable"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const r=await ns.configure(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata),i=await(r==null?void 0:r.handleChainStart(this.toJSON(),Dr(e,"input"),void 0,void 0,void 0,void 0,t==null?void 0:t.runName));let s;for(const o of this.runnables())try{const a=await o.invoke(e,this._patchConfig(t,i==null?void 0:i.getChild()));return await(i==null?void 0:i.handleChainEnd(Dr(a,"output"))),a}catch(a){s===void 0&&(s=a)}throw s===void 0?new Error("No error stored at end of fallback."):(await(i==null?void 0:i.handleChainError(s)),s)}async batch(e,t,r){if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const i=this._getOptionsList(t??{},e.length),s=await Promise.all(i.map(l=>ns.configure(l==null?void 0:l.callbacks,void 0,l==null?void 0:l.tags,void 0,l==null?void 0:l.metadata))),o=await Promise.all(s.map((l,u)=>l==null?void 0:l.handleChainStart(this.toJSON(),Dr(e[u],"input"),void 0,void 0,void 0,void 0,i[u].runName)));let a;for(const l of this.runnables())try{const u=await l.batch(e,o.map((c,f)=>this._patchConfig(i[f],c==null?void 0:c.getChild())),r);return await Promise.all(o.map((c,f)=>c==null?void 0:c.handleChainEnd(Dr(u[f],"output")))),u}catch(u){a===void 0&&(a=u)}throw a?(await Promise.all(o.map(l=>l==null?void 0:l.handleChainError(a))),a):new Error("No error stored at end of fallbacks.")}}function lu(n){if(typeof n=="function")return new Fx({func:n});if(ai.isRunnable(n))return n;if(!Array.isArray(n)&&typeof n=="object"){const e={};for(const[t,r]of Object.entries(n))e[t]=lu(r);return new Ox({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class vL extends iL{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","base"]}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new _p(this.value)]}}class jle extends ai{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},r={};for(const[s,o]of Object.entries(t))typeof o=="string"?r[s]=o:r[s]=await o();return{...r,...e}}async invoke(e,t){return this._callWithConfig(r=>this.formatPromptValue(r),e,{...t,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await cg(()=>Promise.resolve().then(()=>mM),void 0);return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await cg(()=>Promise.resolve().then(()=>mM),void 0);return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await cg(()=>import("./few_shot-60e2a88e.js"),[]);return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}class Zle extends jle{async formatPromptValue(e){const t=await this.format(e);return new vL(t)}}const xL=n=>{const e=n.split(""),t=[],r=(s,o)=>{for(let a=o;a<e.length;a+=1)if(s.includes(e[a]))return a;return-1};let i=0;for(;i<e.length;)if(e[i]==="{"&&i+1<e.length&&e[i+1]==="{")t.push({type:"literal",text:"{"}),i+=2;else if(e[i]==="}"&&i+1<e.length&&e[i+1]==="}")t.push({type:"literal",text:"}"}),i+=2;else if(e[i]==="{"){const s=r("}",i);if(s<0)throw new Error("Unclosed '{' in template.");t.push({type:"variable",name:e.slice(i+1,s).join("")}),i=s+1}else{if(e[i]==="}")throw new Error("Single '}' in template.");{const s=r("{}",i),o=(s<0?e.slice(i):e.slice(i,s)).join("");t.push({type:"literal",text:o}),i=s<0?e.length:s}}return t},Jle=(n,e)=>xL(n).reduce((t,r)=>{if(r.type==="variable"){if(r.name in e)return t+e[r.name];throw new Error(`Missing value for input ${r.name}`)}return t+r.text},""),B4={"f-string":Jle},qle={"f-string":xL},wL=(n,e,t)=>B4[e](n,t),Xle=(n,e)=>qle[e](n),Kle=(n,e,t)=>{if(!(e in B4)){const r=Object.keys(B4);throw new Error(`Invalid template format. Got \`${e}\`;
                         should be one of ${r}`)}try{const r=t.reduce((i,s)=>(i[s]="foo",i),{});wL(n,e,r)}catch(r){throw new Error(`Invalid prompt schema: ${r.message}`)}};class Da extends Zle{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),this.validateTemplate){let t=this.inputVariables;this.partialVariables&&(t=t.concat(Object.keys(this.partialVariables))),Kle(this.template,this.templateFormat,t)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return wL(this.template,this.templateFormat,t)}static fromExamples(e,t,r,i=`

`,s=""){const o=[s,...e,t].join(i);return new Da({inputVariables:r,template:o})}static fromTemplate(e,{templateFormat:t="f-string",...r}={}){const i=new Set;return Xle(e,t).forEach(s=>{s.type==="variable"&&i.add(s.name)}),new Da({inputVariables:[...i],templateFormat:t,template:e,...r})}async partial(e){const t=this.inputVariables.filter(s=>!(s in e)),r={...this.partialVariables??{},...e},i={...this,inputVariables:t,partialVariables:r};return new Da(i)}serialize(){if(this.outputParser!==void 0)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new Da({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}const mM=Object.freeze(Object.defineProperty({__proto__:null,PromptTemplate:Da},Symbol.toStringTag,{value:"Module"}));class Yle extends iL{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Bx(this.messages)}toChatMessages(){return this.messages}}function F3(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bL={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof F3=="function"&&F3;if(!c&&f)return f(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}c=i[u]={exports:{}},r[u][0].call(c.exports,function(h){var m=r[u][1][h];return o(m||h)},c,c.exports,t,r,i,s)}return i[u].exports}for(var a=typeof F3=="function"&&F3,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){var g=t("crypto");function v(T,B){B=_(T,B);var C;return(C=B.algorithm!=="passthrough"?g.createHash(B.algorithm):new R).write===void 0&&(C.write=C.update,C.end=C.update),S(B,C).dispatch(T),C.update||C.end(""),C.digest?C.digest(B.encoding==="buffer"?void 0:B.encoding):(T=C.read(),B.encoding!=="buffer"?T.toString(B.encoding):T)}(i=r.exports=v).sha1=function(T){return v(T)},i.keys=function(T){return v(T,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(T){return v(T,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(T){return v(T,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=g.getHashes?g.getHashes().slice():["sha1","md5"],x=(y.push("passthrough"),["buffer","hex","binary","base64"]);function _(T,B){var C={};if(C.algorithm=(B=B||{}).algorithm||"sha1",C.encoding=B.encoding||"hex",C.excludeValues=!!B.excludeValues,C.algorithm=C.algorithm.toLowerCase(),C.encoding=C.encoding.toLowerCase(),C.ignoreUnknown=B.ignoreUnknown===!0,C.respectType=B.respectType!==!1,C.respectFunctionNames=B.respectFunctionNames!==!1,C.respectFunctionProperties=B.respectFunctionProperties!==!1,C.unorderedArrays=B.unorderedArrays===!0,C.unorderedSets=B.unorderedSets!==!1,C.unorderedObjects=B.unorderedObjects!==!1,C.replacer=B.replacer||void 0,C.excludeKeys=B.excludeKeys||void 0,T===void 0)throw new Error("Object argument required.");for(var P=0;P<y.length;++P)y[P].toLowerCase()===C.algorithm.toLowerCase()&&(C.algorithm=y[P]);if(y.indexOf(C.algorithm)===-1)throw new Error('Algorithm "'+C.algorithm+'"  not supported. supported values: '+y.join(", "));if(x.indexOf(C.encoding)===-1&&C.algorithm!=="passthrough")throw new Error('Encoding "'+C.encoding+'"  not supported. supported values: '+x.join(", "));return C}function b(T){if(typeof T=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(T))!=null}function S(T,B,C){C=C||[];function P(I){return B.update?B.update(I,"utf8"):B.write(I,"utf8")}return{dispatch:function(I){return this["_"+((I=T.replacer?T.replacer(I):I)===null?"null":typeof I)](I)},_object:function(I){var k,U=Object.prototype.toString.call(I),q=/\[object (.*)\]/i.exec(U);if(q=(q=q?q[1]:"unknown:["+U+"]").toLowerCase(),0<=(U=C.indexOf(I)))return this.dispatch("[CIRCULAR:"+U+"]");if(C.push(I),a!==void 0&&a.isBuffer&&a.isBuffer(I))return P("buffer:"),P(I);if(q==="object"||q==="function"||q==="asyncfunction")return U=Object.keys(I),T.unorderedObjects&&(U=U.sort()),T.respectType===!1||b(I)||U.splice(0,0,"prototype","__proto__","constructor"),T.excludeKeys&&(U=U.filter(function(W){return!T.excludeKeys(W)})),P("object:"+U.length+":"),k=this,U.forEach(function(W){k.dispatch(W),P(":"),T.excludeValues||k.dispatch(I[W]),P(",")});if(!this["_"+q]){if(T.ignoreUnknown)return P("["+q+"]");throw new Error('Unknown object type "'+q+'"')}this["_"+q](I)},_array:function(I,W){W=W!==void 0?W:T.unorderedArrays!==!1;var U=this;if(P("array:"+I.length+":"),!W||I.length<=1)return I.forEach(function($){return U.dispatch($)});var q=[],W=I.map(function($){var ee=new R,ce=C.slice();return S(T,ee,ce).dispatch($),q=q.concat(ce.slice(C.length)),ee.read().toString()});return C=C.concat(q),W.sort(),this._array(W,!1)},_date:function(I){return P("date:"+I.toJSON())},_symbol:function(I){return P("symbol:"+I.toString())},_error:function(I){return P("error:"+I.toString())},_boolean:function(I){return P("bool:"+I.toString())},_string:function(I){P("string:"+I.length+":"),P(I.toString())},_function:function(I){P("fn:"),b(I)?this.dispatch("[native]"):this.dispatch(I.toString()),T.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(I.name)),T.respectFunctionProperties&&this._object(I)},_number:function(I){return P("number:"+I.toString())},_xml:function(I){return P("xml:"+I.toString())},_null:function(){return P("Null")},_undefined:function(){return P("Undefined")},_regexp:function(I){return P("regex:"+I.toString())},_uint8array:function(I){return P("uint8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint8clampedarray:function(I){return P("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(I))},_int8array:function(I){return P("int8array:"),this.dispatch(Array.prototype.slice.call(I))},_uint16array:function(I){return P("uint16array:"),this.dispatch(Array.prototype.slice.call(I))},_int16array:function(I){return P("int16array:"),this.dispatch(Array.prototype.slice.call(I))},_uint32array:function(I){return P("uint32array:"),this.dispatch(Array.prototype.slice.call(I))},_int32array:function(I){return P("int32array:"),this.dispatch(Array.prototype.slice.call(I))},_float32array:function(I){return P("float32array:"),this.dispatch(Array.prototype.slice.call(I))},_float64array:function(I){return P("float64array:"),this.dispatch(Array.prototype.slice.call(I))},_arraybuffer:function(I){return P("arraybuffer:"),this.dispatch(new Uint8Array(I))},_url:function(I){return P("url:"+I.toString())},_map:function(I){return P("map:"),I=Array.from(I),this._array(I,T.unorderedSets!==!1)},_set:function(I){return P("set:"),I=Array.from(I),this._array(I,T.unorderedSets!==!1)},_file:function(I){return P("file:"),this.dispatch([I.name,I.size,I.type,I.lastModfied])},_blob:function(){if(T.ignoreUnknown)return P("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return P("domwindow")},_bigint:function(I){return P("bigint:"+I.toString())},_process:function(){return P("process")},_timer:function(){return P("timer")},_pipe:function(){return P("pipe")},_tcp:function(){return P("tcp")},_udp:function(){return P("udp")},_tty:function(){return P("tty")},_statwatcher:function(){return P("statwatcher")},_securecontext:function(){return P("securecontext")},_connection:function(){return P("connection")},_zlib:function(){return P("zlib")},_context:function(){return P("context")},_nodescript:function(){return P("nodescript")},_httpparser:function(){return P("httpparser")},_dataview:function(){return P("dataview")},_signal:function(){return P("signal")},_fsevent:function(){return P("fsevent")},_tlswrap:function(){return P("tlswrap")}}}function R(){return{buf:"",write:function(T){this.buf+=T},end:function(T){this.buf+=T},read:function(){return this.buf}}}i.writeToStream=function(T,B,C){return C===void 0&&(C=B,B={}),S(B=_(T,B),C).dispatch(T)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){(function(g){var v=typeof Uint8Array<"u"?Uint8Array:Array,y="+".charCodeAt(0),x="/".charCodeAt(0),_="0".charCodeAt(0),b="a".charCodeAt(0),S="A".charCodeAt(0),R="-".charCodeAt(0),T="_".charCodeAt(0);function B(C){return C=C.charCodeAt(0),C===y||C===R?62:C===x||C===T?63:C<_?-1:C<_+10?C-_+26+26:C<S+26?C-S:C<b+26?C-b+26:void 0}g.toByteArray=function(C){var P,I;if(0<C.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var k=C.length,k=C.charAt(k-2)==="="?2:C.charAt(k-1)==="="?1:0,U=new v(3*C.length/4-k),q=0<k?C.length-4:C.length,W=0;function $(ee){U[W++]=ee}for(P=0;P<q;P+=4,0)$((16711680&(I=B(C.charAt(P))<<18|B(C.charAt(P+1))<<12|B(C.charAt(P+2))<<6|B(C.charAt(P+3))))>>16),$((65280&I)>>8),$(255&I);return k==2?$(255&(I=B(C.charAt(P))<<2|B(C.charAt(P+1))>>4)):k==1&&($((I=B(C.charAt(P))<<10|B(C.charAt(P+1))<<4|B(C.charAt(P+2))>>2)>>8&255),$(255&I)),U},g.fromByteArray=function(C){var P,I,k,U,q=C.length%3,W="";function $(ee){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(ee)}for(P=0,k=C.length-q;P<k;P+=3)I=(C[P]<<16)+(C[P+1]<<8)+C[P+2],W+=$((U=I)>>18&63)+$(U>>12&63)+$(U>>6&63)+$(63&U);switch(q){case 1:W=(W+=$((I=C[C.length-1])>>2))+$(I<<4&63)+"==";break;case 2:W=(W=(W+=$((I=(C[C.length-2]<<8)+C[C.length-1])>>10))+$(I>>4&63))+$(I<<2&63)+"="}return W}})(i===void 0?this.base64js={}:i)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,r,i){(function(s,o,y,l,u,c,f,h,m){var g=t("base64-js"),v=t("ieee754");function y(O,F,Y){if(!(this instanceof y))return new y(O,F,Y);var ie,re,he,Le,ke=typeof O;if(F==="base64"&&ke=="string")for(O=(Le=O).trim?Le.trim():Le.replace(/^\s+|\s+$/g,"");O.length%4!=0;)O+="=";if(ke=="number")ie=N(O);else if(ke=="string")ie=y.byteLength(O,F);else{if(ke!="object")throw new Error("First argument needs to be a number, array or string.");ie=N(O.length)}if(y._useTypedArrays?re=y._augment(new Uint8Array(ie)):((re=this).length=ie,re._isBuffer=!0),y._useTypedArrays&&typeof O.byteLength=="number")re._set(O);else if(H(Le=O)||y.isBuffer(Le)||Le&&typeof Le=="object"&&typeof Le.length=="number")for(he=0;he<ie;he++)y.isBuffer(O)?re[he]=O.readUInt8(he):re[he]=O[he];else if(ke=="string")re.write(O,0,F);else if(ke=="number"&&!y._useTypedArrays&&!Y)for(he=0;he<ie;he++)re[he]=0;return re}function x(O,F,Y,ie){return y._charsWritten=ge(function(re){for(var he=[],Le=0;Le<re.length;Le++)he.push(255&re.charCodeAt(Le));return he}(F),O,Y,ie)}function _(O,F,Y,ie){return y._charsWritten=ge(function(re){for(var he,Le,ke=[],He=0;He<re.length;He++)Le=re.charCodeAt(He),he=Le>>8,Le=Le%256,ke.push(Le),ke.push(he);return ke}(F),O,Y,ie)}function b(O,F,Y){var ie="";Y=Math.min(O.length,Y);for(var re=F;re<Y;re++)ie+=String.fromCharCode(O[re]);return ie}function S(O,F,Y,he){he||(ve(typeof Y=="boolean","missing or invalid endian"),ve(F!=null,"missing offset"),ve(F+1<O.length,"Trying to read beyond buffer length"));var re,he=O.length;if(!(he<=F))return Y?(re=O[F],F+1<he&&(re|=O[F+1]<<8)):(re=O[F]<<8,F+1<he&&(re|=O[F+1])),re}function R(O,F,Y,he){he||(ve(typeof Y=="boolean","missing or invalid endian"),ve(F!=null,"missing offset"),ve(F+3<O.length,"Trying to read beyond buffer length"));var re,he=O.length;if(!(he<=F))return Y?(F+2<he&&(re=O[F+2]<<16),F+1<he&&(re|=O[F+1]<<8),re|=O[F],F+3<he&&(re+=O[F+3]<<24>>>0)):(F+1<he&&(re=O[F+1]<<16),F+2<he&&(re|=O[F+2]<<8),F+3<he&&(re|=O[F+3]),re+=O[F]<<24>>>0),re}function T(O,F,Y,ie){if(ie||(ve(typeof Y=="boolean","missing or invalid endian"),ve(F!=null,"missing offset"),ve(F+1<O.length,"Trying to read beyond buffer length")),!(O.length<=F))return ie=S(O,F,Y,!0),32768&ie?-1*(65535-ie+1):ie}function B(O,F,Y,ie){if(ie||(ve(typeof Y=="boolean","missing or invalid endian"),ve(F!=null,"missing offset"),ve(F+3<O.length,"Trying to read beyond buffer length")),!(O.length<=F))return ie=R(O,F,Y,!0),2147483648&ie?-1*(4294967295-ie+1):ie}function C(O,F,Y,ie){return ie||(ve(typeof Y=="boolean","missing or invalid endian"),ve(F+3<O.length,"Trying to read beyond buffer length")),v.read(O,F,Y,23,4)}function P(O,F,Y,ie){return ie||(ve(typeof Y=="boolean","missing or invalid endian"),ve(F+7<O.length,"Trying to read beyond buffer length")),v.read(O,F,Y,52,8)}function I(O,F,Y,ie,re){if(re||(ve(F!=null,"missing value"),ve(typeof ie=="boolean","missing or invalid endian"),ve(Y!=null,"missing offset"),ve(Y+1<O.length,"trying to write beyond buffer length"),Me(F,65535)),re=O.length,!(re<=Y))for(var he=0,Le=Math.min(re-Y,2);he<Le;he++)O[Y+he]=(F&255<<8*(ie?he:1-he))>>>8*(ie?he:1-he)}function k(O,F,Y,ie,re){if(re||(ve(F!=null,"missing value"),ve(typeof ie=="boolean","missing or invalid endian"),ve(Y!=null,"missing offset"),ve(Y+3<O.length,"trying to write beyond buffer length"),Me(F,4294967295)),re=O.length,!(re<=Y))for(var he=0,Le=Math.min(re-Y,4);he<Le;he++)O[Y+he]=F>>>8*(ie?he:3-he)&255}function U(O,F,Y,ie,re){re||(ve(F!=null,"missing value"),ve(typeof ie=="boolean","missing or invalid endian"),ve(Y!=null,"missing offset"),ve(Y+1<O.length,"Trying to write beyond buffer length"),de(F,32767,-32768)),O.length<=Y||I(O,0<=F?F:65535+F+1,Y,ie,re)}function q(O,F,Y,ie,re){re||(ve(F!=null,"missing value"),ve(typeof ie=="boolean","missing or invalid endian"),ve(Y!=null,"missing offset"),ve(Y+3<O.length,"Trying to write beyond buffer length"),de(F,2147483647,-2147483648)),O.length<=Y||k(O,0<=F?F:4294967295+F+1,Y,ie,re)}function W(O,F,Y,ie,re){re||(ve(F!=null,"missing value"),ve(typeof ie=="boolean","missing or invalid endian"),ve(Y!=null,"missing offset"),ve(Y+3<O.length,"Trying to write beyond buffer length"),Ve(F,34028234663852886e22,-34028234663852886e22)),O.length<=Y||v.write(O,F,Y,ie,23,4)}function $(O,F,Y,ie,re){re||(ve(F!=null,"missing value"),ve(typeof ie=="boolean","missing or invalid endian"),ve(Y!=null,"missing offset"),ve(Y+7<O.length,"Trying to write beyond buffer length"),Ve(F,17976931348623157e292,-17976931348623157e292)),O.length<=Y||v.write(O,F,Y,ie,52,8)}i.Buffer=y,i.SlowBuffer=y,i.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=function(){try{var O=new ArrayBuffer(0),F=new Uint8Array(O);return F.foo=function(){return 42},F.foo()===42&&typeof F.subarray=="function"}catch{return!1}}(),y.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(O){return!(O==null||!O._isBuffer)},y.byteLength=function(O,F){var Y;switch(O+="",F||"utf8"){case"hex":Y=O.length/2;break;case"utf8":case"utf-8":Y=oe(O).length;break;case"ascii":case"binary":case"raw":Y=O.length;break;case"base64":Y=te(O).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Y=2*O.length;break;default:throw new Error("Unknown encoding")}return Y},y.concat=function(O,F){if(ve(H(O),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),O.length===0)return new y(0);if(O.length===1)return O[0];if(typeof F!="number")for(re=F=0;re<O.length;re++)F+=O[re].length;for(var Y=new y(F),ie=0,re=0;re<O.length;re++){var he=O[re];he.copy(Y,ie),ie+=he.length}return Y},y.prototype.write=function(O,F,Y,ie){isFinite(F)?isFinite(Y)||(ie=Y,Y=void 0):(He=ie,ie=F,F=Y,Y=He),F=Number(F)||0;var re,he,Le,ke,He=this.length-F;switch((!Y||He<(Y=Number(Y)))&&(Y=He),ie=String(ie||"utf8").toLowerCase()){case"hex":re=function(je,We,pt,ut){pt=Number(pt)||0;var Z=je.length-pt;(!ut||Z<(ut=Number(ut)))&&(ut=Z),ve((Z=We.length)%2==0,"Invalid hex string"),Z/2<ut&&(ut=Z/2);for(var G=0;G<ut;G++){var we=parseInt(We.substr(2*G,2),16);ve(!isNaN(we),"Invalid hex string"),je[pt+G]=we}return y._charsWritten=2*G,G}(this,O,F,Y);break;case"utf8":case"utf-8":he=this,Le=F,ke=Y,re=y._charsWritten=ge(oe(O),he,Le,ke);break;case"ascii":case"binary":re=x(this,O,F,Y);break;case"base64":he=this,Le=F,ke=Y,re=y._charsWritten=ge(te(O),he,Le,ke);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":re=_(this,O,F,Y);break;default:throw new Error("Unknown encoding")}return re},y.prototype.toString=function(O,F,Y){var ie,re,he,Le,ke=this;if(O=String(O||"utf8").toLowerCase(),F=Number(F)||0,(Y=Y!==void 0?Number(Y):ke.length)===F)return"";switch(O){case"hex":ie=function(He,je,We){var pt=He.length;(!je||je<0)&&(je=0),(!We||We<0||pt<We)&&(We=pt);for(var ut="",Z=je;Z<We;Z++)ut+=j(He[Z]);return ut}(ke,F,Y);break;case"utf8":case"utf-8":ie=function(He,je,We){var pt="",ut="";We=Math.min(He.length,We);for(var Z=je;Z<We;Z++)He[Z]<=127?(pt+=Pe(ut)+String.fromCharCode(He[Z]),ut=""):ut+="%"+He[Z].toString(16);return pt+Pe(ut)}(ke,F,Y);break;case"ascii":case"binary":ie=b(ke,F,Y);break;case"base64":re=ke,Le=Y,ie=(he=F)===0&&Le===re.length?g.fromByteArray(re):g.fromByteArray(re.slice(he,Le));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ie=function(He,je,We){for(var pt=He.slice(je,We),ut="",Z=0;Z<pt.length;Z+=2)ut+=String.fromCharCode(pt[Z]+256*pt[Z+1]);return ut}(ke,F,Y);break;default:throw new Error("Unknown encoding")}return ie},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(O,F,Y,ie){if(F=F||0,(ie=ie||ie===0?ie:this.length)!==(Y=Y||0)&&O.length!==0&&this.length!==0){ve(Y<=ie,"sourceEnd < sourceStart"),ve(0<=F&&F<O.length,"targetStart out of bounds"),ve(0<=Y&&Y<this.length,"sourceStart out of bounds"),ve(0<=ie&&ie<=this.length,"sourceEnd out of bounds"),ie>this.length&&(ie=this.length);var re=(ie=O.length-F<ie-Y?O.length-F+Y:ie)-Y;if(re<100||!y._useTypedArrays)for(var he=0;he<re;he++)O[he+F]=this[he+Y];else O._set(this.subarray(Y,Y+re),F)}},y.prototype.slice=function(O,F){var Y=this.length;if(O=ce(O,Y,0),F=ce(F,Y,Y),y._useTypedArrays)return y._augment(this.subarray(O,F));for(var ie=F-O,re=new y(ie,void 0,!0),he=0;he<ie;he++)re[he]=this[he+O];return re},y.prototype.get=function(O){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(O)},y.prototype.set=function(O,F){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(O,F)},y.prototype.readUInt8=function(O,F){if(F||(ve(O!=null,"missing offset"),ve(O<this.length,"Trying to read beyond buffer length")),!(O>=this.length))return this[O]},y.prototype.readUInt16LE=function(O,F){return S(this,O,!0,F)},y.prototype.readUInt16BE=function(O,F){return S(this,O,!1,F)},y.prototype.readUInt32LE=function(O,F){return R(this,O,!0,F)},y.prototype.readUInt32BE=function(O,F){return R(this,O,!1,F)},y.prototype.readInt8=function(O,F){if(F||(ve(O!=null,"missing offset"),ve(O<this.length,"Trying to read beyond buffer length")),!(O>=this.length))return 128&this[O]?-1*(255-this[O]+1):this[O]},y.prototype.readInt16LE=function(O,F){return T(this,O,!0,F)},y.prototype.readInt16BE=function(O,F){return T(this,O,!1,F)},y.prototype.readInt32LE=function(O,F){return B(this,O,!0,F)},y.prototype.readInt32BE=function(O,F){return B(this,O,!1,F)},y.prototype.readFloatLE=function(O,F){return C(this,O,!0,F)},y.prototype.readFloatBE=function(O,F){return C(this,O,!1,F)},y.prototype.readDoubleLE=function(O,F){return P(this,O,!0,F)},y.prototype.readDoubleBE=function(O,F){return P(this,O,!1,F)},y.prototype.writeUInt8=function(O,F,Y){Y||(ve(O!=null,"missing value"),ve(F!=null,"missing offset"),ve(F<this.length,"trying to write beyond buffer length"),Me(O,255)),F>=this.length||(this[F]=O)},y.prototype.writeUInt16LE=function(O,F,Y){I(this,O,F,!0,Y)},y.prototype.writeUInt16BE=function(O,F,Y){I(this,O,F,!1,Y)},y.prototype.writeUInt32LE=function(O,F,Y){k(this,O,F,!0,Y)},y.prototype.writeUInt32BE=function(O,F,Y){k(this,O,F,!1,Y)},y.prototype.writeInt8=function(O,F,Y){Y||(ve(O!=null,"missing value"),ve(F!=null,"missing offset"),ve(F<this.length,"Trying to write beyond buffer length"),de(O,127,-128)),F>=this.length||(0<=O?this.writeUInt8(O,F,Y):this.writeUInt8(255+O+1,F,Y))},y.prototype.writeInt16LE=function(O,F,Y){U(this,O,F,!0,Y)},y.prototype.writeInt16BE=function(O,F,Y){U(this,O,F,!1,Y)},y.prototype.writeInt32LE=function(O,F,Y){q(this,O,F,!0,Y)},y.prototype.writeInt32BE=function(O,F,Y){q(this,O,F,!1,Y)},y.prototype.writeFloatLE=function(O,F,Y){W(this,O,F,!0,Y)},y.prototype.writeFloatBE=function(O,F,Y){W(this,O,F,!1,Y)},y.prototype.writeDoubleLE=function(O,F,Y){$(this,O,F,!0,Y)},y.prototype.writeDoubleBE=function(O,F,Y){$(this,O,F,!1,Y)},y.prototype.fill=function(O,F,Y){if(F=F||0,Y=Y||this.length,ve(typeof(O=typeof(O=O||0)=="string"?O.charCodeAt(0):O)=="number"&&!isNaN(O),"value is not a number"),ve(F<=Y,"end < start"),Y!==F&&this.length!==0){ve(0<=F&&F<this.length,"start out of bounds"),ve(0<=Y&&Y<=this.length,"end out of bounds");for(var ie=F;ie<Y;ie++)this[ie]=O}},y.prototype.inspect=function(){for(var O=[],F=this.length,Y=0;Y<F;Y++)if(O[Y]=j(this[Y]),Y===i.INSPECT_MAX_BYTES){O[Y+1]="...";break}return"<Buffer "+O.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var O=new Uint8Array(this.length),F=0,Y=O.length;F<Y;F+=1)O[F]=this[F];return O.buffer};var ee=y.prototype;function ce(O,F,Y){return typeof O!="number"?Y:F<=(O=~~O)?F:0<=O||0<=(O+=F)?O:0}function N(O){return(O=~~Math.ceil(+O))<0?0:O}function H(O){return(Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"})(O)}function j(O){return O<16?"0"+O.toString(16):O.toString(16)}function oe(O){for(var F=[],Y=0;Y<O.length;Y++){var ie=O.charCodeAt(Y);if(ie<=127)F.push(O.charCodeAt(Y));else for(var re=Y,he=(55296<=ie&&ie<=57343&&Y++,encodeURIComponent(O.slice(re,Y+1)).substr(1).split("%")),Le=0;Le<he.length;Le++)F.push(parseInt(he[Le],16))}return F}function te(O){return g.toByteArray(O)}function ge(O,F,Y,ie){for(var re=0;re<ie&&!(re+Y>=F.length||re>=O.length);re++)F[re+Y]=O[re];return re}function Pe(O){try{return decodeURIComponent(O)}catch{return String.fromCharCode(65533)}}function Me(O,F){ve(typeof O=="number","cannot write a non-number as a number"),ve(0<=O,"specified a negative value for writing an unsigned value"),ve(O<=F,"value is larger than maximum value for type"),ve(Math.floor(O)===O,"value has a fractional component")}function de(O,F,Y){ve(typeof O=="number","cannot write a non-number as a number"),ve(O<=F,"value larger than maximum allowed value"),ve(Y<=O,"value smaller than minimum allowed value"),ve(Math.floor(O)===O,"value has a fractional component")}function Ve(O,F,Y){ve(typeof O=="number","cannot write a non-number as a number"),ve(O<=F,"value larger than maximum allowed value"),ve(Y<=O,"value smaller than minimum allowed value")}function ve(O,F){if(!O)throw new Error(F||"Failed assertion")}y._augment=function(O){return O._isBuffer=!0,O._get=O.get,O._set=O.set,O.get=ee.get,O.set=ee.set,O.write=ee.write,O.toString=ee.toString,O.toLocaleString=ee.toString,O.toJSON=ee.toJSON,O.copy=ee.copy,O.slice=ee.slice,O.readUInt8=ee.readUInt8,O.readUInt16LE=ee.readUInt16LE,O.readUInt16BE=ee.readUInt16BE,O.readUInt32LE=ee.readUInt32LE,O.readUInt32BE=ee.readUInt32BE,O.readInt8=ee.readInt8,O.readInt16LE=ee.readInt16LE,O.readInt16BE=ee.readInt16BE,O.readInt32LE=ee.readInt32LE,O.readInt32BE=ee.readInt32BE,O.readFloatLE=ee.readFloatLE,O.readFloatBE=ee.readFloatBE,O.readDoubleLE=ee.readDoubleLE,O.readDoubleBE=ee.readDoubleBE,O.writeUInt8=ee.writeUInt8,O.writeUInt16LE=ee.writeUInt16LE,O.writeUInt16BE=ee.writeUInt16BE,O.writeUInt32LE=ee.writeUInt32LE,O.writeUInt32BE=ee.writeUInt32BE,O.writeInt8=ee.writeInt8,O.writeInt16LE=ee.writeInt16LE,O.writeInt16BE=ee.writeInt16BE,O.writeInt32LE=ee.writeInt32LE,O.writeInt32BE=ee.writeInt32BE,O.writeFloatLE=ee.writeFloatLE,O.writeFloatBE=ee.writeFloatBE,O.writeDoubleLE=ee.writeDoubleLE,O.writeDoubleBE=ee.writeDoubleBE,O.fill=ee.fill,O.inspect=ee.inspect,O.toArrayBuffer=ee.toArrayBuffer,O}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,r,i){(function(s,o,g,l,u,c,f,h,m){var g=t("buffer").Buffer,v=4,y=new g(v);y.fill(0),r.exports={hash:function(x,_,b,S){for(var R=_(function(I,k){I.length%v!=0&&(U=I.length+(v-I.length%v),I=g.concat([I,y],U));for(var U,q=[],W=k?I.readInt32BE:I.readInt32LE,$=0;$<I.length;$+=v)q.push(W.call(I,$));return q}(x=g.isBuffer(x)?x:new g(x),S),8*x.length),_=S,T=new g(b),B=_?T.writeInt32BE:T.writeInt32LE,C=0;C<R.length;C++)B.call(T,R[C],4*C,!0);return T}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,r,i){(function(s,o,g,l,u,c,f,h,m){var g=t("buffer").Buffer,v=t("./sha"),y=t("./sha256"),x=t("./rng"),_={sha1:v,sha256:y,md5:t("./md5")},b=64,S=new g(b);function R(I,k){var U=_[I=I||"sha1"],q=[];return U||T("algorithm:",I,"is not yet supported"),{update:function(W){return g.isBuffer(W)||(W=new g(W)),q.push(W),W.length,this},digest:function(W){var $=g.concat(q),$=k?function(ee,ce,N){g.isBuffer(ce)||(ce=new g(ce)),g.isBuffer(N)||(N=new g(N)),ce.length>b?ce=ee(ce):ce.length<b&&(ce=g.concat([ce,S],b));for(var H=new g(b),j=new g(b),oe=0;oe<b;oe++)H[oe]=54^ce[oe],j[oe]=92^ce[oe];return N=ee(g.concat([H,N])),ee(g.concat([j,N]))}(U,k,$):U($);return q=null,W?$.toString(W):$}}}function T(){var I=[].slice.call(arguments).join(" ");throw new Error([I,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}S.fill(0),i.createHash=function(I){return R(I)},i.createHmac=R,i.randomBytes=function(I,k){if(!k||!k.call)return new g(x(I));try{k.call(this,void 0,new g(x(I)))}catch(U){k(U)}};var B,C=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],P=function(I){i[I]=function(){T("sorry,",I,"is not implemented yet")}};for(B in C)P(C[B])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){var g=t("./helpers");function v(T,B){T[B>>5]|=128<<B%32,T[14+(B+64>>>9<<4)]=B;for(var C=1732584193,P=-271733879,I=-1732584194,k=271733878,U=0;U<T.length;U+=16){var q=C,W=P,$=I,ee=k,C=x(C,P,I,k,T[U+0],7,-680876936),k=x(k,C,P,I,T[U+1],12,-389564586),I=x(I,k,C,P,T[U+2],17,606105819),P=x(P,I,k,C,T[U+3],22,-1044525330);C=x(C,P,I,k,T[U+4],7,-176418897),k=x(k,C,P,I,T[U+5],12,1200080426),I=x(I,k,C,P,T[U+6],17,-1473231341),P=x(P,I,k,C,T[U+7],22,-45705983),C=x(C,P,I,k,T[U+8],7,1770035416),k=x(k,C,P,I,T[U+9],12,-1958414417),I=x(I,k,C,P,T[U+10],17,-42063),P=x(P,I,k,C,T[U+11],22,-1990404162),C=x(C,P,I,k,T[U+12],7,1804603682),k=x(k,C,P,I,T[U+13],12,-40341101),I=x(I,k,C,P,T[U+14],17,-1502002290),C=_(C,P=x(P,I,k,C,T[U+15],22,1236535329),I,k,T[U+1],5,-165796510),k=_(k,C,P,I,T[U+6],9,-1069501632),I=_(I,k,C,P,T[U+11],14,643717713),P=_(P,I,k,C,T[U+0],20,-373897302),C=_(C,P,I,k,T[U+5],5,-701558691),k=_(k,C,P,I,T[U+10],9,38016083),I=_(I,k,C,P,T[U+15],14,-660478335),P=_(P,I,k,C,T[U+4],20,-405537848),C=_(C,P,I,k,T[U+9],5,568446438),k=_(k,C,P,I,T[U+14],9,-1019803690),I=_(I,k,C,P,T[U+3],14,-187363961),P=_(P,I,k,C,T[U+8],20,1163531501),C=_(C,P,I,k,T[U+13],5,-1444681467),k=_(k,C,P,I,T[U+2],9,-51403784),I=_(I,k,C,P,T[U+7],14,1735328473),C=b(C,P=_(P,I,k,C,T[U+12],20,-1926607734),I,k,T[U+5],4,-378558),k=b(k,C,P,I,T[U+8],11,-2022574463),I=b(I,k,C,P,T[U+11],16,1839030562),P=b(P,I,k,C,T[U+14],23,-35309556),C=b(C,P,I,k,T[U+1],4,-1530992060),k=b(k,C,P,I,T[U+4],11,1272893353),I=b(I,k,C,P,T[U+7],16,-155497632),P=b(P,I,k,C,T[U+10],23,-1094730640),C=b(C,P,I,k,T[U+13],4,681279174),k=b(k,C,P,I,T[U+0],11,-358537222),I=b(I,k,C,P,T[U+3],16,-722521979),P=b(P,I,k,C,T[U+6],23,76029189),C=b(C,P,I,k,T[U+9],4,-640364487),k=b(k,C,P,I,T[U+12],11,-421815835),I=b(I,k,C,P,T[U+15],16,530742520),C=S(C,P=b(P,I,k,C,T[U+2],23,-995338651),I,k,T[U+0],6,-198630844),k=S(k,C,P,I,T[U+7],10,1126891415),I=S(I,k,C,P,T[U+14],15,-1416354905),P=S(P,I,k,C,T[U+5],21,-57434055),C=S(C,P,I,k,T[U+12],6,1700485571),k=S(k,C,P,I,T[U+3],10,-1894986606),I=S(I,k,C,P,T[U+10],15,-1051523),P=S(P,I,k,C,T[U+1],21,-2054922799),C=S(C,P,I,k,T[U+8],6,1873313359),k=S(k,C,P,I,T[U+15],10,-30611744),I=S(I,k,C,P,T[U+6],15,-1560198380),P=S(P,I,k,C,T[U+13],21,1309151649),C=S(C,P,I,k,T[U+4],6,-145523070),k=S(k,C,P,I,T[U+11],10,-1120210379),I=S(I,k,C,P,T[U+2],15,718787259),P=S(P,I,k,C,T[U+9],21,-343485551),C=R(C,q),P=R(P,W),I=R(I,$),k=R(k,ee)}return Array(C,P,I,k)}function y(T,B,C,P,I,k){return R((B=R(R(B,T),R(P,k)))<<I|B>>>32-I,C)}function x(T,B,C,P,I,k,U){return y(B&C|~B&P,T,B,I,k,U)}function _(T,B,C,P,I,k,U){return y(B&P|C&~P,T,B,I,k,U)}function b(T,B,C,P,I,k,U){return y(B^C^P,T,B,I,k,U)}function S(T,B,C,P,I,k,U){return y(C^(B|~P),T,B,I,k,U)}function R(T,B){var C=(65535&T)+(65535&B);return(T>>16)+(B>>16)+(C>>16)<<16|65535&C}r.exports=function(T){return g.hash(T,v,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){r.exports=function(g){for(var v,y=new Array(g),x=0;x<g;x++)!(3&x)&&(v=4294967296*Math.random()),y[x]=v>>>((3&x)<<3)&255;return y}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){var g=t("./helpers");function v(_,b){_[b>>5]|=128<<24-b%32,_[15+(b+64>>9<<4)]=b;for(var S,R,T,B=Array(80),C=1732584193,P=-271733879,I=-1732584194,k=271733878,U=-1009589776,q=0;q<_.length;q+=16){for(var W=C,$=P,ee=I,ce=k,N=U,H=0;H<80;H++){B[H]=H<16?_[q+H]:x(B[H-3]^B[H-8]^B[H-14]^B[H-16],1);var j=y(y(x(C,5),(j=P,R=I,T=k,(S=H)<20?j&R|~j&T:!(S<40)&&S<60?j&R|j&T|R&T:j^R^T)),y(y(U,B[H]),(S=H)<20?1518500249:S<40?1859775393:S<60?-1894007588:-899497514)),U=k,k=I,I=x(P,30),P=C,C=j}C=y(C,W),P=y(P,$),I=y(I,ee),k=y(k,ce),U=y(U,N)}return Array(C,P,I,k,U)}function y(_,b){var S=(65535&_)+(65535&b);return(_>>16)+(b>>16)+(S>>16)<<16|65535&S}function x(_,b){return _<<b|_>>>32-b}r.exports=function(_){return g.hash(_,v,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){function g(b,S){var R=(65535&b)+(65535&S);return(b>>16)+(S>>16)+(R>>16)<<16|65535&R}function v(b,S){var R,T=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),B=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),C=new Array(64);b[S>>5]|=128<<24-S%32,b[15+(S+64>>9<<4)]=S;for(var P,I,k=0;k<b.length;k+=16){for(var U=B[0],q=B[1],W=B[2],$=B[3],ee=B[4],ce=B[5],N=B[6],H=B[7],j=0;j<64;j++)C[j]=j<16?b[j+k]:g(g(g((I=C[j-2],x(I,17)^x(I,19)^_(I,10)),C[j-7]),(I=C[j-15],x(I,7)^x(I,18)^_(I,3))),C[j-16]),R=g(g(g(g(H,x(I=ee,6)^x(I,11)^x(I,25)),ee&ce^~ee&N),T[j]),C[j]),P=g(x(P=U,2)^x(P,13)^x(P,22),U&q^U&W^q&W),H=N,N=ce,ce=ee,ee=g($,R),$=W,W=q,q=U,U=g(R,P);B[0]=g(U,B[0]),B[1]=g(q,B[1]),B[2]=g(W,B[2]),B[3]=g($,B[3]),B[4]=g(ee,B[4]),B[5]=g(ce,B[5]),B[6]=g(N,B[6]),B[7]=g(H,B[7])}return B}var y=t("./helpers"),x=function(b,S){return b>>>S|b<<32-S},_=function(b,S){return b>>>S};r.exports=function(b){return y.hash(b,v,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){i.read=function(g,v,y,x,k){var b,S,R=8*k-x-1,T=(1<<R)-1,B=T>>1,C=-7,P=y?k-1:0,I=y?-1:1,k=g[v+P];for(P+=I,b=k&(1<<-C)-1,k>>=-C,C+=R;0<C;b=256*b+g[v+P],P+=I,C-=8);for(S=b&(1<<-C)-1,b>>=-C,C+=x;0<C;S=256*S+g[v+P],P+=I,C-=8);if(b===0)b=1-B;else{if(b===T)return S?NaN:1/0*(k?-1:1);S+=Math.pow(2,x),b-=B}return(k?-1:1)*S*Math.pow(2,b-x)},i.write=function(g,v,y,x,_,U){var S,R,T=8*U-_-1,B=(1<<T)-1,C=B>>1,P=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=x?0:U-1,k=x?1:-1,U=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(R=isNaN(v)?1:0,S=B):(S=Math.floor(Math.log(v)/Math.LN2),v*(x=Math.pow(2,-S))<1&&(S--,x*=2),2<=(v+=1<=S+C?P/x:P*Math.pow(2,1-C))*x&&(S++,x/=2),B<=S+C?(R=0,S=B):1<=S+C?(R=(v*x-1)*Math.pow(2,_),S+=C):(R=v*Math.pow(2,C-1)*Math.pow(2,_),S=0));8<=_;g[y+I]=255&R,I+=k,R/=256,_-=8);for(S=S<<_|R,T+=_;0<T;g[y+I]=255&S,I+=k,S/=256,T-=8);g[y+I-k]|=128*U}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,r,i){(function(s,o,a,l,u,c,f,h,m){var g,v,y;function x(){}(s=r.exports={}).nextTick=(v=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,v?function(_){return window.setImmediate(_)}:y?(g=[],window.addEventListener("message",function(_){var b=_.source;b!==window&&b!==null||_.data!=="process-tick"||(_.stopPropagation(),0<g.length&&g.shift()())},!0),function(_){g.push(_),window.postMessage("process-tick","*")}):function(_){setTimeout(_,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.binding=function(_){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(_){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(bL);var Qle=bL.exports;const $le=il(Qle),gM=(...n)=>$le(n.join("_")),eue=new Map;class Nx extends pae{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(gM(e,t))??null)}async update(e,t,r){this.cache.set(gM(e,t),r)}static global(){return new Nx(eue)}}const tue=()=>!1;class nue extends ai{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??tue(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class rue extends nue{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...r}){super({callbacks:e??t,...r}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r.cache=="object"?this.cache=r.cache:r.cache?this.cache=Nx.global():this.cache=void 0,this.caller=new Cx(r??{})}async getNumTokens(e){let t=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await eae("modelName"in this?C4(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return this._encoding&&(t=this._encoding.encode(e).length),t}static _convertInputToPromptValue(e){return typeof e=="string"?new vL(e):Array.isArray(e)?new Yle(e.map(ug)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall(e){const t={...this._identifyingParams(),...e,_type:this._llmType(),_model:this._modelType()};return Object.entries(t).filter(([s,o])=>o!==void 0).map(([s,o])=>`${s}:${JSON.stringify(o)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){const{_type:t,_model:r,...i}=e;if(r&&r!=="base_chat_model")throw new Error(`Cannot load LLM with model ${r}`);const s={openai:(await cg(()=>Promise.resolve().then(()=>uue),void 0)).ChatOpenAI}[t];if(s===void 0)throw new Error(`Cannot load LLM with type ${t}`);return new s(i)}}class Yl extends rue{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,r]=super._separateRunnableConfigFromCallOptions(e);return r!=null&&r.timeout&&!r.signal&&(r.signal=AbortSignal.timeout(r.timeout)),[t,r]}async invoke(e,t){const r=Yl._convertInputToPromptValue(e);return(await this.generatePrompt([r],t,t==null?void 0:t.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,r){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===Yl.prototype._streamResponseChunks)yield this.invoke(e,t);else{const i=Yl._convertInputToPromptValue(e).toChatMessages(),[s,o]=this._separateRunnableConfigFromCallOptions(t),a=await ns.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),l={options:o,invocation_params:this==null?void 0:this.invocationParams(o)},u=await(a==null?void 0:a.handleChatModelStart(this.toJSON(),[i],void 0,void 0,l,void 0,void 0,s.runName));let c;try{for await(const f of this._streamResponseChunks(i,o,u==null?void 0:u[0]))yield f.message,c?c=c.concat(f):c=f}catch(f){throw await Promise.all((u??[]).map(h=>h==null?void 0:h.handleLLMError(f))),f}await Promise.all((u??[]).map(f=>f==null?void 0:f.handleLLMEnd({generations:[[c]]})))}}async _generateUncached(e,t,r){var h;const i=e.map(m=>m.map(ug)),s=await ns.configure(r.callbacks,this.callbacks,r.tags,this.tags,r.metadata,this.metadata,{verbose:this.verbose}),o={options:t,invocation_params:this==null?void 0:this.invocationParams(t)},a=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),i,void 0,void 0,o,void 0,void 0,r.runName)),l=await Promise.allSettled(i.map((m,g)=>this._generate(m,{...t,promptIndex:g},a==null?void 0:a[g]))),u=[],c=[];await Promise.all(l.map(async(m,g)=>{var v,y;if(m.status==="fulfilled"){const x=m.value;return u[g]=x.generations,c[g]=x.llmOutput,(v=a==null?void 0:a[g])==null?void 0:v.handleLLMEnd({generations:[x.generations],llmOutput:x.llmOutput})}else return await((y=a==null?void 0:a[g])==null?void 0:y.handleLLMError(m.reason)),Promise.reject(m.reason)}));const f={generations:u,llmOutput:c.length?(h=this._combineLLMOutput)==null?void 0:h.call(this,...c):void 0};return Object.defineProperty(f,fae,{value:a?{runIds:a==null?void 0:a.map(m=>m.runId)}:void 0,configurable:!0}),f}async generate(e,t,r){let i;Array.isArray(t)?i={stop:t}:i=t;const s=e.map(m=>m.map(ug)),[o,a]=this._separateRunnableConfigFromCallOptions(i);if(o.callbacks=o.callbacks??r,!this.cache)return this._generateUncached(s,a,o);const{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(a),c=[],f=await Promise.all(s.map(async(m,g)=>{const v=Yl._convertInputToPromptValue(m).toString(),y=await l.lookup(v,u);return y||c.push(g),y}));let h={};if(c.length>0){const m=await this._generateUncached(c.map(g=>s[g]),a,o);await Promise.all(m.generations.map(async(g,v)=>{const y=c[v];f[y]=g;const x=Yl._convertInputToPromptValue(s[y]).toString();return l.update(x,u,g)})),h=m.llmOutput??{}}return{generations:f,llmOutput:h}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,r){const i=e.map(s=>s.toChatMessages());return this.generate(i,t,r)}async call(e,t,r){return(await this.generate([e.map(ug)],t,r)).generations[0][0].message}async callPrompt(e,t,r){const i=e.toChatMessages();return this.call(i,t,r)}async predictMessages(e,t,r){return this.call(e,t,r)}async predict(e,t,r){const i=new _p(e);return(await this.call([i],t,r)).content}}function iue(n){let e;return n.constructor.name===moe.name?(e=new Error(n.message),e.name="TimeoutError"):n.constructor.name===goe.name?(e=new Error(n.message),e.name="AbortError"):e=n,e}function sue(n){return n.role!=="system"&&n.role!=="assistant"&&n.role!=="user"&&n.role!=="function"&&console.warn(`Unknown message role: ${n.role}`),n.role}function dg(n){const e=n._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"generic":{if(!rL.isInstance(n))throw new Error("Invalid generic chat message");return sue(n)}default:throw new Error(`Unknown message type: ${e}`)}}function oue(n){switch(n.role){case"user":return new _p(n.content||"");case"assistant":return new tL(n.content||"",{function_call:n.function_call});case"system":return new nL(n.content||"");default:return new rL(n.content||"",n.role??"unknown")}}function aue(n,e){const t=n.role??e,r=n.content??"";let i;return n.function_call?i={function_call:n.function_call}:i={},t==="user"?new T2({content:r}):t==="assistant"?new M2({content:r,additional_kwargs:i}):t==="system"?new E2({content:r}):t==="function"?new P2({content:r,additional_kwargs:i,name:n.name}):new I2({content:r,role:t})}class Q1 extends Yl{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){var r,i,s,o,a,l,u,c;if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.openAIApiKey)??Rr("OPENAI_API_KEY"),this.azureOpenAIApiKey=(e==null?void 0:e.azureOpenAIApiKey)??Rr("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=(e==null?void 0:e.azureOpenAIApiInstanceName)??Rr("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e==null?void 0:e.azureOpenAIApiDeploymentName)??Rr("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=(e==null?void 0:e.azureOpenAIApiVersion)??Rr("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=(e==null?void 0:e.azureOpenAIBasePath)??Rr("AZURE_OPENAI_BASE_PATH"),this.organization=((r=e==null?void 0:e.configuration)==null?void 0:r.organization)??Rr("OPENAI_ORGANIZATION"),this.modelName=(e==null?void 0:e.modelName)??this.modelName,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.maxTokens=e==null?void 0:e.maxTokens,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=e==null?void 0:e.stop,this.user=e==null?void 0:e.user,this.streaming=(e==null?void 0:e.streaming)??!1,this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:(t==null?void 0:t.basePath)??((i=e==null?void 0:e.configuration)==null?void 0:i.basePath),dangerouslyAllowBrowser:!0,defaultHeaders:((s=t==null?void 0:t.baseOptions)==null?void 0:s.headers)??((a=(o=e==null?void 0:e.configuration)==null?void 0:o.baseOptions)==null?void 0:a.headers),defaultQuery:((l=t==null?void 0:t.baseOptions)==null?void 0:l.params)??((c=(u=e==null?void 0:e.configuration)==null?void 0:u.baseOptions)==null?void 0:c.params),...t,...e==null?void 0:e.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:this.maxTokens===-1?void 0:this.maxTokens,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stop,user:this.user,stream:this.streaming,functions:(e==null?void 0:e.functions)??(e!=null&&e.tools?e==null?void 0:e.tools.map($ae):void 0),function_call:e==null?void 0:e.function_call,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,r){var l;const i=e.map(u=>({role:dg(u),content:u.content,name:u.name,function_call:u.additional_kwargs.function_call})),s={...this.invocationParams(t),messages:i,stream:!0};let o;const a=await this.completionWithRetry(s,t);for await(const u of a){const c=u==null?void 0:u.choices[0];if(!c)continue;const{delta:f}=c,h=aue(f,o);o=f.role??o;const m={prompt:t.promptIndex??0,completion:c.index??0},g=new Mx({message:h,text:h.content,generationInfo:m});yield g,r==null||r.handleLLMNewToken(g.text??"",m,void 0,void 0,void 0,{chunk:g})}if((l=t.signal)!=null&&l.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,r){var a,l;const i={},s=this.invocationParams(t),o=e.map(u=>({role:dg(u),content:u.content,name:u.name,function_call:u.additional_kwargs.function_call}));if(s.stream){const u=await this._streamResponseChunks(e,t,r),c={};for await(const h of u){const m=((a=h.generationInfo)==null?void 0:a.completion)??0;c[m]===void 0?c[m]=h:c[m]=c[m].concat(h)}return{generations:Object.entries(c).sort(([h],[m])=>parseInt(h,10)-parseInt(m,10)).map(([h,m])=>m)}}else{const u=await this.completionWithRetry({...s,stream:!1,messages:o},{signal:t==null?void 0:t.signal,...t==null?void 0:t.options}),{completion_tokens:c,prompt_tokens:f,total_tokens:h}=(u==null?void 0:u.usage)??{};c&&(i.completionTokens=(i.completionTokens??0)+c),f&&(i.promptTokens=(i.promptTokens??0)+f),h&&(i.totalTokens=(i.totalTokens??0)+h);const m=[];for(const g of(u==null?void 0:u.choices)??[]){const y={text:((l=g.message)==null?void 0:l.content)??"",message:oue(g.message??{role:"assistant"})};g.finish_reason&&(y.generationInfo={finish_reason:g.finish_reason}),m.push(y)}return{generations:m,llmOutput:{tokenUsage:i}}}}async getNumTokensFromMessages(e){let t=0,r=0,i=0;C4(this.modelName)==="gpt-3.5-turbo"?(r=4,i=-1):C4(this.modelName).startsWith("gpt-4")&&(r=3,i=1);const s=await Promise.all(e.map(async o=>{const a=await this.getNumTokens(o.content),l=await this.getNumTokens(dg(o)),u=o.name!==void 0?i+await this.getNumTokens(o.name):0,c=a+r+l+u;return t+=c,c}));return t+=3,{totalCount:t,countPerMessage:s}}async completionWithRetry(e,t){const r=this._getClientOptions(t);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,r)}catch(i){throw iue(i)}})}_getClientOptions(e){if(!this.client){const r={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},i=ele(r),s={...this.clientConfig,baseURL:i,timeout:this.timeout,maxRetries:0};s.baseURL||delete s.baseURL,this.client=new xr(s)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((t,r)=>(r&&r.tokenUsage&&(t.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,t.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,t.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),t),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}}class lue extends Q1{constructor(e){var t;super(e),Object.defineProperty(this,"promptLayerApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"plTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnPromptLayerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.promptLayerApiKey=(e==null?void 0:e.promptLayerApiKey)??(typeof process<"u"?(t=process.env)==null?void 0:t.PROMPTLAYER_API_KEY:void 0),this.plTags=(e==null?void 0:e.plTags)??[],this.returnPromptLayerId=(e==null?void 0:e.returnPromptLayerId)??!1}async _generate(e,t,r){const i=Date.now();let s;Array.isArray(t)?s={stop:t}:t!=null&&t.timeout&&!t.signal?s={...t,signal:AbortSignal.timeout(t.timeout)}:s=t??{};const o=await super._generate(e,s,r),a=Date.now(),l=c=>{let f;if(c._getType()==="human")f={role:"user",content:c.content};else if(c._getType()==="ai")f={role:"assistant",content:c.content};else if(c._getType()==="function")f={role:"assistant",content:c.content};else if(c._getType()==="system")f={role:"system",content:c.content};else if(c._getType()==="generic")f={role:c.role,content:c.content};else throw new Error(`Got unknown type ${c}`);return f},u=(c,f)=>{const h={...this.invocationParams(),model:this.modelName};if(f!=null&&f.stop&&Object.keys(h).includes("stop"))throw new Error("`stop` found in both the input and default params.");return c.map(g=>l(g))};for(let c=0;c<o.generations.length;c+=1){const f=o.generations[c],h=u(e,s);let m;const g=[{content:f.text,role:dg(f.message)}],v=await ale(this.caller,"langchain.PromptLayerChatOpenAI",{...this._identifyingParams(),messages:h,stream:!1},this.plTags,g,i,a,this.promptLayerApiKey);this.returnPromptLayerId===!0&&(v.success===!0&&(m=v.request_id),(!f.generationInfo||typeof f.generationInfo!="object")&&(f.generationInfo={}),f.generationInfo.promptLayerRequestId=m)}return o}}const uue=Object.freeze(Object.defineProperty({__proto__:null,ChatOpenAI:Q1,PromptLayerChatOpenAI:lue},Symbol.toStringTag,{value:"Module"})),cue=()=>{const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[i,s]=Q.useState(5),[o,a]=Q.useState(""),[l,u]=Q.useState(!1),[c,f]=Q.useState("formal"),[h,m]=Q.useState(1);Q.useEffect(()=>{const y=setInterval(()=>{m(x=>x<3?x+1:1)},500);return()=>{clearInterval(y)}},[]);async function g(){try{const y=new Q1({temperature:i/10,maxTokens:500,openAIApiKey:`${{}.REACT_APP_OPENAI_API_KEY}`,modelName:"gpt-3.5-turbo-16k"}),b=await Da.fromTemplate("Generate a social media post about the topic {Topic} the content must not exceed 200 words.         using these and other good keywords:         {Keywords}. Content should be {ContentStyle}. You need to return a json with two properties          A template example for answer is:  {example}").pipe(y).invoke({Topic:n,ContentStyle:c,Keywords:t,example:'{"heading": <heading>, "content": <content> }'});return JSON.parse(b.content)}catch(y){console.log(y)}}async function v(){u(!0),await g().then(y=>{a(y),u(!1)}).catch(y=>{console.log(y),u(!1)})}return nt(ro,{children:[me("div",{className:"text-sm bg-slate-900 text-white min-h-screen p-4",children:nt("div",{className:"max-w-md mx-auto",children:[me("h1",{className:"text-4xl font-semibold my-8",children:"AI Social Media Content Generator"}),nt("div",{className:"mb-8",children:[me("label",{htmlFor:"topic",className:"block mb-2",children:"Topic:"}),me("input",{type:"text",id:"topic",className:"w-full bg-gray-800 text-white p-2 rounded",placeholder:"e.g. 'Artificial Intelligence'",value:n,onChange:y=>e(y.target.value)})]}),nt("div",{className:"mb-8",children:[me("label",{htmlFor:"keywords",className:"block mb-2",children:"Keywords:"}),me("input",{type:"text",id:"keywords",placeholder:"e.g. 'AI, Machine Learning, Deep Learning'",className:"w-full bg-gray-800 text-white p-2 rounded",value:t,onChange:y=>r(y.target.value)})]}),nt("div",{className:"mb-8",children:[me("div",{className:"mb-2",children:"Select Content Style:"}),nt("div",{className:"flex gap-4",children:[nt("label",{className:"flex items-center",children:[me("input",{type:"radio",value:"formal",checked:c==="formal",onChange:()=>f("formal"),className:"mr-2"}),"Formal"]}),nt("label",{className:"flex items-center",children:[me("input",{type:"radio",value:"funny",checked:c==="funny",onChange:()=>f("funny"),className:"mr-2"}),"Funny"]}),nt("label",{className:"flex items-center",children:[me("input",{type:"radio",value:"informative",checked:c==="informative",onChange:()=>f("informative"),className:"mr-2"}),"Informative"]})]})]}),nt("div",{className:"mb-10",children:[nt("div",{className:"flex gap-4",children:[me("label",{htmlFor:"creativityLevel",className:"block mb-2",children:"Creativity Level:"}),nt("p",{className:"text-center",children:[i,"/10"]})]}),me("input",{type:"range",id:"creativityLevel",className:"w-full bg-gray-800 text-white",min:0,max:10,step:1,value:i,onChange:y=>s(parseInt(y.target.value))}),me("button",{className:"w-full my-6 bg-violet-600 text-white p-2 rounded hover:bg-violet-700 transition duration-300",onClick:v,disabled:l,children:l?`Generating${".".repeat(h)}`:"Generate Content"})]})]})}),me("div",{className:"overflow-auto",children:o&&nt("div",{className:"mt-4 mb-24 max-w-[800px] mx-auto",children:[me("h2",{className:"text-3xl font-semibold mb-2",children:"Generated Content:"}),nt("div",{className:"bg-gray-800 p-4 rounded",children:[me("pre",{className:"whitespace-pre-wrap font-medium text-2xl",children:o.heading}),me("pre",{className:"whitespace-pre-wrap text-lg mt-4",children:o.content})]})]})})]})},due=()=>me("div",{className:"bg-slate-900 py-10 text-white min-h-screen p-4",children:me(cue,{})}),fue=()=>nt($U,{children:[nt(JU,{children:[" ",me(KP,{path:"/contentGenerator",element:me(due,{})})]}),nt("div",{className:"relative z-0 bg-primary",children:[nt("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[me(Xie,{}),me(gie,{})]}),me($ie,{}),me(xse,{}),me(tse,{}),me(_se,{}),me(Sse,{}),nt("div",{className:"relative z-0",children:[me(Rse,{}),me(see,{})]})]})]});const _L=new Set,di=new WeakMap,Dd=new WeakMap,Ru=new WeakMap,D4=new WeakMap,hue=new WeakMap,kd=new WeakMap,D2=new WeakMap,ph=new WeakSet;let rl,Ux=0,Gx=0;const Lo="__aa_tgt",Sp="__aa_del",k2="__aa_new",pue=n=>{const e=xue(n);e&&e.forEach(t=>wue(t))},mue=n=>{n.forEach(e=>{e.target===rl&&yue(),di.has(e.target)&&Hu(e.target)})};function gue(n){const e=D4.get(n);e==null||e.disconnect();let t=di.get(n),r=0;const i=5;t||(t=Ld(n),di.set(n,t));const{offsetWidth:s,offsetHeight:o}=rl,l=[t.top-i,s-(t.left+i+t.width),o-(t.top+i+t.height),t.left-i].map(c=>`${-1*Math.floor(c)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&Hu(n)},{root:rl,threshold:1,rootMargin:l});u.observe(n),D4.set(n,u)}function Hu(n){clearTimeout(D2.get(n));const e=$1(n),t=Cp(e)?500:e.duration;D2.set(n,setTimeout(async()=>{const r=Ru.get(n);try{await(r==null?void 0:r.finished),di.set(n,Ld(n)),gue(n)}catch{}},t))}function yue(){clearTimeout(D2.get(rl)),D2.set(rl,setTimeout(()=>{_L.forEach(n=>TL(n,e=>AL(()=>Hu(e))))},100))}function vue(n){setTimeout(()=>{hue.set(n,setInterval(()=>AL(Hu.bind(null,n)),2e3))},Math.round(2e3*Math.random()))}function AL(n){typeof requestIdleCallback=="function"?requestIdleCallback(()=>n()):requestAnimationFrame(()=>n())}let k4,Qc;typeof window<"u"&&(rl=document.documentElement,k4=new MutationObserver(pue),Qc=new ResizeObserver(mue),window.addEventListener("scroll",()=>{Gx=window.scrollY,Ux=window.scrollX}),Qc.observe(rl));function xue(n){return n.reduce((r,i)=>[...r,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:n.reduce((r,i)=>{if(r===!1)return!1;if(i.target instanceof Element){if(n6(i.target),!r.has(i.target)){r.add(i.target);for(let s=0;s<i.target.children.length;s++){const o=i.target.children.item(s);if(o){if(Sp in o)return!1;n6(i.target,o),r.add(o)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){const o=i.removedNodes[s];if(Sp in o)return!1;o instanceof Element&&(r.add(o),n6(i.target,o),Dd.set(o,[i.previousSibling,i.nextSibling]))}}return r},new Set)}function n6(n,e){!e&&!(Lo in n)?Object.defineProperty(n,Lo,{value:n}):e&&!(Lo in e)&&Object.defineProperty(e,Lo,{value:n})}function wue(n){var e;const t=n.isConnected,r=di.has(n);t&&Dd.has(n)&&Dd.delete(n),Ru.has(n)&&((e=Ru.get(n))===null||e===void 0||e.cancel()),k2 in n?yM(n):r&&t?_ue(n):r&&!t?Aue(n):yM(n)}function js(n){return Number(n.replace(/[^0-9.\-]/g,""))}function bue(n){let e=n.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Ld(n){const e=n.getBoundingClientRect(),{x:t,y:r}=bue(n);return{top:e.top+r,left:e.left+t,width:e.width,height:e.height}}function SL(n,e,t){let r=e.width,i=e.height,s=t.width,o=t.height;const a=getComputedStyle(n);if(a.getPropertyValue("box-sizing")==="content-box"){const u=js(a.paddingTop)+js(a.paddingBottom)+js(a.borderTopWidth)+js(a.borderBottomWidth),c=js(a.paddingLeft)+js(a.paddingRight)+js(a.borderRightWidth)+js(a.borderLeftWidth);r-=c,s-=c,i-=u,o-=u}return[r,s,i,o].map(Math.round)}function $1(n){return Lo in n&&kd.has(n[Lo])?kd.get(n[Lo]):{duration:250,easing:"ease-in-out"}}function CL(n){if(Lo in n)return n[Lo]}function zx(n){const e=CL(n);return e?ph.has(e):!1}function TL(n,...e){e.forEach(t=>t(n,kd.has(n)));for(let t=0;t<n.children.length;t++){const r=n.children.item(t);r&&e.forEach(i=>i(r,kd.has(r)))}}function Hx(n){return Array.isArray(n)?n:[n]}function Cp(n){return typeof n=="function"}function _ue(n){const e=di.get(n),t=Ld(n);if(!zx(n))return di.set(n,t);let r;if(!e)return;const i=$1(n);if(typeof i!="function"){const s=e.left-t.left,o=e.top-t.top,[a,l,u,c]=SL(n,e,t),f={transform:`translate(${s}px, ${o}px)`},h={transform:"translate(0, 0)"};a!==l&&(f.width=`${a}px`,h.width=`${l}px`),u!==c&&(f.height=`${u}px`,h.height=`${c}px`),r=n.animate([f,h],{duration:i.duration,easing:i.easing})}else{const[s]=Hx(i(n,"remain",e,t));r=new Animation(s),r.play()}Ru.set(n,r),di.set(n,t),r.addEventListener("finish",Hu.bind(null,n))}function yM(n){k2 in n&&delete n[k2];const e=Ld(n);di.set(n,e);const t=$1(n);if(!zx(n))return;let r;if(typeof t!="function")r=n.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:t.duration*1.5,easing:"ease-in"});else{const[i]=Hx(t(n,"add",e));r=new Animation(i),r.play()}Ru.set(n,r),r.addEventListener("finish",Hu.bind(null,n))}function vM(n,e){var t;n.remove(),di.delete(n),Dd.delete(n),Ru.delete(n),(t=D4.get(n))===null||t===void 0||t.disconnect(),setTimeout(()=>{if(Sp in n&&delete n[Sp],Object.defineProperty(n,k2,{value:!0,configurable:!0}),e&&n instanceof HTMLElement)for(const r in e)n.style[r]=""},0)}function Aue(n){var e;if(!Dd.has(n)||!di.has(n))return;const[t,r]=Dd.get(n);Object.defineProperty(n,Sp,{value:!0,configurable:!0});const i=window.scrollX,s=window.scrollY;if(r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(n,r):t&&t.parentNode?t.parentNode.appendChild(n):(e=CL(n))===null||e===void 0||e.appendChild(n),!zx(n))return vM(n);const[o,a,l,u]=Cue(n),c=$1(n),f=di.get(n);(i!==Ux||s!==Gx)&&Sue(n,i,s,c);let h,m={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${u}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!Cp(c))Object.assign(n.style,m),h=n.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:c.duration,easing:"ease-out"});else{const[g,v]=Hx(c(n,"remove",f));(v==null?void 0:v.styleReset)!==!1&&(m=(v==null?void 0:v.styleReset)||m,Object.assign(n.style,m)),h=new Animation(g),h.play()}Ru.set(n,h),h.addEventListener("finish",vM.bind(null,n,m))}function Sue(n,e,t,r){const i=Ux-e,s=Gx-t,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(rl).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+s),!n.parentElement)return;const l=n.parentElement;let u=l.clientHeight,c=l.clientWidth;const f=performance.now();function h(){requestAnimationFrame(()=>{if(!Cp(r)){const m=u-l.clientHeight,g=c-l.clientWidth;f+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-g,top:window.scrollY-m}),u=l.clientHeight,c=l.clientWidth,h()):document.documentElement.style.scrollBehavior=o}})}h()}function Cue(n){const e=di.get(n),[t,,r]=SL(n,e,Ld(n));let i=n.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),o=di.get(i)||Ld(i),a=Math.round(e.top-o.top)-js(s.borderTopWidth),l=Math.round(e.left-o.left)-js(s.borderLeftWidth);return[a,l,t,r]}function Tue(n,e={}){return k4&&Qc&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!Cp(e)&&!e.disrespectUserMotionPreference||(ph.add(n),getComputedStyle(n).position==="static"&&Object.assign(n.style,{position:"relative"}),TL(n,Hu,vue,i=>Qc==null?void 0:Qc.observe(i)),Cp(e)?kd.set(n,e):kd.set(n,{duration:250,easing:"ease-in-out",...e}),k4.observe(n,{childList:!0}),_L.add(n))),Object.freeze({parent:n,enable:()=>{ph.add(n)},disable:()=>{ph.delete(n)},isEnabled:()=>ph.has(n)})}const Mue=({chat:n})=>{const e="bg-slate-600 bg-opacity-50 backdrop-blur-lg dropshadow-md mr-auto",t=Q.useRef(null),r=Q.useRef(null);return Q.useEffect(()=>{t.current&&Tue(t.current)},[t]),Q.useEffect(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[n]),nt("div",{className:" text-sm flex flex-col gap-4",ref:t,children:[n.map((i,s)=>me("div",{className:`max-w-[90%] border-[#999999] break-words border-2 rounded-xl self-end px-3.5 py-2 ${i.sender==="ai"&&e}`,children:me("pre",{className:"whitespace-pre-wrap",children:me("span",{children:i.message})})},s)),me("div",{ref:r,className:"h-3"})]})},Eue=({sendMessage:n,loading:e})=>{const[t,r]=Q.useState(""),i=()=>{t!==""&&(n({sender:"user",message:t}),r(""))};return me("div",{className:`w-full bg-slate-900 bg-opacity-10 max-h-40 rounded-lg px-4\r
    py-4 overflow-auto relative`,children:e?me("img",{src:"../../public/loader.gif",className:"w-8 m-auto"}):nt(ro,{children:[me("input",{onKeyDown:s=>{s.keyCode===13&&s.shiftKey===!1&&i()},className:"border-0 w-[88%] bg-transparent outline-none ",value:t,type:"text",onChange:s=>r(s.target.value)}),me("img",{onClick:i,src:"../../public/send.png",width:20,alt:"send-button",className:"absolute top-4 right-3 hover:cursor-pointer ease-in duration-100 hover:scale-125"})]})})};function L4(n,e){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L4(n,e)}function v0(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,L4(n,e)}var x0=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}(),ML=typeof window>"u";function Ir(){}function Pue(n,e){return typeof n=="function"?n(e):n}function Iue(n){return typeof n=="number"&&n>=0&&n!==1/0}function L2(n){return Array.isArray(n)?n:[n]}function Rue(n,e){return Math.max(n+(e||0)-Date.now(),0)}function r6(n,e,t){return w0(n)?typeof e=="function"?Mt({},t,{queryKey:n,queryFn:e}):Mt({},e,{queryKey:n}):n}function Bue(n,e,t){return w0(n)?typeof e=="function"?Mt({},t,{mutationKey:n,mutationFn:e}):Mt({},e,{mutationKey:n}):typeof n=="function"?Mt({},e,{mutationFn:n}):Mt({},n)}function Ca(n,e,t){return w0(n)?[Mt({},e,{queryKey:n}),t]:[n||{},e]}function Due(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function xM(n,e){var t=n.active,r=n.exact,i=n.fetching,s=n.inactive,o=n.predicate,a=n.queryKey,l=n.stale;if(w0(a)){if(r){if(e.queryHash!==Vx(a,e.options))return!1}else if(!O2(e.queryKey,a))return!1}var u=Due(t,s);if(u==="none")return!1;if(u!=="all"){var c=e.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function wM(n,e){var t=n.exact,r=n.fetching,i=n.predicate,s=n.mutationKey;if(w0(s)){if(!e.options.mutationKey)return!1;if(t){if(uu(e.options.mutationKey)!==uu(s))return!1}else if(!O2(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Vx(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||uu;return t(n)}function uu(n){var e=L2(n);return kue(e)}function kue(n){return JSON.stringify(n,function(e,t){return O4(t)?Object.keys(t).sort().reduce(function(r,i){return r[i]=t[i],r},{}):t})}function O2(n,e){return EL(L2(n),L2(e))}function EL(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!EL(n[t],e[t])}):!1}function PL(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||O4(n)&&O4(e)){for(var r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{},a=0,l=0;l<s;l++){var u=t?l:i[l];o[u]=PL(n[u],e[u]),o[u]===n[u]&&a++}return r===s&&a===r?n:o}return e}function O4(n){if(!bM(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!bM(t)||!t.hasOwnProperty("isPrototypeOf"))}function bM(n){return Object.prototype.toString.call(n)==="[object Object]"}function w0(n){return typeof n=="string"||Array.isArray(n)}function Lue(n){return new Promise(function(e){setTimeout(e,n)})}function _M(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function IL(){if(typeof AbortController=="function")return new AbortController}var Oue=function(n){v0(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!ML&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},t.setFocused=function(i){this.focused=i,i&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(i){i()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(x0),fg=new Oue,Fue=function(n){v0(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(i){var s;if(!ML&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},t.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},t.setOnline=function(i){this.online=i,i&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(i){i()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(x0),hg=new Fue;function Nue(n){return Math.min(1e3*Math.pow(2,n),3e4)}function F2(n){return typeof(n==null?void 0:n.cancel)=="function"}var RL=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function i6(n){return n instanceof RL}var BL=function(e){var t=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,m){o=h,a=m});var l=function(m){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(m),s==null||s(),o(m))},u=function(m){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(m),s==null||s(),a(m))},c=function(){return new Promise(function(m){s=m,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function h(){if(!t.isResolved){var m;try{m=e.fn()}catch(g){m=Promise.reject(g)}i=function(v){if(!t.isResolved&&(u(new RL(v)),t.abort==null||t.abort(),F2(m)))try{m.cancel()}catch{}},t.isTransportCancelable=F2(m),Promise.resolve(m).then(l).catch(function(g){var v,y;if(!t.isResolved){var x=(v=e.retry)!=null?v:3,_=(y=e.retryDelay)!=null?y:Nue,b=typeof _=="function"?_(t.failureCount,g):_,S=x===!0||typeof x=="number"&&t.failureCount<x||typeof x=="function"&&x(t.failureCount,g);if(r||!S){u(g);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,g),Lue(b).then(function(){if(!fg.isFocused()||!hg.isOnline())return c()}).then(function(){r?u(g):h()})}})}};f()},Uue=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):_M(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&_M(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),qn=new Uue,DL=console;function kL(){return DL}function Gue(n){DL=n}var zue=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var i;this.options=Mt({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Iue(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=Pue(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=PL(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(Ir).catch(Ir):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Rue(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var c=this.observers.find(function(_){return _.options.queryFn});c&&this.setOptions(c.options)}var f=L2(this.queryKey),h=IL(),m={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(h)return s.abortSignalConsumed=!0,h.signal}});var g=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(m)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:g,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var y;(y=this.options.behavior)==null||y.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=v.fetchOptions)==null?void 0:a.meta)){var x;this.dispatch({type:"fetch",meta:(x=v.fetchOptions)==null?void 0:x.meta})}return this.retryer=new BL({fn:v.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(b){s.setData(b),s.cache.config.onSuccess==null||s.cache.config.onSuccess(b,s),s.cacheTime===0&&s.optionalRemove()},onError:function(b){i6(b)&&b.silent||s.dispatch({type:"error",error:b}),i6(b)||(s.cache.config.onError==null||s.cache.config.onError(b,s),kL().error(b)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),qn.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return Mt({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Mt({},r,{isPaused:!0});case"continue":return Mt({},r,{isPaused:!1});case"fetch":return Mt({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Mt({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return i6(a)&&a.revert&&this.revertState?Mt({},this.revertState):Mt({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Mt({},r,{isInvalidated:!0});case"setState":return Mt({},r,i.state);default:return r}},n}(),Hue=function(n){v0(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var t=e.prototype;return t.build=function(i,s,o){var a,l=s.queryKey,u=(a=s.queryHash)!=null?a:Vx(l,s),c=this.get(u);return c||(c=new zue({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(c)),c},t.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},t.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},t.clear=function(){var i=this;qn.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},t.get=function(i){return this.queriesMap[i]},t.getAll=function(){return this.queries},t.find=function(i,s){var o=Ca(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return xM(a,l)})},t.findAll=function(i,s){var o=Ca(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return xM(a,l)}):this.queries},t.notify=function(i){var s=this;qn.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){var i=this;qn.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},t.onOnline=function(){var i=this;qn.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(x0),Vue=function(){function n(t){this.options=Mt({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||LL(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ir).catch(Ir)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),kL().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new BL({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=Wue(this.state,r),qn.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},n}();function LL(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Wue(n,e){switch(e.type){case"failed":return Mt({},n,{failureCount:n.failureCount+1});case"pause":return Mt({},n,{isPaused:!0});case"continue":return Mt({},n,{isPaused:!1});case"loading":return Mt({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Mt({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Mt({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return Mt({},n,e.state);default:return n}}var jue=function(n){v0(e,n);function e(r){var i;return i=n.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var t=e.prototype;return t.build=function(i,s,o){var a=new Vue({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},t.add=function(i){this.mutations.push(i),this.notify(i)},t.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},t.clear=function(){var i=this;qn.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},t.getAll=function(){return this.mutations},t.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return wM(i,s)})},t.findAll=function(i){return this.mutations.filter(function(s){return wM(i,s)})},t.notify=function(i){var s=this;qn.batch(function(){s.listeners.forEach(function(o){o(i)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return qn.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Ir)})},Promise.resolve())})},e}(x0);function Zue(){return{onFetch:function(e){e.fetchFn=function(){var t,r,i,s,o,a,l=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",m=((o=e.state.data)==null?void 0:o.pages)||[],g=((a=e.state.data)==null?void 0:a.pageParams)||[],v=IL(),y=v==null?void 0:v.signal,x=g,_=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(W,$,ee,ce){return x=ce?[$].concat(x):[].concat(x,[$]),ce?[ee].concat(W):[].concat(W,[ee])},R=function(W,$,ee,ce){if(_)return Promise.reject("Cancelled");if(typeof ee>"u"&&!$&&W.length)return Promise.resolve(W);var N={queryKey:e.queryKey,signal:y,pageParam:ee,meta:e.meta},H=b(N),j=Promise.resolve(H).then(function(te){return S(W,ee,te,ce)});if(F2(H)){var oe=j;oe.cancel=H.cancel}return j},T;if(!m.length)T=R([]);else if(f){var B=typeof c<"u",C=B?c:AM(e.options,m);T=R(m,B,C)}else if(h){var P=typeof c<"u",I=P?c:Jue(e.options,m);T=R(m,P,I,!0)}else(function(){x=[];var q=typeof e.options.getNextPageParam>"u",W=l&&m[0]?l(m[0],0,m):!0;T=W?R([],q,g[0]):Promise.resolve(S([],g[0],m[0]));for(var $=function(N){T=T.then(function(H){var j=l&&m[N]?l(m[N],N,m):!0;if(j){var oe=q?g[N]:AM(e.options,H);return R(H,q,oe)}return Promise.resolve(S(H,g[N],m[N]))})},ee=1;ee<m.length;ee++)$(ee)})();var k=T.then(function(q){return{pages:q,pageParams:x}}),U=k;return U.cancel=function(){_=!0,v==null||v.abort(),F2(T)&&T.cancel()},k}}}}function AM(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Jue(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}var que=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Hue,this.mutationCache=t.mutationCache||new jue,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=fg.subscribe(function(){fg.isFocused()&&hg.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=hg.subscribe(function(){fg.isFocused()&&hg.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=Ca(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Mt({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=r6(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return qn.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=Ca(r,i),o=s[0],a=this.queryCache;qn.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=Ca(r,i,s),l=a[0],u=a[1],c=this.queryCache,f=Mt({},l,{active:!0});return qn.batch(function(){return c.findAll(l).forEach(function(h){h.reset()}),o.refetchQueries(f,u)})},e.cancelQueries=function(r,i,s){var o=this,a=Ca(r,i,s),l=a[0],u=a[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var f=qn.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.cancel(c)})});return Promise.all(f).then(Ir).catch(Ir)},e.invalidateQueries=function(r,i,s){var o,a,l,u=this,c=Ca(r,i,s),f=c[0],h=c[1],m=Mt({},f,{active:(o=(a=f.refetchActive)!=null?a:f.active)!=null?o:!0,inactive:(l=f.refetchInactive)!=null?l:!1});return qn.batch(function(){return u.queryCache.findAll(f).forEach(function(g){g.invalidate()}),u.refetchQueries(m,h)})},e.refetchQueries=function(r,i,s){var o=this,a=Ca(r,i,s),l=a[0],u=a[1],c=qn.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.fetch(void 0,Mt({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),f=Promise.all(c).then(Ir);return u!=null&&u.throwOnError||(f=f.catch(Ir)),f},e.fetchQuery=function(r,i,s){var o=r6(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(Ir).catch(Ir)},e.fetchInfiniteQuery=function(r,i,s){var o=r6(r,i,s);return o.behavior=Zue(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(Ir).catch(Ir)},e.cancelMutations=function(){var r=this,i=qn.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Ir).catch(Ir)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return uu(r)===uu(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return O2(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return uu(r)===uu(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return O2(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Mt({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Vx(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Mt({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),Xue=function(n){v0(e,n);function e(r,i){var s;return s=n.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},t.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},t.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Mt({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:LL(),s=Mt({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},t.notify=function(i){var s=this;qn.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(x0),Kue=iU.unstable_batchedUpdates;qn.setBatchNotifyFunction(Kue);var Yue=console;Gue(Yue);var SM=kr.createContext(void 0),OL=kr.createContext(!1);function FL(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=SM),window.ReactQueryClientContext):SM}var Que=function(){var e=kr.useContext(FL(kr.useContext(OL)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$ue=function(e){var t=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;kr.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=FL(i);return kr.createElement(OL.Provider,{value:i},kr.createElement(o.Provider,{value:t},s))};function ece(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function tce(n,e,t){var r=kr.useRef(!1),i=kr.useState(0),s=i[1],o=Bue(n,e,t),a=Que(),l=kr.useRef();l.current?l.current.setOptions(o):l.current=new Xue(a,o);var u=l.current.getCurrentResult();kr.useEffect(function(){r.current=!0;var f=l.current.subscribe(qn.batchCalls(function(){r.current&&s(function(h){return h+1})}));return function(){r.current=!1,f()}},[]);var c=kr.useCallback(function(f,h){l.current.mutate(f,h).catch(Ir)},[]);if(u.error&&ece(void 0,l.current.options.useErrorBoundary,[u.error]))throw u.error;return Mt({},u,{mutate:c,mutateAsync:u.mutate})}const nce=async n=>{const e=new Q1({temperature:0,maxTokens:300,openAIApiKey:`${{}.REACT_APP_OPENAI_API_KEY}`,modelName:"gpt-3.5-turbo-16k"}),t=`
 Your business operations improved by harnessing technology Driving business evolution through technology Supporting businesses across Bahrain and Saudi Arabia. 10+ years of business-led technology consultancy. Creating bespoke, secure and compliant technology solutions that solve business challenges and exceed goals. Schedule your free consultancy session with our team Delivering you success, by overcoming your challenges. Your business will continue to grow, and your team further develop, when the restrictions of operational workflow, performance and compliance 
 obligations are tackled head-on with the right expert support. By understanding which goals you're seeking to achieve and the restraints you need to overcome on that journey, as your trusted consultants we can blend and shape technology to be the solution for almost all scenarios. What do you need to achieve?
 Find a trusted, reliable and effective IT partner?
 Compliance and Data Security peace of mind?
 Improve remote working or modernize your tech?
 Get a secure, robust and fast network infrastructure?
 As technology is so incredibly intrinsic to everything that you do operationally within your business; can you afford to suffer from the costs of downtime or reputational damage? For over 10 years, Infinigence have been taking complete ownership of the IT within the businesses that we serve. Not only do we support and proactively maintain that technology, we can help you to better leverage the agility, flexibility and cost saving benefits that it brings. Want to discover how technology can be the driver for the development of your business too? By placing people and process, ahead of technology, you will discover how the applications, services and devices - and the integration and connectivity between all of them - can be tailored to suit the operational needs of your workflow; rather than forcing you to change to suit the demands of technology. Want to discover how technology can be the driver for the development of your business too?
 By placing people and process, ahead of technology, you will discover how the applications, services and devices - and the integration and connectivity between all of them - can be tailored to suit the operational needs of your workflow; rather than forcing you to change to suit the demands of technology.
 Quick Response Times
 Through the effective use of modern tools your team can be as productive with their limited time as possible.
 A Proactive Cyber Safe Approach
 Our proactive approach fortifies your business to remain immune from downtime and cyber threats.
 Personable, Friendly, Knowledgeable
 Our persaonable, friendly approach, combined with years of acccumulated knowledge makes our offering unique.
 
 Our Managed Service Offering:
 With over ten years of experience and countless success stories, our unique IT solutions and business consultancy services cover an extensive range of areas including:
 
 Managed IT Support
 Constantly keeping ahead of the developments in technology ensuring you get the most for your money and the best support.
 
 Security Solutions
 With defensive tools, policies & practices, and user awareness training, keep your system dynamically protected from the threats of tomorrow.
 
 Cloud Solutions
 Empowering your productivity and collaboration through apps, data storage and tools, allowing you to work whenever, wherever.
 
 Connectivity
 Providing efficient consultancy, sourcing, installation and the support you need for reliable, modern communications.
 
 
 Our Managed Service Offering:
 With over ten years of experience and countless success stories, our unique IT solutions and business consultancy services cover an extensive range of areas including:
 
 Managed IT Support
 Constantly keeping ahead of the developments in technology ensuring you get the most for your money and the best support.
 
 Security Solutions
 With defensive tools, policies & practices, and user awareness training, keep your system dynamically protected from the threats of tomorrow.
 
 Cloud Solutions
 Empowering your productivity and collaboration through apps, data storage and tools, allowing you to work whenever, wherever.
 
 Connectivity
 Providing efficient consultancy, sourcing, installation and the support you need for reliable, modern communications.
 
 Why Work With Us?
 With over ten years of experience, Infinigence Consulting has become one of the worlds leading IT and compliance consultancy services with satisfied clients in the USA, Canada, Australia, Qatar, Bahrain, Saudi Arabia, India, Pakistan and more.
 
 10+ Years of Experience
 We focus on People & Process, ahead of technology
 
 Jargon-Free Expert Technical Advice
 
 Serving Businesses Big and Small, Globally
 
 Data & Cyber Security first approach
 
 Scalable and Cost-Effective Solutions
 
 ITIL & ISO Best Practices
 
 A Forward-Thinking, Proactive Approach
 Bahrain
 Office 43, Building 1311 Road
 525, Block 305, Manama
 Saudi Arabia
 Takhassusi St, Al Olaya,
 Riyadh, 12333
 USA
 530-B Harkle Road, STE 100
 Santa Fe, 87505 New Mexico
 hello@infinigence.me
 +973 1330 6090
 
 
 About Us
 We Werent Always This Perfect  Our Success Story
 Over the past ten years, overcoming obstacles on our rise has helped us become what we are today. Were the result of consistent hard work and effort!
 
 Our Core Values
 We work with determination and a work ethic that is hard to match. Our values are embedded in our work, which is what drives our crazy commitment to our clients, prioritizing their satisfaction over everything. Here are our core values that lie at the heart of our business
 
 
 Our Core Values
 We work with determination and a work ethic that is hard to match. Our values are embedded in our work, which is what drives our crazy commitment to our clients, prioritizing their satisfaction over everything. Here are our core values that lie at the heart of our business:
 
 Which challenges are you looking to overcome?
 
 Lacking Automation?
 Providing a quality service, on a budget, while upholding client demands stretches teams thin.
 
 Hidden Costs?
 Do you often find yourself left in the dark until the last minute, confused by vague pricing?
 
 Adopting New Tech?
 Are you struggling to keep your business relevant with the latest technological trends?
 
 Poor Intergration?
 Are you struggling to integrate effectively between different applications?
 
 Evolving your business through technology
 
 Taking Responsibility
 We are always here for when things go wrong, but importantly, we are also proactively working behind the scenes to maintain performance, while mitigating risks and downtime.
 
 Work Smarter, Not Harder
 By better leveraging the technology tools at your disposal, we can help you to maximize your operational workflow efficiency, team productivity and commercial agility.
 
 Strategically-Aligned Technology
 We get to know your business operations, your people and your workflow requirements. Insight, which permits us the ability to better tailor technology around the way that you work.
 
 Predictable & Competitive IT Costs
 By bringing all of your IT under one umbrella, combined with our industry buying power and forward planning & budgeting, you will feel at ease with predictable technology costs.
 
 
 Outsource the pain, 
 reap the business rewards
 Discover how outsourcing the burden your technology to Inifigence, can give you the freedom to work on developing the future of your business.
 Speak to our team, today!
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 
 Solve IT Problems & Questions
 As IT is such an integral part of modern businesses; the interruption, downtime or failing to fully utilize technology to the fullest of its abilities, are costs that you should work hard to avoid.
 
 You not only deserve access to technical support that's fast and reliable to keep your systems working optimally, but expert educational advice and best practices that keep your team productive too. 
 No longer should IT be a necessary evil for your business, an inflexible cost that fails to evidence its return on investment. Any technology investment that you make, should be a strategic one; an advancement that delivers real operational and commercial benefits to your business' workflow, supported by a partner that truly understands the needs at-hand within your teams.
 
 Strategic View
 
 
 Forward-Thinking Advice
 As you are busy running your business, tackling day-to-date matters and focusing on your growth - it can be difficult to maintain pace with forever advancing technology. You should instead benefit from a partner that's plugged-in to the developments within your company; a partner that will surface improvements, new apps and services, which will be of benefit and add value to your business.
 
 
 
 IT Help Desk
 Our IT help desk provides instant support to help you overcome the day-to-day technical issues that can halt productivity. With a strong focus on streamlining operations, we provide you with a roadmap to help you gain a cutting-edge IT infrastructure in terms of hardware, software and operational techniques.
 
 Email & Collaboration
 
 Want to boost productivity and workforce collaboration? Then let us create a unique shared workspace. With the all-rounder productivity suite, Microsoft 365, you can gain easy access to emails, contacts, tasks and calendars  completely streamlining the way you work. Team members and external users can communicate over audio, video, or instant chats  all using one platform.
 
 Share files and folders using drives and clouds, creating a central hub for all file sharing. Not just that, you also get your very own enterprise email with a 50 GB storage along with an antivirus to keep your data and systems secure.
 
 Remote Monitoring & Management (RMM)
 Outdated technology and equipment can significantly limit your productivity and leave you in the past. Whether its from freezing or error messages, Microsoft claims that businesses lose around 1.8 billion dollars every year.
 
 We offer an innovative Remote Monitoring and Management tool that ensuring every part of your IT system is upgraded and running smoothly. Youll get instant upgrades and updates, improved security, an enhanced end-user experience and tonnes more.
 
 
 Network Monitoring & Management
 
 With modern businesses completely reliant on IT systems and needing round-the-clock support, our network monitoring experts are on standby to cater to your every need.
 
 Whether you need emergency patchwork or are caught in a massive IT crisis, we ease the stress by resolving them in real-time. The next your IT system has a breakdown, well provide support to all people and all devices connected to your network for effective results.
 
 
 
 IT Security & Compliance
 Any information exchanged through your IT network may be susceptible to breach or a virus attack. Thats why Infinigence Consulting offers triple security (network, endpoint & email) to cover all the possible gateways of attack  before they strike. We help you keep an eye on everything from emails to unauthorized access so that you can sleep worry-free at night, knowing that your company is in safe hands
 
 
 Backup & Disaster Recovery
 
 Backup and Disaster Recovery are two of the most crucial components of a layered IT security strategy. About 94% of the companies that suffer from catastrophic data breaches do not survive, while 51% close within two years.
 
 Infinigence Consulting offers a fully managed backup and disaster recovery solution specifically designed to protect your business. We provide a smart and disaster-focused strategy, real-time monitoring, backup testing and validation, instant recovery, and end-to-end encryption to safeguard your business from unwarranted attention.
 
 
 VCIO
 Are you interested in making your business more scalable and profitable? Infinigence Consulting provides you your own virtual Chief Information Officer, utilizing his expertise to align your IT objectives with your business goals  helping you take the right initiatives and create a brighter future for your business.
 
 Without strategic IT consulting, you may end up making the wrong move. Your virtual CIO will take care of your entire IT infrastructure and the complexities that come with it while devising cost-appropriate IT strategies to help gain the competitive advantage.
 
 Vendor Management
 
 Vendor management is crucial in providing your strategic source department with a firm and non-collapsing structure that tackles any surprises with confidence.
 
 Our expertise at Infinigence Consulting helps you avoid duplicative IT services, uncontrolled IT price changes, non-compliance issues, missed prospects to leverage spend and more. We ensure a smooth ride that leads to infinite growth.
 
 Domain & DNS Management
 In todays online market, Domain & DNS management can be game-changing. You need to make sure that you are always live and ready to serve your customers.
 
 We help automate your domains, close security gaps, improve website availability and enhance performance. While most MSPs promote one DNS server, we recommend two or more to help prepare for the unforeseen redundancies.
 
 
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 As time progresses, digital threats continue to climb and processes become more complex; resulting in ever increasing legislative and industrial compliance requirements. As technology is such a sizable component of modern compliance obligations, you require a partner that will understand not only the IT, but appreciate the business-drivers and operational demands that make up the bigger picture. You deserve the the peace of mind and trust that can be delivered only by an experienced, consultative partner.
 It is becoming ever more important to adequately document the practices and procedures within a modern business, not only from an operational efficiency standpoint, but from data best handling practices too. Your business needs a partner with breadth and depth of experience to help curate the documentation you need, which fits your business, your goals and requirements.
 It is becoming ever more important to adequately document the practices and procedures within a modern business, not only from an operational efficiency standpoint, but from data best handling practices too. Your business needs a partner with breadth and depth of experience to help curate the documentation you need, which fits your business, your goals and requirements.
 
 
 Company Formation
 Establishing a company involves a lot of work and isnt everyones cup of tea. Whether youre going solo, opting for a partnership or even jumping onto the freelance bandwagon, Infinigence Consulting will help you smash through the technical and legal barriers to make your dreams a reality.
 Business Law & Compliance
 
 Navigating business law is full of challenges, while failing to stay compliant can take down even the strongest players in the industry. We make it our duty to provide extensive guidance, so you always stay on track. This involves staying in control of your licensing and other regulatory requirements  from top to bottom.
 Contracts Law
 If you dont understand the technical jargon most contracts layout, you dont need to worry. At Infinigence Consulting, we always have our thinking hats on to iron out every detail and make sure you get the best end of the deal. We specialize in everything from labor contracts, company formation and legal documents to NDAs, service agreements and employment agreements.
 Personal Data Protection Law (PDPL)
 
 Not many businesses have fully understood what PDPL means for them. With our experienced team constantly keeping up-to-date with new laws, you do not need to. We make it our job to help you understand the importance and protection of personal data. By guiding you to design and analyze your collection of data, youll avoid any legal issues.
 
 
 safeguarding Your Network From Malicious Threats
 
 Every 39 seconds, a computer is hacked. That can result in crucial company data, customer records and even money being stolen. There can be no coming back. Thankfully, our Managed Security Services (MSS) and concrete firewall solutions create an impenetrable network barrier.
 
 Our use of next-generation firewalls helps fully identify the source of the threat and automatically limit access to your business  preventing your entire system from collapsing. Our dedicated team ensures your business receives up-to-date policing and efficient clean up when threats arrive.
 Protection Against Viruses and Malware
 Do you know that you could be responsible for a data breach at your own company? About 95% of all data breaches identify human error as a contributing factor. You may lose more than 20% of your revenue due to a data breach.
 
 Our end-point security solutions help safeguard access to your company network from remote devices such as mobiles, tablets and laptops. With beasts like Sophos and Bitdefender, your protection against a rootkit, malware, ransomware and other viruses is guaranteed.
 
 Protection Against Viruses and Malware
 Do you know that you could be responsible for a data breach at your own company? About 95% of all data breaches identify human error as a contributing factor. You may lose more than 20% of your revenue due to a data breach.
 
 Our end-point security solutions help safeguard access to your company network from remote devices such as mobiles, tablets and laptops. With beasts like Sophos and Bitdefender, your protection against a rootkit, malware, ransomware and other viruses is guaranteed.
 
 Security Awareness Training
 Did you know that in 2013, Yahoo suffered the biggest data breach in the U.S history? Data Breaches are more common than you had imagined. And if Yahoo, can get hacked, so can you! Your team needs to be fully aware of the different ways they can become a victim of cyber-attacks. Cybersecurity memos are not the best way to get your employees to be careful. This is why we pride ourselves in providing a comprehensive archive of security awareness training content to help you meet your cyber security goals and prepare your team for possible phishing attacks through newsletters, videos, blogs, and gamified learning.
 
 Block Access to Dangerous Websites
 
 DNS Filtering is an all-in-one solution that prevents users from accessing fishy websites, phishing, ransomware, malware, malicious content and BEC.
 
 By opting for DNS filtering, youll receive real-time updates and reports of DNS activity on your network helping you stay in complete control. With enterprise-grade protection and effective filtering for online users, you can be a part of the secure online world where phishing, ransomware and other infections are neutralized before they occur.
 
 
 
 
 Cloud & Remote Working
 Bring flexibility and agility to your team with the Cloud
 Work from anywhere, at anytime, with the power of Cloud-based software apps, data storage and tools.
 
 
 
 Which challenges are you looking to overcome?
 
 Improved Remote Working?
 Is working away from the office proving a challenge? Lacking access to data and services?
 
 Controlling IT Costs?
 Would you like to get a grip on spiralling IT costs and achieve more budget predictability?
 
 Security Concerns?
 Do you have specific compliance needs or is your legacy IT failing to protect your data?
 
 Improve Productivity?
 Are there opportunities to streamline your workflow and improve your team's output?
 
 Evolving your business through technology
 
 Collaboration
 Your team can be empowered to work better together - while literally working from anywhere, at any time. The Cloud breaks down barriers of communication and collaboration by effortlessly bringing together teams within one web-based workspace.
 
 Flexible Pricing
 Gone are the days of large-scale capital expenditure on IT projects, the Cloud shifts IT spend from capital to operational expenditure - while bending and flexing to the scaling and changing needs of your business from month-to-month
 
 Flexibility and Scalability
 To meet increases and decreases in demand from the business, your Cloud Services may be flexibly adjusted in scale - by user licenses or resources - effortlessly as and when you require.
 
 Security Driven
 Protecting your data, meeting compliance requirements and maintaining continuity of business - in the event of a disaster - are all core fundamentals to professional Cloud Services.
 
 
 
 Make an effective migration to the Cloud
 Our expert team can map your business requirements to the most appropriate of Cloud Services, taking care of your data migration, configuration
 
 
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 
 Enhance our Remote Working
 The ability to work anywhere, at any time, is an absolute must have for any modern and progressive business, with agility, flexibility and commercial advantage, as just some of the benefits that your business can reap from an effective remote working solution. This requirement does however pose some challenges; speed and ease of access must be sustained for all team members, without compromising security and procedure.
 By leveraging Cloud technology, you can achieve far greater levels of integration between the apps, tech tools and services that you use, and with that improved connectivity, benefit from the possibilities of automating many of the manual admin processes in place today. 
 
 Drive Integration & Automation
 
 
 Replace Outdated Technology
 If you need to modernize your IT infrastructure, the Cloud is the cost-effective, technically capable solution to replace on-premise servers, transition locally-hosted applications to hosted alternatives, and securely store your various types of files, folders and databases. Instead of periodic large-scale capital investments, you can achieve flexible and accessible alternative services in the Cloud. You need a consultative partner that understands your business requirements, who will map the most appropriate Cloud servies for your needs.
 
 
 
 The Cloud solutions your business demands
 Cloud Solutions make digital collaboration and remote working simple. But like all things IT, its crucial that your chosen cloud solution has enhanced security protocols, disaster recovery and slick ease of accessibility.
 
 From startups to multi-divisional corporate networks, we deliver secure, cost-effective cloud solutions tailored to your needs.
 
 Cloud Migration
 
 Cloud Migration is the process of moving your organizations entire data from legacy systems to cloud-based systems. Switching results in a significant decrease in IT infrastructure management costs by as much as 30-50%.
 
 Due to the pay-as-you-go mechanism, cloud services provide you the feasibility of maintaining and controlling your resources based on your needs. On the other hand, the legacy system prevents your business from scaling due to its limited capacity, reliability, and agility.
 
 So, when you switch to the cloud, your email, file servers, workload, applications and company records can be shifted to the cloud-based file-management mechanisms to ensure they support extensive collaboration, enhanced security and improved agility  dramatically speeding up your productivity and output!
 
 Cloud Backup
 Accidental mistakes can be costly. In 2018, 32% of businesses lost data in the cloud, causing a loss of $123 million! Fear not, weve got your covered.
 
 Despite what many people think, clouds do not mean youll never have to back up your data. According to the 3-2-1 backup rule, you should have 3 total copies of data, with 2 copies on different media, and 1 of them located offsite. This rule still applies when you choose to switch to a cloud-based system.
 
 At Infinigence Consulting, were deeply invested in mastering our system to ensure there is an extra layer of backup for our customers. We provide the convenience of automated backups with customizable frequencies and on-demand backups provided by a dedicated admin.
 
 From nominal backups that include Office 365 and G Suite to major on-premises server backups, Infinigence Consulting will make sure all your data is safely stored!
 
 
 Cloud File Server
 
 Globally, everyone loves Google Drive and Dropbox. While these work exceptionally well for your day to day tasks, commercial businesses tend to demand a handful of extra dedicated services, which are not provided by these leading cloud storage players.
 
 Infinigence Consulting provides a seamless and unique cloud-based storage solution that allows the users to access their data directly in the cloud, without the need for downloading or syncing. With its end-to-end encryption, data transfers are always secure.
 
 Additionally, our unique cloud service can be used for post-production workflows on-the-go  reducing the probability of quality loss and costly transfer services. With real-time collaboration and automated snapshots, your business game will never be the same!
 
 
 Centralized Signature Management
 Signature management might seem like a relatively simple task when talking about 10 to 20 users. However, it becomes a tedious chore for SMBs and large-scale organizations to set and update individual signatures for every user.
 
 Infinigence Consulting provides centralized signature management that allows businesses to adopt a consistent style of company email signature, have variations based on departments, consist of cross-platform email signature management, and satisfy the legal compliance policy of the business  all under one roof!
 
 Content Delivery Network (CDN)
 
 With the increase in digital access, the responsibility of being instant in communication with your audience has become a necessity. Infinigence Consulting actively safeguards your Internet presence by directly bringing your business into the limelight!
 
 Our customers witness a great improvement in content delivery and a dramatic surge in global audiences thanks to our intelligently-devised CDN services. They leverage the power of advanced usage analytics while avoiding the tiresome issues of high network latency. We know that slow loading times are your absolute enemy, so our CDN offers swift and reliable sharing of content.
 
 Keeping your security concerns in mind, Infinigence Consulting invests dedicated resources to maintain the security protocols while allowing the businesses to engage with their audiences and scale up their operations faster than ever. With our network spanning multiple countries, your business is bound to get all the attention it deserves!
 
 
 
 Collocation & Dedicated Servers
 Keeping your specific business needs in mind, Infinigence Consulting prides itself on providing the facilities of both collocated and dedicated servers.
 
 Our collocated servers deliver premium services while withstanding the looming cybersecurity threats, ensuring there is no interruption in data streaming due to power outages or bandwidth limitations.
 
 If your willing to have specialized and isolated access to a complete server, well provide you with the facility of a dedicated server that is hosted in our data center. This allows you to avoid all sorts of security risks and probable causes of interruptions in data streaming.
 
 We are currently operational in 15 countries across the world with maximum usages tracked in different parts of Bahrain, Canada, India, Singapore, UK, and USA.
 
 
 
 Virtual Private Servers (VPS)
 
 Since Infinigence Consulting values its customers and emphasizes on the delivery of cost-efficient solutions, we provide the facility of creating virtual private servers on both shared and dedicated servers for our customers convenience.
 
 Contrary to popular belief, a shared server does have the probability of affecting your work due to excessive usage from other users. However, when you acquire a virtual private server, it allows you to have a more stable flow of services.
 
 
 Compliance Consulting & Support
 Aramco CCC Compliance and Consultancy
 Are you a part of the Aramco supply chain? Then you will be required to enforce and evidence that you are in accordance with the Aramco Cybersecurity Compliance Certificate.
 We can help you through the entire process.
 
 Your business with Aramco is on the line
 The Saudi Aramco Third Party Cybersecurity Standard (SACS-002) is a set of requirements that vendors need to comply with to do business with Saudi Aramco. The goal of the standard is to protect Saudi Aramcos critical assets and information from cyber-attacks.
 
 To qualify for the Cybersecurity Compliance Certificate (CCC), businesses like yours have to meet an extensive number of business critical requirements. You are required to evaluate your ICT infrastructure, identify any major security issues, fix your major security problems (in accordance with best practices), and submit an evidence based report which confirms that your organization maintains sufficient security practices. Determining best practices, and selecting the right measures to implement is part science and part fine art.
 
 
 Taking Your First Steps
 If you are feeling intimidated by cybersecurity compliance, you arent alone! Many of our clients felt the same way before we simplified the process for them.
 
 Clear Objective
 You can receive the compliance certificate just like them. We can help you with our simple, step-by-step process of making sure your business fulfills all the requirements. 
 
 Professional Attitude
 When we work with you, we help craft a refined, evidence based, tested and augmented security program, in line with compliance requirements and global best practices.
 
 
 Save Time
 Theres no need to worry if you dont have the time or resources to get your Aramco CCC. Our consultation service provides you with all the essential cybersecurity controls that you need to get your CCC. No independent research or wasted time required!
 
 Quality Work, Quality Results
 When you work with us, your project gets our undivided attention! The goal is compliance with Aramcos guidelines and the implementation of best practices, so we will put in the work necessary to get you there. Our motto is quality, reliability, trust and cost effectiveness!
 
 No More Guessing!
 Weve helped several clients just like you, so we know what Aramco is looking for. You will know exactly what you need to do to qualify for the Aramco certificate.By sharing this information, we raise your cybersecurity awareness and your compliance standards.
 
 
 Getting the CCC is as easy as 1,2,3
 1. Devise a strategy.
 Contact us via email or phone so we can evaluate your needs and come up with a plan to help you achieve compliance!
 2. Prepare Required Evidence and Paperwork.
 Work with us to ensure you have everything you need to submit your report to the auditor.
 3. Get your certificate.
 email for consultation
 
 
 We are Committed to Helping
 You Become Compliant
 We understand how confusing the compliance process can be for owners of small and mid-sized businesses. Maybe you dont have time to research the requirements because youre busy running your business. Maybe you understand the requirements, but cant quite figure out what area of your current infrastructure needs to be refined. Or you can identify the area that needs fixing, but dont know how to fix it.
 Whatever situation you are in, you deserve clarity. You deserve answers. We are here to provide them to you. We understand the requirements. We can identify what your infrastructure is missing. We can also help you make the necessary changes to meet Aramcos standards, as we have done so time and time again.
 Last year, we helped 15 clients get the certificate. Now, its your turn!
 free discovery call
 
 
 Managed IT Support
 Efficiency, uptime and productivity for your team
 Keeping your team working optimally, by taking proactive ownership and management for your technology.
 
 Which challenges are you looking to overcome?
 
 Lacking Automation?
 Providing a quality service, on a budget, while upholding client demands stretches teams thin.
 
 Hidden Costs?
 Do you often find yourself left in the dark until the last minute, confused by vague pricing?
 
 Adopting New Tech?
 Are you struggling to keep your business relevant with the latest technological trends?
 
 Poor Intergration?
 Are you struggling to integrate effectively between different applications?
 
 Evolving your business through technology
 
 Taking Responsibility
 We are always here for when things go wrong, but importantly, we are also proactively working behind the scenes to maintain performance, while mitigating risks and downtime.
 
 Work Smarter, Not Harder
 By better leveraging the technology tools at your disposal, we can help you to maximize your operational workflow efficiency, team productivity and commercial agility.
 
 Strategically-Aligned Technology
 We get to know your business operations, your people and your workflow requirements. Insight, which permits us the ability to better tailor technology around the way that you work.
 
 Predictable & Competitive IT Costs
 By bringing all of your IT under one umbrella, combined with our industry buying power and forward planning & budgeting, you will feel at ease with predictable technology costs.
 
 Outsource the pain, 
 reap the business rewards
 Discover how outsourcing the burden your technology to Inifigence, can give you the freedom to work on developing the future of your business.
 
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 
 Solve IT Problems & Questions
 As IT is such an integral part of modern businesses; the interruption, downtime or failing to fully utilize technology to the fullest of its abilities, are costs that you should work hard to avoid.
 
 You not only deserve access to technical support that's fast and reliable to keep your systems working optimally, but expert educational advice and best practices that keep your team productive too. 
 No longer should IT be a necessary evil for your business, an inflexible cost that fails to evidence its return on investment. Any technology investment that you make, should be a strategic one; an advancement that delivers real operational and commercial benefits to your business' workflow, supported by a partner that truly understands the needs at-hand within your teams.
 
 Strategic View
 
 
 Forward-Thinking Advice
 As you are busy running your business, tackling day-to-date matters and focusing on your growth - it can be difficult to maintain pace with forever advancing technology. You should instead benefit from a partner that's plugged-in to the developments within your company; a partner that will surface improvements, new apps and services, which will be of benefit and add value to your business.
 Want to boost productivity and workforce collaboration? Then let us create a unique shared workspace. With the all-rounder productivity suite, Microsoft 365, you can gain easy access to emails, contacts, tasks and calendars  completely streamlining the way you work. Team members and external users can communicate over audio, video, or instant chats  all using one platform.
 
 Share files and folders using drives and clouds, creating a central hub for all file sharing. Not just that, you also get your very own enterprise email with a 50 GB storage along with an antivirus to keep your data and systems secure.
 Remote Monitoring & Management (RMM)
 Outdated technology and equipment can significantly limit your productivity and leave you in the past. Whether its from freezing or error messages, Microsoft claims that businesses lose around 1.8 billion dollars every year.
 
 We offer an innovative Remote Monitoring and Management tool that ensuring every part of your IT system is upgraded and running smoothly. Youll get instant upgrades and updates, improved security, an enhanced end-user experience and tonnes more.
 Network Monitoring & Management
 
 With modern businesses completely reliant on IT systems and needing round-the-clock support, our network monitoring experts are on standby to cater to your every need.
 
 Whether you need emergency patchwork or are caught in a massive IT crisis, we ease the stress by resolving them in real-time. The next your IT system has a breakdown, well provide support to all people and all devices connected to your network for effective results.
 IT Security & Compliance
 Any information exchanged through your IT network may be susceptible to breach or a virus attack. Thats why Infinigence Consulting offers triple security (network, endpoint & email) to cover all the possible gateways of attack  before they strike. We help you keep an eye on everything from emails to unauthorized access so that you can sleep worry-free at night, knowing that your company is in safe hands
 Backup & Disaster Recovery
 
 Backup and Disaster Recovery are two of the most crucial components of a layered IT security strategy. About 94% of the companies that suffer from catastrophic data breaches do not survive, while 51% close within two years.
 
 Infinigence Consulting offers a fully managed backup and disaster recovery solution specifically designed to protect your business. We provide a smart and disaster-focused strategy, real-time monitoring, backup testing and validation, instant recovery, and end-to-end encryption to safeguard your business from unwarranted attention.
 VCIO
 Are you interested in making your business more scalable and profitable? Infinigence Consulting provides you your own virtual Chief Information Officer, utilizing his expertise to align your IT objectives with your business goals  helping you take the right initiatives and create a brighter future for your business.
 
 Without strategic IT consulting, you may end up making the wrong move. Your virtual CIO will take care of your entire IT infrastructure and the complexities that come with it while devising cost-appropriate IT strategies to help gain the competitive advantage.
 Vendor Management
 
 Vendor management is crucial in providing your strategic source department with a firm and non-collapsing structure that tackles any surprises with confidence.
 
 Our expertise at Infinigence Consulting helps you avoid duplicative IT services, uncontrolled IT price changes, non-compliance issues, missed prospects to leverage spend and more. We ensure a smooth ride that leads to infinite growth.
 Domain & DNS Management
 In todays online market, Domain & DNS management can be game-changing. You need to make sure that you are always live and ready to serve your customers.
 
 We help automate your domains, close security gaps, improve website availability and enhance performance. While most MSPs promote one DNS server, we recommend two or more to help prepare for the unforeseen redundancies.
 
 IT Solutions
 All aspects of your IT project taken care of
 Whether you're moving premises, expanding your business or need to modernize your technology, we have you covered.
 
 Evolving your business through technology
 
 Strategic Planning
 Gone are the days of needing to change your working practices to suit technology, we work with you to understand your workflow requirements, ahead of tailoring technology as a best-fit around you.
 
 Security-first Mindset
 In our heavily digitized age, anything and everything relating to technology must have cyber security defences, policies and processes woven-in from the ground up.
 
 Business-led Consultancy
 Confusing technical jargon and acronyms are safely set aside from the conversations that we have with you. We focus on the core business demands, and serve you with only clear and focused options.
 
 Skills and Expertise
 Proudly combining years of hands-on skill, with professional certification and partnerships, we carry the technical competencies to provide you the peace of mind that you're in good hands.
 
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 
 Digital Transformation
 Leverage the most from your resources by fully harnessing the power of technology to take the strain. The reliability and consistency that IT-based systems can bring, will help you to maximise effienciency and drive profit. From automating repetitive admin processes, integrating disparate systems together as one, to gathering and presenting data; IT is the single biggest key to deliver transformational capabilities - giving your business a digital dexterity.
 If your business is moving premises, or is restructuring the way that you work, there will inevitably be a requirement for an IT change or installation. You demand a trusted partner that can be by your side from planning & advice, through to hands-on execution - you have many other responsibilities to contend with, your IT partner should deliver a stres-free move by taking care of anything & everything IT-related.
 
 Moves & Changes
 
 
 Disaster Planning & Continuity
 Following the challenges thrown at business over recent months and years, it has never been a more critical time to plan and consider a wide variety of challenges that may unexpectedly arise - finding a tangible solution to mitigate threats, and keep your team functioning optimally, following any disaster. You require the broad thinking of a partner that has seen it all and can, with confidence, provide you with a robust plan.
 
 IT Consulting & vCIO
 Proper strategic IT planning is crucial; one slight mistake and your business could come crippling down. IT Consultation services help find a cost-effective answer to IT-related fixes that are becoming pricier by the year. Not all businesses have enough resources to invest in their IT sector. In fact, Fortune 100 companies bear the costs of more than $100 billion annually caused due to multiple IT-related problems.
 
 At Infinigence Consulting, we assign you your very own virtual Chief Information Officer who overlooks your entire IT infrastructure. Keeping your short-term and long-term business goals in mind, we devise a cost-efficient IT strategy for your business while managing and guiding your IT operations  without all the added costs. We also signify the importance of IT stack review to ensure that all the IT security and compliance requirements are being met.
 Network Design & Upgrade
 
 Concrete network infrastructures lie at the heart of modern communication. No matter how effective your IT infrastructure is, it will only bring results when it aligns perfectly with your business objectives.
 
 Infinigence Consulting offers you high-power network design, deployment procedures and support to help you step up your business game. We find the best Wi-Fi solutions to provide you smooth, faster access to the Internet that also covers multiple sites/campuses. We also help you locate the best servers and hardware to promote maximum growth. From network design and wireless infrastructures to feasibility analysis and maintenance, Infinigence Consulting is your one-stop-shop that meets all your technology and networking needs.
 Workstation & Server Upgrade
 On average, businesses are advised to replace their workstations and servers every 3-5 years. Although the upgrades can be painful due to the downtime and upgrade costs, businesses need to take preemptive measures to avoid negatively impacting their performance and security.
 
 Infinigence Consulting provides on-site surveys that allow us to accurately assess your servers, desktops, and equipment to prepare cost-efficient plans for your business. Our Technical Consultants work tirelessly to ensure that you are not overcharged and receive the upgrades required to provide smooth operations.
 
 Virtualization
 
 Most SMBs are only utilizing 40-60% of their hardware resources, which leads to excessive costs in the long run. We believe that if a business can have faster Desktop and Server Provisioning and Deployment, Small Footprint and Energy Saving, and witness improvement in Data Security and Disaster Recovery, then why shouldnt they switch to virtualization? 94% of companies that suffer catastrophic data loss burn themselves out within two years. Thats why Infinigence Consulting is here to provide you cost-efficient Virtualization IT Solutions to aid your business.
 
 Wireless Network
 Businesses that can implement reliable and secure wireless networks can scale up faster across their companies. It has become an integral part of the entire customer experience from airports to restaurants.
 
 Thats why Infinigence Consulting provides specialized services of Wireless Network installations for businesses to gain secure network access and help scalability as the business expands. From designing to testing and maintenance, our team ensures your wireless connection is as reliable and consistent as possible!
 Wireless Point-to-Point
 
 Do you have offices at multiple locations and are unable to get connectivity at each place? To ensure maximum productivity, you need to make sure your communication is strong across all channels.
 
 We provide Wireless Point-to-Point connections that can establish a solid network connection between two or more locations. It is a lot more cost-effective than leased lines. Furthermore, Wireless Point-to-Point connections cost you less in the long run. In events of critical network failures, you can request a disaster recovery link as a backup to continue your operations.
 Back Up, Disaster Recovery
 Lets be honest. It is not easy to create regular backups of all your data  especially when you are so focused on taking your business forward. According to cybersecurity experts, you are advised to back up all your vital data every 24 hours to prevent losses. Network failures are incredibly volatile and unpredictable in nature; therefore, you always need to remain prepared.
 
 Another threat is the lack of proper cybersecurity preps. In 2017, almost 61% of businesses reported an attack due to a weakness in their cybersecurity.
 
 Infinigence Consulting provides a dedicated and focused plan for your business after extensively studying its significance of data integrity and the frequency of data backups. These dedicated plans help businesses remain prepared at all times. With us, you will always have a plan B (and plan C) in place just in case a disaster strikes!
 IT Procurement
 
 Getting your own IT equipment may seem like an easy task, but in reality, its far harder. One wrong selection and suddenly, you have an overpriced system that does not work for your business. You may end up throwing in more money and time than imagined.
 
 With extensive expertise in the IT and technology industry, we know exactly what hardware, software and equipment your business needs to prosper. We look beyond the primary purchases and focus on the integrations to ensure your newly-bought equipment aligns well with your business goals and drives maximal productivity.
 Structured Cabling
 We know that your entire business is heavily reliant on reliable network infrastructure. That is why we provide all-inclusive structured cabling services for your business. From designing, installations, testing and implementation, we build your entire cabling infrastructure, including data cabling, audio/video and voice cabling, security systems, fiber optic cabling, VoIP systems, LAN cabling and network wirings.
 
 When you have a bullet-proof infrastructure in place, there is no room for unexpected downtimes and network failures  saving you money and lost time.
 IT Relocation Services
 
 Office moves and renovations can be extremely daunting to manage with the consistent load of regular business tasks. And moving your entire IT infrastructure is a different story altogether. You wouldnt attempt to move the furniture yourself, so why would you try to move your entire IT infrastructure?
 
 Infinigence Consulting can help you swiftly and reliably relocate your entire IT setup to a new location, ensuring your moving doesnt interfere with your work schedule.
 
 Insights
 Our Latest Insights and Updates
 Stay up-to-date with the latest insights and case studies that will help you revamp your business and scale up your operations.
 
 Security Solutions
 Robust cyber protection to fortify your data
 Proactively delivering the three elements that are core to a comprehensive and mature cyber security posture: People, Process and Technical Defences.
 Which challenges are you looking to overcome?
 
 Training & Awareness?
 Do you have the confidence in your team to adequately identify and respond to threats?
 
 Policy & Process?
 Do you have robust and mature policies and processes for the safe handling of data?
 
 Defences?
 Are you confident with the capability and configuration of your technical defences?
 Evolving your cyber security posture
 
 User Awareness Training & Testing
 Your team members are the last line of defence against threats that may enter your network. We provide them with the training and insights they need to identify and react appropriately.
 
 Policies & Procedures
 From policies and processes of how your team should use IT, through to disaster management and continuity plans, we provide all of the documentation and support you need to be prepared.
 
 Cloud & Email Security
 With more and more valuable data residing within the cloud, we put robust security protocols in place to fortify your cloud.
 
 Managed Network Security
 We comprehensively configure, monitor and manage your network perimeter defences to best protect you from external threats.
 Achieve peace of mind for the protection of your data
 Learn the approach taken by our team at Infinigence to level-up your cyber posture and take strides to strongly defend what you value most.
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 
 Improve Cyber & Data Protection
 The data, and intellectual property, which we all hold within our businesses has never been worth more, nor has it been at greater risk, than ever before. If you do not have proven peace of mind where it comes to cyber security, which has been tested and proven; you deserve a comprehensive partner that will deliver a mature and 360 degree cyber security posture across the board.
 As you appreciate, technical tools such as firewalls, are only one part of a fortified IT network. By instilling a culture of cyber security among your team, building their awareness, and increasing their skills and confidence with identifying and tackling threats - you will build a stronger last line of defence against the wide variety of threats that your business faces today in this digital age.
 
 Training & Testing
 
 
 Cyber Compliance
 As digital threats pose the biggest risk to the sanctity of modern business, the regulatory compliance that you face as a business will only ever increase - and more specifically - increase with more stringent cyber security requirements. If you need to overcome the obligations placed upon your company by legislative bodies or industry regulators, you need a partner that can understand what you need to do to comply, and what that means from a technology standpoint.
 
 
 An Extensive Range of State-Of-The-Art Security Services
 Protecting your business in the digital world is crucial to grow and survive. With an evolving IT environment that includes BYOD, Internet of Things (IoT) and M2M Communication, productivity has multiplied, but so have the innumerable threats. Our experienced approach to IT security delivers smart and sophisticated access management and security software  providing you with the tools to fight off threats.
 
 Safeguarding Your Network From Malicious Threats
 
 Every 39 seconds, a computer is hacked. That can result in crucial company data, customer records and even money being stolen. There can be no coming back. Thankfully, our Managed Security Services (MSS) and concrete firewall solutions create an impenetrable network barrier.
 
 Our use of next-generation firewalls helps fully identify the source of the threat and automatically limit access to your business  preventing your entire system from collapsing. Our dedicated team ensures your business receives up-to-date policing and efficient clean up when threats arrive.
 Protection Against Viruses and Malware
 Do you know that you could be responsible for a data breach at your own company? About 95% of all data breaches identify human error as a contributing factor. You may lose more than 20% of your revenue due to a data breach.
 
 Our end-point security solutions help safeguard access to your company network from remote devices such as mobiles, tablets and laptops. With beasts like Sophos and Bitdefender, your protection against a rootkit, malware, ransomware and other viruses is guaranteed.
 Protection Against Viruses and Malware
 Do you know that you could be responsible for a data breach at your own company? About 95% of all data breaches identify human error as a contributing factor. You may lose more than 20% of your revenue due to a data breach.
 
 Our end-point security solutions help safeguard access to your company network from remote devices such as mobiles, tablets and laptops. With beasts like Sophos and Bitdefender, your protection against a rootkit, malware, ransomware and other viruses is guaranteed.
 Security Awareness Training
 
 Block Access to Dangerous Websites
 
 DNS Filtering is an all-in-one solution that prevents users from accessing fishy websites, phishing, ransomware, malware, malicious content and BEC.
 
 By opting for DNS filtering, youll receive real-time updates and reports of DNS activity on your network helping you stay in complete control. With enterprise-grade protection and effective filtering for online users, you can be a part of the secure online world where phishing, ransomware and other infections are neutralized before they occur.
 
 Cloud & Remote Working
 Bring flexibility and agility to your team with the Cloud
 Work from anywhere, at anytime, with the power of Cloud-based software apps, data storage and tools.
 Which challenges are you looking to overcome?
 
 Improved Remote Working?
 Is working away from the office proving a challenge? Lacking access to data and services?
 
 Controlling IT Costs?
 Would you like to get a grip on spiralling IT costs and achieve more budget predictability?
 
 Security Concerns?
 Do you have specific compliance needs or is your legacy IT failing to protect your data?
 
 Improve Productivity?
 Are there opportunities to streamline your workflow and improve your team's output?
 Evolving your business through technology
 
 Collaboration
 Your team can be empowered to work better together - while literally working from anywhere, at any time. The Cloud breaks down barriers of communication and collaboration by effortlessly bringing together teams within one web-based workspace.
 
 Flexible Pricing
 Gone are the days of large-scale capital expenditure on IT projects, the Cloud shifts IT spend from capital to operational expenditure - while bending and flexing to the scaling and changing needs of your business from month-to-month
 
 Flexibility and Scalability
 To meet increases and decreases in demand from the business, your Cloud Services may be flexibly adjusted in scale - by user licenses or resources - effortlessly as and when you require.
 
 Security Driven
 Protecting your data, meeting compliance requirements and maintaining continuity of business - in the event of a disaster - are all core fundamentals to professional Cloud Services.
 Serving the needs of your business
 Your business requirements, whether operational, commercial or technical - can be taken care of by the Infinigence team. With over 10 years of practical experience in supporting businesses just like yours, we are well placed to deliver the technology solutions you need to practical business demands.
 
 
 Enhance our Remote Working
 The ability to work anywhere, at any time, is an absolute must have for any modern and progressive business, with agility, flexibility and commercial advantage, as just some of the benefits that your business can reap from an effective remote working solution. This requirement does however pose some challenges; speed and ease of access must be sustained for all team members, without compromising security and procedure.
 By leveraging Cloud technology, you can achieve far greater levels of integration between the apps, tech tools and services that you use, and with that improved connectivity, benefit from the possibilities of automating many of the manual admin processes in place today. 
 
 Drive Integration & Automation
 
 
 Replace Outdated Technology
 If you need to modernize your IT infrastructure, the Cloud is the cost-effective, technically capable solution to replace on-premise servers, transition locally-hosted applications to hosted alternatives, and securely store your various types of files, folders and databases. Instead of periodic large-scale capital investments, you can achieve flexible and accessible alternative services in the Cloud. You need a consultative partner that understands your business requirements, who will map the most appropriate Cloud servies for your needs.
 The Cloud solutions your business demands
 Cloud Solutions make digital collaboration and remote working simple. But like all things IT, its crucial that your chosen cloud solution has enhanced security protocols, disaster recovery and slick ease of accessibility.
 
 From startups to multi-divisional corporate networks, we deliver secure, cost-effective cloud solutions tailored to your needs.
 Cloud Migration
 Cloud Backup
 Cloud File Server
 Centralized Signature Management
 Content Delivery Network (CDN)
 Collocation & Dedicated Servers
 Virtual Private Servers (VPS)
 
 
 Software Solutions
 Reach New Heights with Unique Software Solutions!
 Our unique software solutions can help you reach unthinkable heights  with maximum ROI within a short period.
 With the rise in software developers across the globe, the competition to provide the best services is fiercer than ever!
 
 At Infinigence Consulting, we focus on providing unique solutions. Thats why weve partnered up with a number of renowned and well-reputed manufacturers that provide software solutions to aid your business management tasks. We offer complete packages  from the licensing requirements to the integration  allowing you to focus on what you do best!	
 Zoho Books
 The majority of businesses agree that finding an appropriate and user-friendly accounting software solution is one of their biggest struggles.
 
 However, with Zoho Books, your problems might finally have a solution. With end-to-end accounting aiding you in negotiating deals until invoicing, Zoho Books provides you a highly collaborative platform that can be integrated with ease and allows you to channel your entire focus on your business.
 Veeam Backup
 Youd be surprised to learn that companies are advised to back up all their crucial data every 3 -6 hours to safeguard the continuity of their operations. How often do you back up your data? A network disaster or system failure is most likely to hit you when you are least prepared, causing colossal damage. At Infinigence Consulting, we realize the importance of your businesss data and bring forth this powerful software solution renowned for delivering exactly what it claims.
 
 Due to its quality of premium services, Veeam Backup is currently one of the industry-leaders in the Backup & Replication Software area. It caters to ALL your cloud, virtual, and physical workload needs. Furthermore, with its clean and consistent user interface, the software guarantees a pleasing experience with the added help of a simple-by-design management console.
 PDF-XChange Editor
 You may already know that Adobe Acrobat is one of the best PDF software available. But what if we told you that there is an option that can provide all of this and more with premium-quality customer support at a significantly reduced price?
 
 PDF-XChange Editor is the answer to your search for an appropriate, reliable, and scalable alternative of the common PDF solutions. Its lightweight, efficient, and dynamic features allow you to scale your work with enhanced efficiency.
 VMWare ESXI
 With the quality of its services and the cutting-edge software solutions it has brought forth, VMWare needs no extra validation regarding its reputation. To aid the IT management sector of the businesses, VMWare has introduced VMWare ESXI that is a bare-metal hypervisor, which helps your cause for consistent upgrades in IT resources. With extended IT administrative controls and state-of-the-art security of virtual machines, ESXI shows why it is one of the leading products to streamline your IT operations.
 Malwarebytes
 Did you know that since 2015, IT companies have been receiving threats of unusual kinds from over 200 million unique URLs quarterly? These numbers specifically emphasize on the fact that malware reciprocation and attacks are getting stronger as the technology is advancing. Knowing how valuable data is to your business, Infinigence Consulting uses Malwarebytes to free you from malware-protection concerns.
 Microsoft Products (Office/Servers/Windows)
 Have you been in search of a one-stop shop to get your hands on the latest Microsoft products and their licenses? Well, Infinigence Consulting, has got you covered. With a densely populated list of Microsoft products, ranging from Office 365 to the officially licensed Microsoft Windows 10, and Windows Server we provide every essential tool and more.
 Duo
 Did you know that every 1 in 4 organizations is likely to witness a breach in security if its cyber-security is sub-par? Since 2013, there have been a total number of 3.8 million records stolen every single day in the event of a cyber-attack(s). Considering these staggering stats, Infinigence Consulting brings forth an iron-clad software solution to help you ensure safe communications.
 
 In this age of digital freedom and extensive access to worldwide information, the emphasis on security is one of the defining factors of a businesss integrity and reputation. With Duo, your business will receive an unbreachable layer of security that will ensure safe communications across all networks.
 `,s=await Da.fromTemplate("You're a helpful, polite and professional chatbot for a software company named Infinigence, which provides     services and all details are below about the company and services we provide.     Based on the {chat_history} you will give one message answer to the user's query. The questions users ask you, you can answer according to information given in {data}. You can ignore     irrelevant questions. If someone wants to book a meeting then give them this link, give them     this link where they can book a meeting with me: http://calendly.com/whateverismyid.    Current conversation:    {chat_history}").pipe(e).invoke({data:t,chat_history:n.map(o=>o.message).join(` 
 `)});return console.log(s.content),s.content};function rce(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!1),i=tce({mutationFn:()=>nce(n),onSuccess:o=>e(a=>[...a,{sender:"ai",message:o.replace(/^\n\n/,"")}])});return me(ro,{children:t?nt("div",{className:"fixed z-10 right-10 bottom-10 bg-slate-800 border border-violet-900 rounded-xl max-w-[27%] h-[70%] text-white overflow-hidden flex flex-col justify-between align-middle transition-transform duration-1000 ease-in-out transform translate-y-0",children:[nt("div",{className:"w-full bg-slate-900 border border-violet-900 flex items-center justify-between text-lg text-center py-2 px-4",children:[me("h3",{children:"How can I help you?"}),me("div",{className:" text-xl px-4 py-2 rounded bg-blue-950 font-bold text-[#915eff] cursor-pointer",onClick:()=>r(!t),children:"X"})]}),me("div",{className:`h-[70%] overflow-auto w-[28vw] min-w-[20rem] py-8 px-4 self-center\r
      scrollbar-thumb-slate-400 scrollbar-thin scrollbar-track-gray-transparent scrollbar-thumb-rounded-md\r
      `,children:me(Mue,{chat:n})}),me("div",{className:"w-full border border-violet-900 rounded-lg min-w-[20rem] self-center",children:me(Eue,{sendMessage:async o=>{await Promise.resolve(e(a=>[...a,o])),i.mutate()},loading:i.isLoading})})]}):me("div",{onClick:()=>r(!0),className:"z-10 fixed right-10 bottom-10 w-16 h-16 p-2 bg-slate-900 rounded-full flex justify-center items-center cursor-pointer transform translate-y-0 transition-transform duration-1000 ease-in-out hover:translate-y-[-5px]",children:me("img",{src:"../../public/chatbot.png",alt:"chatbot"})})})}const ice=new que,sce=document.getElementById("root"),oce=s6.createRoot(sce);oce.render(me(kr.StrictMode,{children:nt(ro,{children:[me($ue,{client:ice,children:me(rce,{})}),me(fue,{})]})}));export{Zle as B,Da as P,Kle as c,wL as r};
